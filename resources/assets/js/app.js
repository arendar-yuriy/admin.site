function processSelectedFile(t,e){$("#"+e).val(t),$("#img-"+e).attr("src",$("#base_img_url").val()+t),$("#full_img_url").val($("#base_img_url").val()+t),$(".crop-modal-"+e).show(),$(".remove-image-"+e).show()}if(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,C,k,_,T,S,D,M,A,E,N,O,P,I,L,$,H,F,z,j,R,W,Y,U,B,q,X,V,K=[].slice,Q={}.hasOwnProperty,G=function(t,e){function n(){this.constructor=t}for(var i in e)Q.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Z=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(w={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},M=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,b=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(t){return setTimeout(t,50)},b=function(t){return clearTimeout(t)}),O=function(t){var e,n;return e=M(),(n=function(){var i;return i=M()-e,i>=33?(e=M(),t(i,function(){return E(n)})):setTimeout(n,33-i)})()},N=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?K.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},x=function(){var t,e,n,i,o,r,s;for(e=arguments[0],i=2<=arguments.length?K.call(arguments,1):[],r=0,s=i.length;s>r;r++)if(n=i[r])for(t in n)Q.call(n,t)&&(o=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=o&&"object"==typeof o?x(e[t],o):e[t]=o);return e},g=function(t){var e,n,i,o,r;for(n=e=0,o=0,r=t.length;r>o;o++)i=t[o],n+=Math.abs(i),e++;return n/e},k=function(t,e){var n,i,o;if(null==t&&(t="options"),null==e&&(e=!0),o=document.querySelector("[data-pace-"+t+"]")){if(n=o.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(r){return i=r,"undefined"!=typeof console&&null!==console,void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,n,i){var o;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(o=this.bindings)[t]&&(o[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,o;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,o=[];n<this.bindings[t].length;)o.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return o}},t.prototype.trigger=function(){var t,e,n,i,o,r,s,a,l;if(n=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(o=0,l=[];o<this.bindings[n].length;)a=this.bindings[n][o],i=a.handler,e=a.ctx,r=a.once,i.apply(null!=e?e:this,t),l.push(r?this.bindings[n].splice(o,1):o++);return l}},t}(),c=window.Pace||{},window.Pace=c,x(c,s.prototype),A=c.options=x({},w,window.paceOptions,k()),q=["ajax","document","eventLag","elements"],W=0,U=q.length;U>W;W++)$=q[W],A[$]===!0&&(A[$]=w[$]);l=function(t){function e(){return X=e.__super__.constructor.apply(this,arguments)}return G(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(A.target),!t)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,o,r,s;if(null==document.querySelector(A.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",s=["webkitTransform","msTransform","transform"],o=0,r=s.length;r>o;o++)e=s[o],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,o,r,s;if(null!=this.bindings[t]){for(r=this.bindings[t],s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push(n.call(this,e));return s}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),R=window.XMLHttpRequest,j=window.XDomainRequest,z=window.WebSocket,C=function(t,e){var n,i,o;o=[];for(i in e.prototype)try{o.push(null==t[i]&&"function"!=typeof e[i]?"function"==typeof Object.defineProperty?Object.defineProperty(t,i,{get:function(){return e.prototype[i]},configurable:!0,enumerable:!0}):t[i]=e.prototype[i]:void 0)}catch(r){n=r}return o},S=[],c.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],S.unshift("ignore"),n=e.apply(null,t),S.shift(),n},c.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],S.unshift("track"),n=e.apply(null,t),S.shift(),n},L=function(t){var e;if(null==t&&(t="GET"),"track"===S[0])return"force";if(!S.length&&A.ajax){if("socket"===t&&A.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),Z.call(A.ajax.trackMethods,e)>=0)return!0}return!1},u=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,o){return L(i)&&n.trigger("request",{type:i,url:o,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new R(e),t(n),n};try{C(window.XMLHttpRequest,R)}catch(i){}if(null!=j){window.XDomainRequest=function(){var e;return e=new j,t(e),e};try{C(window.XDomainRequest,j)}catch(i){}}if(null!=z&&A.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new z(t,e):new z(t),L("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{C(window.WebSocket,z)}catch(i){}}}return G(e,t),e}(a),Y=null,_=function(){return null==Y&&(Y=new u),Y},I=function(t){var e,n,i,o;for(o=A.ajax.ignoreURLs,n=0,i=o.length;i>n;n++)if(e=o[n],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},_().on("request",function(e){var n,i,o,r,s;return r=e.type,o=e.request,s=e.url,I(s)?void 0:c.running||A.restartOnRequestAfter===!1&&"force"!==L(r)?void 0:(i=arguments,n=A.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,s,a,l,u;if(e="socket"===r?o.readyState<2:0<(a=o.readyState)&&4>a){for(c.restart(),l=c.sources,u=[],n=0,s=l.length;s>n;n++){if($=l[n],$ instanceof t){$.watch.apply($,i);break}u.push(void 0)}return u}},n))}),t=function(){function t(){var t=this;this.elements=[],_().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,o;return i=t.type,e=t.request,o=t.url,I(o)?void 0:(n="socket"===i?new p(e):new f(e),this.elements.push(n))},t}(),f=function(){function t(t){var e,n,i,o,r,s,a=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2},!1),s=["load","abort","timeout","error"],i=0,o=s.length;o>i;i++)e=s[i],t.addEventListener(e,function(){return a.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return t}(),p=function(){function t(t){var e,n,i,o,r=this;for(this.progress=0,o=["error","open"],n=0,i=o.length;i>n;n++)e=o[n],t.addEventListener(e,function(){return r.progress=100},!1)}return t}(),i=function(){function t(t){var e,n,i,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),r=t.selectors,n=0,i=r.length;i>n;n++)e=r[n],this.elements.push(new o(e))}return t}(),o=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},A.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),r=function(){function t(){var t,e,n,i,o,r=this;this.progress=0,t=0,o=[],i=0,n=M(),e=setInterval(function(){var s;return s=M()-n-50,n=M(),o.push(s),o.length>A.eventLag.sampleCount&&o.shift(),t=g(o),++i>=A.eventLag.minSamples&&t<A.eventLag.lagThreshold?(r.progress=100,clearInterval(e)):r.progress=100*(3/(t+3))},50)}return t}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=A.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=N(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=N(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/A.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,A.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+A.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),H=null,P=null,v=null,F=null,m=null,y=null,c.running=!1,T=function(){return A.restartOnPushState?c.restart():void 0},null!=window.history.pushState&&(B=window.history.pushState,window.history.pushState=function(){return T(),B.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return T(),V.apply(window.history,arguments)}),h={ajax:t,elements:i,document:n,eventLag:r},(D=function(){var t,n,i,o,r,s,a,l;for(c.sources=H=[],s=["ajax","elements","document","eventLag"],n=0,o=s.length;o>n;n++)t=s[n],A[t]!==!1&&H.push(new h[t](A[t]));for(l=null!=(a=A.extraSources)?a:[],i=0,r=l.length;r>i;i++)$=l[i],H.push(new $(A));return c.bar=v=new e,P=[],F=new d})(),c.stop=function(){return c.trigger("stop"),c.running=!1,v.destroy(),y=!0,null!=m&&("function"==typeof b&&b(m),m=null),D()},c.restart=function(){return c.trigger("restart"),c.stop(),c.start()},c.go=function(){var t;return c.running=!0,v.render(),t=M(),y=!1,m=O(function(e,n){var i,o,r,s,a,l,u,h,p,f,m,g,b,w,x,C;for(h=100-v.progress,o=m=0,r=!0,l=g=0,w=H.length;w>g;l=++g)for($=H[l],f=null!=P[l]?P[l]:P[l]=[],a=null!=(C=$.elements)?C:[$],u=b=0,x=a.length;x>b;u=++b)s=a[u],p=null!=f[u]?f[u]:f[u]=new d(s),r&=p.done,p.done||(o++,m+=p.tick(e));return i=m/o,v.update(F.tick(e,i)),v.done()||r||y?(v.update(100),c.trigger("done"),setTimeout(function(){return v.finish(),c.running=!1,c.trigger("hide")},Math.max(A.ghostTime,Math.max(A.minTime-(M()-t),0)))):n()})},c.start=function(t){x(A,t),c.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(c.trigger("start"),c.go()):setTimeout(c.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return c}):"object"==typeof exports?module.exports=c:A.startOnPageLoad&&c.start()}.call(this),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=J.type(t);return"function"!==n&&!J.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t,e,n){if(J.isFunction(e))return J.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return J.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(at.test(e))return J.filter(e,t,n);e=J.filter(e,t)}return J.grep(t,function(t){return q.call(e,t)>=0!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=ft[t]={};return J.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function s(){G.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),J.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+a.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(wt,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:bt.test(n)?J.parseJSON(n):n)}catch(o){}yt.set(t,e,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function h(){try{return G.activeElement}catch(t){}}function d(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=$t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,i=t.length;i>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function g(t,e){var n,i,o,r,s,a,l,c;if(1===e.nodeType){if(vt.hasData(t)&&(r=vt.access(t),s=vt.set(e,r),c=r.events)){delete s.handle,s.events={};for(o in c)for(n=0,i=c[o].length;i>n;n++)J.event.add(e,o,c[o][n])}yt.hasData(t)&&(a=yt.access(t),l=J.extend({},a),yt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,o=J(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:J.css(o[0],"display");return o.detach(),r}function w(t){var e=G,n=jt[t];return n||(n=b(t,e),"none"!==n&&n||(zt=(zt||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=zt[0].contentDocument,e.write(),e.close(),n=b(t,e),zt.detach()),jt[t]=n),n}function x(t,e,n){var i,o,r,s,a=t.style;return n=n||Yt(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||J.contains(t.ownerDocument,t)||(s=J.style(t,e)),Wt.test(s)&&Rt.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,o=Kt.length;o--;)if(e=Kt[o]+n,e in t)return e;return i}function _(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function T(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=J.css(t,n+Ct[r],!0,o)),i?("content"===n&&(s-=J.css(t,"padding"+Ct[r],!0,o)),"margin"!==n&&(s-=J.css(t,"border"+Ct[r]+"Width",!0,o))):(s+=J.css(t,"padding"+Ct[r],!0,o),"padding"!==n&&(s+=J.css(t,"border"+Ct[r]+"Width",!0,o)));return s}function S(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Yt(t),s="border-box"===J.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=x(t,e,r),(0>o||null==o)&&(o=t.style[e]),Wt.test(o))return o;i=s&&(Q.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+T(t,e,n||(s?"border":"content"),i,r)+"px"}function D(t,e){for(var n,i,o,r=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(r[s]=vt.get(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&kt(i)&&(r[s]=vt.access(i,"olddisplay",w(i.nodeName)))):(o=kt(i),"none"===n&&o||vt.set(i,"olddisplay",o?n:J.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function M(t,e,n,i,o){return new M.prototype.init(t,e,n,i,o)}function A(){return setTimeout(function(){Qt=void 0}),Qt=J.now()}function E(t,e){var n,i=0,o={height:t};for(e=e?1:0;4>i;i+=2-e)n=Ct[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function N(t,e,n){for(var i,o=(ne[e]||[]).concat(ne["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,e,t))return i}function O(t,e,n){var i,o,r,s,a,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&kt(t),m=vt.get(t,"fxshow");n.queue||(a=J._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,J.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=J.css(t,"display"),u="none"===c?vt.get(t,"olddisplay")||w(t.nodeName):c,"inline"===u&&"none"===J.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Zt.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||J.style(t,i)}else c=void 0;if(J.isEmptyObject(d))"inline"===("none"===c?w(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=vt.access(t,"fxshow",{}),r&&(m.hidden=!f),f?J(t).show():h.done(function(){J(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in d)J.style(t,e,d[e])});for(i in d)s=N(f?m[i]:0,i,h),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function P(t,e){var n,i,o,r,s;for(n in t)if(i=J.camelCase(n),o=e[i],r=t[n],J.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),s=J.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function I(t,e,n){var i,o,r=0,s=ee.length,a=J.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Qt||A(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,n]),1>r&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Qt||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=J.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(P(u,c.opts.specialEasing);s>r;r++)if(i=ee[r].call(c,t,u,c.opts))return i;return J.map(u,N,c),J.isFunction(c.opts.start)&&c.opts.start.call(t,c),J.fx.timer(J.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(pt)||[];if(J.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function $(t,e,n,i){function o(a){var l;return r[a]=!0,J.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=t===be;return o(e.dataTypes[0])||!r["*"]&&o("*")}function H(t,e){var n,i,o=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&J.extend(!0,t,i),t}function F(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function z(t,e,n,i){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function j(t,e,n,i){var o;if(J.isArray(e))J.each(e,function(e,o){n||_e.test(t)?i(t,o):j(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==J.type(e))i(t,e);else for(o in e)j(t+"["+o+"]",e[o],n,i)}function R(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W=[],Y=W.slice,U=W.concat,B=W.push,q=W.indexOf,X={},V=X.toString,K=X.hasOwnProperty,Q={},G=t.document,Z="2.1.4",J=function(t,e){return new J.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:Z,constructor:J,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Y.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:W.sort,splice:W.splice},J.extend=J.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||J.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(J.isPlainObject(i)||(o=J.isArray(i)))?(o?(o=!1,r=n&&J.isArray(n)?n:[]):r=n&&J.isPlainObject(n)?n:{},s[e]=J.extend(c,r,i)):void 0!==i&&(s[e]=i));return s},J.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===J.type(t)&&!t.nodeType&&!J.isWindow(t)&&!(t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[V.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=J.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,s=t.length,a=n(t);if(i){if(a)for(;s>r&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?J.merge(i,"string"==typeof t?[t]:t):B.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,s=t.length,a=!n;s>r;r++)i=!e(t[r],r),i!==a&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,s=t.length,a=n(t),l=[];if(a)for(;s>r;r++)o=e(t[r],r,i),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&l.push(o);return U.apply([],l)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(i=Y.call(arguments,2),o=function(){return t.apply(e||this,i.concat(Y.call(arguments)))},o.guid=t.guid=t.guid||J.guid++,o):void 0},now:Date.now,support:Q}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var ot=function(t){function e(t,e,n,i){var o,r,s,a,l,c,h,p,f,m;if((e?e.ownerDocument||e:j)!==O&&N(e),e=e||O,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&I){if(11!==a&&(o=yt.exec(t)))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&F(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&x.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(x.qsa&&(!L||!L.test(t))){if(p=h=z,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=T(t),(h=e.getAttribute("id"))?p=h.replace(wt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=bt.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[z]=!0,t}function o(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=W++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,c=[R,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(l=e[z]||(e[z]={}),(a=l[i])&&a[0]===R&&a[1]===r)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;r>o;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!n||n(r,i,o))&&(s.push(r),c&&e.push(a));return s}function v(t,e,n,o,r,s){return o&&!o[z]&&(o=v(o)),r&&!r[z]&&(r=v(r,s)),i(function(i,s,a,l){var c,u,h,d=[],p=[],f=s.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:g(v,d,t,a,l),b=n?r||(i?t:f||o)?[]:s:y;if(n&&n(y,b,a,l),o)for(c=g(b,p),o(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(i){if(r||t){if(r){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);r(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=r?tt(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=g(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,n,i,o=t.length,r=C.relative[t[0].type],s=r||C.relative[" "],a=r?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,i){var o=!r&&(i||n!==M)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];o>a;a++)if(n=C.relative[t[a].type])u=[p(f(u),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[z]){for(i=++a;o>i&&!C.relative[t[i].type];i++);return v(a>1&&f(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(t.slice(a,i)),o>i&&y(t=t.slice(i)),o>i&&d(t))}u.push(n)}return f(u)}function b(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,l,c){var u,h,d,p=0,f="0",m=i&&[],v=[],y=M,b=i||r&&C.find.TAG("*",c),w=R+=null==y?1:Math.random()||.1,x=b.length;for(c&&(M=s!==O&&s);f!==x&&null!=(u=b[f]);f++){if(r&&u){for(h=0;d=t[h++];)if(d(u,s,a)){l.push(u);break}c&&(R=w)}o&&((u=!d&&u)&&p--,i&&m.push(u))}if(p+=f,o&&f!==p){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(l));v=g(v)}Z.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(R=w,M=y),m};return o?i(s):s}var w,x,C,k,_,T,S,D,M,A,E,N,O,P,I,L,$,H,F,z="sizzle"+1*new Date,j=t.document,R=0,W=0,Y=n(),U=n(),B=n(),q=function(t,e){return t===e&&(E=!0),0},X=1<<31,V={}.hasOwnProperty,K=[],Q=K.pop,G=K.push,Z=K.push,J=K.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=it.replace("w","w#"),rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320);
},kt=function(){N()};try{Z.apply(K=J.call(j.childNodes),j.childNodes),K[j.childNodes.length].nodeType}catch(_t){Z={apply:K.length?function(t,e){G.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,P=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),I=!_(i),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName),x.getById=o(function(t){return P.appendChild(t).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=x.getElementsByClassName&&function(t,e){return I?e.getElementsByClassName(t):void 0},$=[],L=[],(x.qsa=vt.test(i.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=vt.test(H=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){x.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),$.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),$=$.length&&new RegExp($.join("|")),e=vt.test(P.compareDocumentPosition),F=e||vt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===j&&F(j,t)?-1:e===i||e.ownerDocument===j&&F(j,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,o=0,r=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!r||!a)return t===i?-1:e===i?1:r?-1:a?1:A?tt(A,t)-tt(A,e):0;if(r===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===j?-1:c[o]===j?1:0},i):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&N(t),n=n.replace(ht,"='$1']"),!(!x.matchesSelector||!I||$&&$.test(n)||L&&L.test(n)))try{var i=H.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&N(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&N(t);var n=C.attrHandle[e.toLowerCase()],i=n&&V.call(C.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:x.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(E=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(q),E){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return A=null,t},k=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[z]||(g[z]={}),c=u[t]||[],p=c[0]===R&&c[1],d=c[0]===R&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[R,p,d];break}}else if(y&&(c=(e[z]||(e[z]={}))[t])&&c[0]===R)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[z]||(h[z]={}))[t]=[R,d]),h!==e)););return d-=o,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var o,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[z]?r(n):r.length>1?(o=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)i=tt(t,o[s]),t[i]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(lt,"$1"));return o[z]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(xt,Ct),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Ct).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,T=e.tokenize=function(t,n){var i,o,r,s,a,l,c,u=U[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=C.preFilter;a;){(!i||(o=ct.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ut.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(lt," ")}),a=a.slice(i.length));for(s in C.filter)!(o=ft[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=B[t+" "];if(!r){for(e||(e=T(t)),n=e.length;n--;)r=y(e[n]),r[z]?i.push(r):o.push(r);r=B(t,b(o,i)),r.selector=t}return r},D=e.select=function(t,e,n,i){var o,r,s,a,l,c="function"==typeof t&&t,h=!i&&T(t=c.selector||t);if(n=n||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===e.nodeType&&I&&C.relative[r[1].type]){if(e=(C.find.ID(s.matches[0].replace(xt,Ct),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(xt,Ct),bt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&d(r),!t)return Z.apply(n,i),n;break}}return(c||S(t,h))(i,e,!I,n,bt.test(t)&&u(e.parentNode)||e),n},x.sortStable=z.split("").sort(q).join("")===z,x.detectDuplicates=!!E,N(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);J.find=ot,J.expr=ot.selectors,J.expr[":"]=J.expr.pseudos,J.unique=ot.uniqueSort,J.text=ot.getText,J.isXMLDoc=ot.isXML,J.contains=ot.contains;var rt=J.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?J.find.matchesSelector(i,t)?[i]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;n>e;e++)if(J.contains(o[e],this))return!0}));for(e=0;n>e;e++)J.find(t,o[e],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&rt.test(t)?J(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=J.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),st.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=G.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))};ut.prototype=J.fn,lt=J(G);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&J(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=rt.test(t)||"string"!=typeof t?J(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?J.unique(r):r)},index:function(t){return t?"string"==typeof t?q.call(J(t),this[0]):q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(n,i){var o=J.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=J.filter(i,o)),this.length>1&&(dt[t]||J.unique(o),ht.test(t)&&o.reverse()),this.pushStack(o)}});var pt=/\S+/g,ft={};J.Callbacks=function(t){t="string"==typeof t?ft[t]||r(t):J.extend({},t);var e,n,i,o,s,a,l=[],c=!t.once&&[],u=function(r){for(e=t.memory&&r,n=!0,a=o||0,o=0,s=l.length,i=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function r(e){J.each(e,function(e,n){var i=J.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),i?s=l.length:e&&(o=n,u(e))}return this},remove:function(){return l&&J.each(arguments,function(t,e){for(var n;(n=J.inArray(e,l,n))>-1;)l.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?J.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],i?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(n){J.each(e,function(e,r){var s=J.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,i):i}},o={};return i.pipe=i.then,J.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=Y.call(arguments),s=r.length,a=1!==s||t&&J.isFunction(t.promise)?s:0,l=1===a?t:J.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?Y.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&J.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,e)):--a;return a||l.resolveWith(i,r),l.promise()}});var mt;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(t===!0?--J.readyWait:J.isReady)||(J.isReady=!0,t!==!0&&--J.readyWait>0||(mt.resolveWith(G,[J]),J.fn.triggerHandler&&(J(G).triggerHandler("ready"),J(G).off("ready"))))}}),J.ready.promise=function(e){return mt||(mt=J.Deferred(),"complete"===G.readyState?setTimeout(J.ready):(G.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),mt.promise(e)},J.ready.promise();var gt=J.access=function(t,e,n,i,o,r,s){var a=0,l=t.length,c=null==n;if("object"===J.type(n)){o=!0;for(a in n)J.access(t,e,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,J.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(J(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:c?e.call(t):l?e(t[0],n):r};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=J.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(J.isEmptyObject(r))J.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,J.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=this.key(t),s=this.cache[r];if(void 0===e)this.cache[r]={};else{J.isArray(e)?i=e.concat(e.map(J.camelCase)):(o=J.camelCase(e),e in s?i=[e,o]:(i=o,i=i in s?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;J.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),J.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=yt.get(r),1===r.nodeType&&!vt.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),l(r,i,o[i])));vt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){yt.set(this,t)}):gt(this,function(e){var n,i=J.camelCase(t);if(r&&void 0===e){if(n=yt.get(r,t),void 0!==n)return n;if(n=yt.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,i);yt.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),J.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=vt.get(t,e),n&&(!i||J.isArray(n)?i=vt.access(t,e,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),i=n.length,o=n.shift(),r=J._queueHooks(t,e),s=function(){J.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:J.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):void 0===e?this:this.each(function(){var n=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=J.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=vt.get(r[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],kt=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},_t=/^(?:checkbox|radio)$/i;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Q.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";Q.focusinBubbles="onfocusin"in t;var St=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,p,f,m,g=vt.get(t);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),n.guid||(n.guid=J.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return typeof J!==Tt&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],c=e.length;c--;)a=At.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(h=J.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=J.event.special[p]||{},u=J.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:f.join(".")},r),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,u):d.push(u),J.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,p,f,m,g=vt.hasData(t)&&vt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(pt)||[""],c=e.length;c--;)if(a=At.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=J.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)u=d[r],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||J.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)J.event.remove(t,p+e[c],n,i,!0);J.isEmptyObject(l)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,c,u,h,d=[i||G],p=K.call(e,"type")?e.type:e,f=K.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Mt.test(p+J.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[J.expando]?e:new J.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:J.makeArray(n,[e]),h=J.event.special[p]||{},o||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!o&&!h.noBubble&&!J.isWindow(i)){for(l=h.delegateType||p,Mt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||G)&&d.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||p,u=(vt.get(s,"events")||{})[e.type]&&vt.get(s,"handle"),u&&u.apply(s,n),u=c&&s[c],u&&u.apply&&J.acceptData(s)&&(e.result=u.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!J.acceptData(i)||c&&J.isFunction(i[p])&&!J.isWindow(i)&&(a=i[c],a&&(i[c]=null),J.event.triggered=p,i[p](),J.event.triggered=void 0,a&&(i[c]=a)),e.result}},dispatch:function(t){t=J.event.fix(t);var e,n,i,o,r,s=[],a=Y.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],c=J.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=J.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((J.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)r=e[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?J(o,this).index(l)>=0:J.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,i=n.documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Dt.test(o)?this.mouseHooks:St.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new J.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?J.event.trigger(o,null,e):J.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:u):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!J.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),Q.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=vt.access(i,e);o||i.addEventListener(t,n,!0),vt.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=vt.access(i,e)-1;o?vt.access(i,e,o):(i.removeEventListener(t,n,!0),vt.remove(i,e))}}}),J.fn.extend({on:function(t,e,n,i,o){var r,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=u;else if(!i)return this;return 1===o&&(r=i,i=function(t){return J().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=J.guid++)),this.each(function(){J.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,J(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){
for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=u),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Nt=/<([\w:]+)/,Ot=/<|&#?\w+;/,Pt=/<(?:script|style|link)/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,J.extend({clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),l=J.contains(t.ownerDocument,t);if(!(Q.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(s=v(a),r=v(t),i=0,o=r.length;o>i;i++)y(r[i],s[i]);if(e)if(n)for(r=r||v(t),s=s||v(a),i=0,o=r.length;o>i;i++)g(r[i],s[i]);else g(t,a);return s=v(a,"script"),s.length>0&&m(s,!l&&v(t,"script")),a},buildFragment:function(t,e,n,i){for(var o,r,s,a,l,c,u=e.createDocumentFragment(),h=[],d=0,p=t.length;p>d;d++)if(o=t[d],o||0===o)if("object"===J.type(o))J.merge(h,o.nodeType?[o]:o);else if(Ot.test(o)){for(r=r||u.appendChild(e.createElement("div")),s=(Nt.exec(o)||["",""])[1].toLowerCase(),a=Ft[s]||Ft._default,r.innerHTML=a[1]+o.replace(Et,"<$1></$2>")+a[2],c=a[0];c--;)r=r.lastChild;J.merge(h,r.childNodes),r=u.firstChild,r.textContent=""}else h.push(e.createTextNode(o));for(u.textContent="",d=0;o=h[d++];)if((!i||-1===J.inArray(o,i))&&(l=J.contains(o.ownerDocument,o),r=v(u.appendChild(o),"script"),l&&m(r),n))for(c=0;o=r[c++];)Lt.test(o.type||"")&&n.push(o);return u},cleanData:function(t){for(var e,n,i,o,r=J.event.special,s=0;void 0!==(n=t[s]);s++){if(J.acceptData(n)&&(o=n[vt.expando],o&&(e=vt.cache[o]))){if(e.events)for(i in e.events)r[i]?J.event.remove(n,i):J.removeEvent(n,i,e.handle);vt.cache[o]&&delete vt.cache[o]}delete yt.cache[n[yt.expando]]}}}),J.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?J.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!Ft[(Nt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Et,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(J.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var n,i,o,r,s,a,l=0,c=this.length,u=this,h=c-1,d=t[0],m=J.isFunction(d);if(m||c>1&&"string"==typeof d&&!Q.checkClone&&It.test(d))return this.each(function(n){var i=u.eq(n);m&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(n=J.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(o=J.map(v(n,"script"),p),r=o.length;c>l;l++)s=n,l!==h&&(s=J.clone(s,!0,!0),r&&J.merge(o,v(s,"script"))),e.call(this[l],s,l);if(r)for(a=o[o.length-1].ownerDocument,J.map(o,f),l=0;r>l;l++)s=o[l],Lt.test(s.type||"")&&!vt.access(s,"globalEval")&&J.contains(a,s)&&(s.src?J._evalUrl&&J._evalUrl(s.src):J.globalEval(s.textContent.replace(Ht,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var n,i=[],o=J(t),r=o.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),J(o[s])[e](n),B.apply(i,n.get());return this.pushStack(i)}});var zt,jt={},Rt=/^margin/,Wt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Yt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(s,null);n="1%"!==e.top,i="4px"===e.width,o.removeChild(r)}var n,i,o=G.documentElement,r=G.createElement("div"),s=G.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),t.getComputedStyle&&J.extend(Q,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(G.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(n,null).marginRight),o.removeChild(r),s.removeChild(n),e}}))}(),J.swap=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o};var Ut=/^(none|table(?!-c[ea]).+)/,Bt=new RegExp("^("+xt+")(.*)$","i"),qt=new RegExp("^([+-])=("+xt+")","i"),Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=J.camelCase(e),l=t.style;return e=J.cssProps[a]||(J.cssProps[a]=k(l,a)),s=J.cssHooks[e]||J.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:l[e]:(r=typeof n,"string"===r&&(o=qt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(J.css(t,e)),r="number"),void(null!=n&&n===n&&("number"!==r||J.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var o,r,s,a=J.camelCase(e);return e=J.cssProps[a]||(J.cssProps[a]=k(t.style,a)),s=J.cssHooks[e]||J.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=x(t,e,i)),"normal"===o&&e in Vt&&(o=Vt[e]),""===n||n?(r=parseFloat(o),n===!0||J.isNumeric(r)?r||0:o):o}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,n,i){return n?Ut.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Xt,function(){return S(t,e,i)}):S(t,e,i):void 0},set:function(t,n,i){var o=i&&Yt(t);return _(t,n,i?T(t,e,i,"border-box"===J.css(t,"boxSizing",!1,o),o):0)}}}),J.cssHooks.marginRight=C(Q.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Ct[i]+e]=r[i]||r[i-2]||r[0];return o}},Rt.test(t)||(J.cssHooks[t+e].set=_)}),J.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var i,o,r={},s=0;if(J.isArray(e)){for(i=Yt(t),o=e.length;o>s;s++)r[e[s]]=J.css(t,e[s],!1,i);return r}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){kt(this)?J(this).show():J(this).hide()})}}),J.Tween=M,M.prototype={constructor:M,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(J.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.options.duration?this.pos=e=J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=M.prototype.init,J.fx.step={};var Qt,Gt,Zt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[O],ne={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Jt.exec(e),r=o&&o[3]||(J.cssNumber[t]?"":"px"),s=(J.cssNumber[t]||"px"!==r&&+i)&&Jt.exec(J.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,J.style(n.elem,t,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};J.Animation=J.extend(I,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),J.speed=function(t,e,n){var i=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(t,e,n,i){return this.filter(kt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=J.isEmptyObject(t),r=J.speed(e,n,i),s=function(){var e=I(this,J.extend({},t),r);(o||vt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=J.timers,s=vt.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&te.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));(e||!n)&&J.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=J.timers,s=i?i.length:0;for(n.finish=!0,J.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(t,e){var n=J.fn[e];J.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(E(e,!0),t,i,o)}}),J.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Qt=J.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Qt=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Gt||(Gt=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Gt),Gt=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",Q.checkOn=""!==t.value,Q.optSelected=n.selected,e.disabled=!0,Q.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",Q.radioValue="t"===t.value}();var ie,oe,re=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return gt(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Tt?J.prop(t,e,n):(1===r&&J.isXMLDoc(t)||(e=e.toLowerCase(),i=J.attrHooks[e]||(J.expr.match.bool.test(e)?oe:ie)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=J.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(pt);if(r&&1===t.nodeType)for(;n=r[o++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Q.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),oe={set:function(t,e,n){return e===!1?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var n=re[e]||J.find.attr;re[e]=function(t,e,i){var o,r;return i||(r=re[e],re[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,re[e]=r),o}});var se=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return gt(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return r=1!==s||!J.isXMLDoc(t),r&&(e=J.propFix[e]||e,o=J.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Q.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,i,o,r,s,a="string"==typeof t&&t,l=0,c=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=J.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,o,r,s,a=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=t?J.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(J.isFunction(t)?function(n){J(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,o=J(this),r=t.match(pt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===Tt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;J.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=J.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,J(this).val()):t,null==o?o="":"number"==typeof o?o+="":J.isArray(o)&&(o=J.map(o,function(t){return null==t?"":t+""})),e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=J.valHooks[o.type]||J.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(le,""):null==n?"":n)):void 0}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(Q.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=J.makeArray(e),s=o.length;s--;)i=o[s],(i.selected=J.inArray(i.value,r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}},Q.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ce=J.now(),ue=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,me=/^(?:GET|HEAD)$/,ge=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},we="*/".concat("*"),xe=t.location.href,Ce=ve.exec(xe.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:fe.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":we,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,J.ajaxSettings),e):H(J.ajaxSettings,t)},ajaxPrefilter:L(ye),ajaxTransport:L(be),ajax:function(t,e){function n(t,e,n,s){var l,u,v,y,w,C=e;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,r=s||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=F(h,x,n)),y=z(h,y,x,l),l?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(J.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(J.etag[o]=w)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=y.state,u=y.data,v=y.error,l=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",l?f.resolveWith(d,[u,C,x]):f.rejectWith(d,[x,C,v]),x.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?u:v]),m.fireWith(d,[x,C]),c&&(p.trigger("ajaxComplete",[x,h]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,s,a,l,c,u,h=J.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?J(d):J.event,f=J.Deferred(),m=J.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=pe.exec(r);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||xe)+"").replace(he,"").replace(ge,Ce[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=J.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(l=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===Ce[1]&&l[2]===Ce[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=J.param(h.data,h.traditional)),$(ye,h,e,x),2===b)return x;c=J.event&&h.global,c&&0===J.active++&&J.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!me.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ue.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=de.test(o)?o.replace(de,"$1_="+ce++):o+(ue.test(o)?"&":"?")+"_="+ce++)),h.ifModified&&(J.lastModified[o]&&x.setRequestHeader("If-Modified-Since",J.lastModified[o]),J.etag[o]&&x.setRequestHeader("If-None-Match",J.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+we+"; q=0.01":""):h.accepts["*"]);for(u in h.headers)x.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](h[u]);if(i=$(be,h,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,i.send(v,n)}catch(C){if(!(2>b))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,n,i,o){return J.isFunction(n)&&(o=o||i,i=n,n=void 0),J.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))}:function(){var e=J(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(n){J(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var ke=/%20/g,_e=/\[\]$/,Te=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,i=[],o=function(t,e){e=J.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){o(this.name,this.value)});else for(n in t)j(n,t[n],e,o);return i.join("&").replace(ke,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&De.test(this.nodeName)&&!Se.test(t)&&(this.checked||!_t.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Me=0,Ae={},Ee={0:200,1223:204},Ne=J.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ae)Ae[t]()}),Q.cors=!!Ne&&"withCredentials"in Ne,Q.ajax=Ne=!!Ne,J.ajaxTransport(function(t){var e;return Q.cors||Ne&&!t.crossDomain?{send:function(n,i){var o,r=t.xhr(),s=++Me;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)r.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(delete Ae[s],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?i(r.status,r.statusText):i(Ee[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Ae[s]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Oe=[],Pe=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oe.pop()||J.expando+"_"+ce++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,s,a=e.jsonp!==!1&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Pe,"$1"+o):e.jsonp!==!1&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||J.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Oe.push(o)),s&&J.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var i=st.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=J.buildFragment([t],e,o),o&&o.length&&J(o).remove(),J.merge([],i.childNodes))};var Ie=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>=0&&(i=J.trim(t.slice(a)),t=t.slice(0,a)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&J.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?J("<div>").append(J.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Le=t.document.documentElement;J.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,c,u=J.css(t,"position"),h=J(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),r=J.css(t,"top"),l=J.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=h.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),J.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):h.css(d)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?(e=r.documentElement,J.contains(e,i)?(typeof i.getBoundingClientRect!==Tt&&(o=i.getBoundingClientRect()),n=R(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(i=t.offset()),i.top+=J.css(t[0],"borderTopWidth",!0),i.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-J.css(n,"marginTop",!0),left:e.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Le;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||Le})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;J.fn[e]=function(o){return gt(this,function(e,o,r){var s=R(e);return void 0===r?s?s[n]:e[o]:void(s?s.scrollTo(i?t.pageXOffset:r,i?r:t.pageYOffset):e[o]=r)},e,o,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=C(Q.pixelPosition,function(t,n){return n?(n=x(t,e),Wt.test(n)?J(t).position()[e]+"px":n):void 0})}),J.each({Height:"height",
Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){J.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return gt(this,function(e,n,i){var o;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?J.css(e,n,s):J.style(e,n,i,s)},e,r?i:void 0,r,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var $e=t.jQuery,He=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=He),e&&t.jQuery===J&&(t.jQuery=$e),J},typeof e===Tt&&(t.jQuery=t.$=J),J}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();n.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.5",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),s=r.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](i):s.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>f.bottom?"top":"top"==a&&u.top-d<f.top?"bottom":"right"==a&&u.right+h>f.width?"left":"left"==a&&u.left-h<f.left?"right":a,r.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(m,a);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-o+l:2*u.top-r+c,p=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){
return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(t-i>=o+s)&&"bottom";var a=null==this.affixed,l=a?o:r.top,c=a?s:e;return null!=n&&n>=o?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-",n=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=c(),o=i._rgba=[];return n=n.toLowerCase(),f(l,function(t,r){var s,a=r.re.exec(n),l=a&&r.parse(a),c=r.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],o=i._rgba=s._rgba,!1):e}),o.length?("0,0,0,0"===o.join()&&t.extend(o,r.transparent),i):r[n]}function o(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(o,s,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var h=this,d=t.type(o),p=this._rgba=[];return s!==e&&(o=[o,s,a,l],d="array"),"string"===d?this.parse(i(o)||r._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=n(o[e.idx],e)}),this):"object"===d?(o instanceof c?f(u,function(t,e){o[e.cache]&&(h[e.cache]=o[e.cache].slice())}):f(u,function(e,i){var r=i.cache;f(i.props,function(t,e){if(!h[r]&&i.to){if("alpha"===t||null==o[t])return;h[r]=i.to(h._rgba)}h[r][e.idx]=n(o[t],e,!0)}),h[r]&&0>t.inArray(null,h[r].slice(0,3))&&(h[r][3]=1,i.from&&(h._rgba=i.from(h[r])))}),this):e},is:function(t){var n=c(t),i=!0,o=this;return f(u,function(t,r){var s,a=n[r.cache];return a&&(s=o[r.cache]||r.to&&r.to(o._rgba)||[],f(r.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),o=i._space(),r=u[o],s=0===this.alpha()?c("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return i=i[r.cache],f(r.props,function(t,o){var r=o.idx,s=a[r],c=i[r],u=h[o.type]||{};null!==c&&(null===s?l[r]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[r]=n((c-s)*e+s,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*o[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(i,o,r),l=Math.min(i,o,r),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(o-r)/c+360:o===a?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},f(u,function(i,o){var r=o.props,s=o.cache,l=o.to,u=o.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var o,a=t.type(i),h="array"===a||"object"===a?i:arguments,d=this[s].slice();return f(r,function(t,e){var i=h["object"===a?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),u?(o=c(u(d)),o[s]=d,o):c(d)},f(r,function(e,n){c.fn[e]||(c.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=t.type(o)),null==o&&n.empty?this:("string"===s&&(r=a.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),c[n.idx]=o,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=i(o)))){if(o=c(r||o),!d.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[n]=o}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function e(e){var n,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)n=o[i],"string"==typeof o[n]&&(r[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}function i(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(n.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,r,s,a){var l=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),r=function(){t.each(o,function(t,e){n[e]&&s[e+"Class"](n[e])})},r(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,o,r){return i?t.effects.animateClass.call(this,{add:n},i,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,r,s){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,r)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,r){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}})}(),function(){function n(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),t.isFunction(i)&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.2",save:function(t,n){for(var i=0;n.length>i;i++)null!==n[i]&&t.data(e+n[i],t[0].style[n[i]])},restore:function(t,n){var i,o;for(o=0;n.length>o;o++)null!==n[o]&&(i=t.data(e+n[o]),void 0===i&&(i=""),t.css(n[o],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,o){return o=o||{},t.each(n,function(t,n){var r=e.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])}),o}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),n()):s.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,r=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):r===!1?this.each(e):this.queue(r||"fx",e)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var o=n.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,n){var i,o,r,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),h=e.direction||"up",d=a.test(h),p=d?"height":"width",f=d?"top":"left",m=l.test(h),g={},v="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),c):t.effects.save(s,c),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),o=i[p](),r=parseFloat(i.css(f))||0,g[p]=v?o:0,m||(s.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(i.css(p,0),m||i.css(f,r+o)),i.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,c),t.effects.removeWrapper(s),n()}})},t.effects.effect.bounce=function(e,n){var i,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),c="hide"===l,u="show"===l,h=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||c?1:0),m=e.duration/f,g=e.easing,v="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,b=s.queue(),w=b.length;for((u||c)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,y?2*-d:2*d).animate(r,m,g)),c&&(d/=Math.pow(2,p-1)),r={},r[v]=0,i=0;p>i;i++)o={},o[v]=(y?"-=":"+=")+d,s.animate(o,m,g).animate(r,m,g),d=c?2*d:d/2;c&&(o={opacity:0},o[v]=(y?"-=":"+=")+d,s.animate(o,m,g)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()},t.effects.effect.clip=function(e,n){var i,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),c="show"===l,u=e.direction||"vertical",h="vertical"===u,d=h?"height":"width",p=h?"top":"left",f={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?i:s,r=o[d](),c&&(o.css(d,0),o.css(p,r/2)),f[d]=c?r:0,f[p]=c?0:r/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.drop=function(e,n){var i,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(o,e.mode||"hide"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),i=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-i:i),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+i,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),n()}})},t.effects.effect.explode=function(e,n){function i(){b.push(this),b.length===h*d&&o()}function o(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),n()}var r,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/h),b=[];for(r=0;h>r;r++)for(l=g.top+r*y,u=r-(h-1)/2,s=0;d>s;s++)a=g.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},e.duration||500,e.easing,i)},t.effects.effect.fade=function(e,n){var i=t(this),o=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,o,r=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),l="show"===a,c="hide"===a,u=e.size||15,h=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(r,s),r.show(),i=t.effects.createWrapper(r).css({overflow:"hidden"}),o=p?[i.width(),i.height()]:[i.height(),i.width()],h&&(u=parseInt(h[1],10)/100*o[c?0:1]),l&&i.css(d?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?o[0]:u,v[f[1]]=l?o[1]:0,i.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===r&&(s.opacity=0),t.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&i.hide(),t.effects.restore(i,o),n()}})},t.effects.effect.size=function(e,n){var i,o,r,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(s,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===p?(s.from=e.to||b,s.to=e.from||i):(s.from=e.from||("show"===p?b:i),s.to=e.to||("hide"===p?b:i)),r={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},("box"===m||"both"===m)&&(r.from.y!==r.to.y&&(y=y.concat(h),s.from=t.effects.setTransition(s,h,r.from.y,s.from),s.to=t.effects.setTransition(s,h,r.to.y,s.to)),r.from.x!==r.to.x&&(y=y.concat(d),s.from=t.effects.setTransition(s,d,r.from.x,s.from),s.to=t.effects.setTransition(s,d,r.to.x,s.to))),("content"===m||"both"===m)&&r.from.y!==r.to.y&&(y=y.concat(u).concat(c),s.from=t.effects.setTransition(s,u,r.from.y,s.from),s.to=t.effects.setTransition(s,u,r.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(o=t.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*o.y,s.from.left=(i.outerWidth-s.outerWidth())*o.x,s.to.top=(i.outerHeight-s.to.outerHeight)*o.y,s.to.left=(i.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(d),s.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};f&&t.effects.save(n,c),n.from={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},n.to={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x},r.from.y!==r.to.y&&(n.from=t.effects.setTransition(n,h,r.from.y,n.from),n.to=t.effects.setTransition(n,h,r.to.y,n.to)),r.from.x!==r.to.x&&(n.from=t.effects.setTransition(n,d,r.from.x,n.from),n.to=t.effects.setTransition(n,d,r.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){f&&t.effects.restore(n,c)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),t.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),o=t?s.to.left:s.to.top;return"auto"===n?o+"px":i+o+"px"})})),t.effects.removeWrapper(s),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",l=e.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=n,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),i.effect(o)},t.effects.effect.puff=function(e,n){var i=t(this),o=t.effects.setMode(i,e.mode||"hide"),r="hide"===o,s=parseInt(e.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:n,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,o=t(this),r=t.effects.setMode(o,e.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,c=2*(e.times||5)+(l?1:0),u=e.duration/c,h=0,d=o.queue(),p=d.length;for((s||!o.is(":visible"))&&(o.css("opacity",0).show(),h=1),i=1;c>i;i++)o.animate({opacity:h},u,e.easing),h=1-h;o.animate({opacity:h},u,e.easing),o.queue(function(){a&&o.hide(),n()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),o.dequeue()},t.effects.effect.shake=function(e,n){var i,o=t(this),r=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),y=v.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,o.animate(f,h,e.easing),i=1;c>i;i++)o.animate(m,h,e.easing).animate(g,h,e.easing);o.animate(m,h,e.easing).animate(f,h/2,e.easing).queue(function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),o.dequeue()},t.effects.effect.slide=function(e,n){var i,o=t(this),r=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(o,e.mode||"show"),a="show"===s,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};t.effects.save(o,r),o.show(),i=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(i)?"-"+i:-i:i),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+i,o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),n()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,r=o.name,!(!e.href||!r||"map"!==o.nodeName.toLowerCase())&&(s=t("img[usemap='#"+r+"']")[0],!!s&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),o=isNaN(i);return(o||i>=0)&&e(n,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight
};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(r,i(this,e)+"px")})},t.fn["outer"+n]=function(e,o){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(r,i(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;r.length>o;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}};var i=0,o=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=t._data(o,"events"),i&&i.remove&&t(o).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,s,a,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,r=o.call(arguments,1),s=0,a=r.length;a>s;s++)for(n in r[s])i=r[s][n],r[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=o.call(arguments,1),l=this;return r=!s&&a.length?t.widget.extend.apply(null,[r].concat(a)):r,s?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(l=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;i.length-1>r;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,s){function a(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):n.bind(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget;var r=!1;t(document).mouseup(function(){r=!1}),t.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),r=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.draggable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),o=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options,r=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),n=t(o.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var o=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n,i){var o=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,n,i){t.each(i.sortables,function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,r.currentItem=n.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return n.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",e),i.dropped=r.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(e),n.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var o=t("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,n,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,n,i){var o=i.options;o._opacity&&t(n.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var o=i.options,r=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var o,r,s,a,l,c,u,h,d,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,c=l+i.snapElements[d].width,u=i.snapElements[d].top-i.margins.top,h=u+i.snapElements[d].height,l-m>v||g>c+m||u-m>b||y>h+m||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(o=m>=Math.abs(u-b),r=m>=Math.abs(h-y),s=m>=Math.abs(l-v),a=m>=Math.abs(c-g),o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=o||r||s||a,"outer"!==f.snapMode&&(o=m>=Math.abs(u-y),r=m>=Math.abs(h-b),s=m>=Math.abs(l-g),a=m>=Math.abs(c-v),o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),r&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(o||r||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=o||r||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var o,r=i.options,s=t.makeArray(t(r.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(o=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var o=t(n.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,n,i){var o=i.options;o._zIndex&&t(n.helper).css("zIndex",o._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{
offset:n.element.offset()}),n.options.tolerance,e)?(o=!0,!1):void 0}),!o&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,o){if(!n.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return r>=c&&h>=a&&s>=u&&d>=l;case"intersect":return r+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&d>l-e.helperProportions.height/2;case"pointer":return t(o.pageY,u,n.proportions().height)&&t(o.pageX,c,n.proportions().width);case"touch":return(s>=u&&d>=s||l>=u&&d>=l||u>s&&l>d)&&(r>=c&&h>=r||a>=c&&h>=a||c>r&&a>h);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;r.length>i;i++)if(!(r[i].options.disabled||e&&!r[i].accept.call(r[i].element[0],e.currentItem||e.element))){for(o=0;a.length>o;o++)if(a[o]===r[i].element[0]){r[i].proportions().height=0;continue t}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===s&&r[i]._activate.call(r[i],n),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,r,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),r.length&&(i=t(r[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0||(e[i]=1,o=e[i]>0,e[i]=0,o)},_create:function(){var e,n,i,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),r="ui-resizable-"+i,o=t("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===i&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(o);this._renderAxis=function(e){var n,i,o,r;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,o=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,i,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(n+=t(r.containment).scrollLeft()||0,i+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,o=this.originalMousePosition,r=this.axis,s=e.pageX-o.left||0,a=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,o,r,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),o=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,r=i?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,i=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),i>r.minHeight&&(r.minHeight=i),r.maxWidth>n&&(r.maxWidth=n),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(o[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,o,r,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:r,a=l._hasScroll(d)?d.scrollHeight:o,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,o,r,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):t.each(n.alsoResize,function(t){i(t)})},resize:function(e,n){var i=t(this).resizable("instance"),o=i.options,r=i.originalSize,s=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},l=function(e,i){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),r={},s=i&&i.length?i:e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(o[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,o=n.size,r=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((o.width-r.width)/c)*c,d=Math.round((o.height-r.height)/u)*u,p=r.width+h,f=r.height+d,m=i.maxWidth&&p>i.maxWidth,g=i.maxHeight&&f>i.maxHeight,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-h):((0>=f-u||0>=p-c)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-d):(f=u-e.height,n.size.height=f,n.position.top=s.top+r.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-h):(p=u-e.height,n.size.width=p,n.position.left=s.left+r.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,o=t.data(this,"selectable-item");return o?(i=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",e,{selecting:o.element}):n._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(n=a,a=r,r=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===o.tolerance?c=!(n.left>a||r>n.right||n.top>l||s>n.bottom):"fit"===o.tolerance&&(c=n.left>r&&a>n.right&&n.top>s&&l>n.bottom),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(i=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){
if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>r&&s>e+u,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>r&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!i&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,o,r,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(r=t(c[i]),o=r.length-1;o>=0;o--)s=t.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(o=t(d[n]),i=o.length-1;i>=0;i--)r=t.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,o,r,s,a,l,c,u,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,r=null,u=d.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),o>Math.abs(e[h]-l)&&(o=Math.abs(e[h]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;o.length>i;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(){"use strict";function t(t){function e(e,i){var r,m,g=e==window,v=i&&void 0!==i.message?i.message:void 0;if(i=t.extend({},t.blockUI.defaults,i||{}),!i.ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(i.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,i.overlayCSS||{}),r=t.extend({},t.blockUI.defaults.css,i.css||{}),i.onOverlayClick&&(i.overlayCSS.cursor="pointer"),m=t.extend({},t.blockUI.defaults.themedCSS,i.themedCSS||{}),v=void 0===v?i.message:v,g&&p&&n(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var y=v.jquery?v[0]:v,b={};t(e).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}t(e).data("blockUI.onUnblock",i.onUnblock);var w,x,C,k,_=i.baseZ;w=t(u||i.forceIframe?'<iframe class="blockUI" style="z-index:'+_++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+i.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),x=t(i.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+_++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+_++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),i.theme&&g?(k='<div class="blockUI '+i.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(_+10)+';display:none;position:fixed">',i.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):i.theme?(k='<div class="blockUI '+i.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(_+10)+';display:none;position:absolute">',i.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(i.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=g?'<div class="blockUI '+i.blockMsgClass+' blockPage" style="z-index:'+(_+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+i.blockMsgClass+' blockElement" style="z-index:'+(_+10)+';display:none;position:absolute"></div>',C=t(k),v&&(i.theme?(C.css(m),C.addClass("ui-widget-content")):C.css(r)),i.theme||x.css(i.overlayCSS),x.css("position",g?"fixed":"absolute"),(u||i.forceIframe)&&w.css("opacity",0);var T=[w,x,C],S=t(g?"body":e);t.each(T,function(){this.appendTo(S)}),i.theme&&i.draggable&&t.fn.draggable&&C.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var D=d&&(!t.support.boxModel||t("object,embed",g?null:e).length>0);if(h||D){if(g&&i.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(h||!t.support.boxModel)&&!g)var M=l(e,"borderTopWidth"),A=l(e,"borderLeftWidth"),E=M?"(0 - "+M+")":0,N=A?"(0 - "+A+")":0;t.each(T,function(t,e){var n=e[0].style;if(n.position="absolute",2>t)g?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+i.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),N&&n.setExpression("left",N),E&&n.setExpression("top",E);else if(i.centerY)g&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!i.centerY&&g){var o=i.css&&i.css.top?parseInt(i.css.top,10):0,r="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+o+') + "px"';n.setExpression("top",r)}})}if(v&&(i.theme?C.find(".ui-widget-content").append(v):C.append(v),(v.jquery||v.nodeType)&&t(v).show()),(u||i.forceIframe)&&i.showOverlay&&w.show(),i.fadeIn){var O=i.onBlock?i.onBlock:c,P=i.showOverlay&&!v?O:c,I=v?O:c;i.showOverlay&&x._fadeIn(i.fadeIn,P),v&&C._fadeIn(i.fadeIn,I)}else i.showOverlay&&x.show(),v&&C.show(),i.onBlock&&i.onBlock();if(o(1,e,i),g?(p=C[0],f=t(i.focusableElements,p),i.focusInput&&setTimeout(s,20)):a(C[0],i.centerX,i.centerY),i.timeout){var L=setTimeout(function(){g?t.unblockUI(i):t(e).unblock(i)},i.timeout);t(e).data("blockUI.timeout",L)}}}function n(e,n){var r,s=e==window,a=t(e),l=a.data("blockUI.history"),c=a.data("blockUI.timeout");c&&(clearTimeout(c),a.removeData("blockUI.timeout")),n=t.extend({},t.blockUI.defaults,n||{}),o(0,e,n),null===n.onUnblock&&(n.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock"));var u;u=s?t("body").children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),n.cursorReset&&(u.length>1&&(u[1].style.cursor=n.cursorReset),u.length>2&&(u[2].style.cursor=n.cursorReset)),s&&(p=f=null),n.fadeOut?(r=u.length,u.stop().fadeOut(n.fadeOut,function(){0===--r&&i(u,l,n,e)})):i(u,l,n,e)}function i(e,n,i,o){var r=t(o);if(!r.data("blockUI.isBlocked")){e.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.parent&&n.parent.appendChild(n.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(o,i);var s=t(document.body),a=s.width(),l=s[0].style.width;s.width(a-1).width(a),s[0].style.width=l}}function o(e,n,i){var o=n==window,s=t(n);if((e||(!o||p)&&(o||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),o&&i.bindEvents&&(!e||i.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(a,i,r):t(document).unbind(a,r)}}function r(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&p&&e.data.constrainTabKey){var n=f,i=!e.shiftKey&&e.target===n[n.length-1],o=e.shiftKey&&e.target===n[0];if(i||o)return setTimeout(function(){s(o)},10),!1}var r=e.data,a=t(e.target);return a.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(e),a.parents("div."+r.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function s(t){if(f){var e=f[t===!0?f.length-1:0];e&&e.focus()}}function a(t,e,n){var i=t.parentNode,o=t.style,r=(i.offsetWidth-t.offsetWidth)/2-l(i,"borderLeftWidth"),s=(i.offsetHeight-t.offsetHeight)/2-l(i,"borderTopWidth");e&&(o.left=r>0?r+"px":"0"),n&&(o.top=s>0?s+"px":"0")}function l(e,n){return parseInt(t.css(e,n),10)||0}t.fn._fadeIn=t.fn.fadeIn;var c=t.noop||function(){},u=/MSIE/.test(navigator.userAgent),h=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);document.documentMode||0;var d=t.isFunction(document.createElement("div").style.setExpression);t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){n(window,t)},t.growlUI=function(e,n,i,o){var r=t('<div class="growlUI"></div>');e&&r.append("<h1>"+e+"</h1>"),n&&r.append("<h2>"+n+"</h2>"),void 0===i&&(i=3e3);var s=function(e){e=e||{},t.blockUI({message:r,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:i,centerY:!1,showOverlay:!1,onUnblock:o,css:t.blockUI.defaults.growlCSS})};s(),r.css("opacity"),r.mouseover(function(){s({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(n){if(this[0]===window)return t.blockUI(n),this;var i=t.extend({},t.blockUI.defaults,n||{});return this.each(function(){var e=t(this);i.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,n)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){n(this,e)})},t.blockUI.version=2.66,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(),function(t,e){"use strict";function n(t){var e=Array.prototype.slice.call(arguments,1);return t.prop?t.prop.apply(t,e):t.attr.apply(t,e)}function i(t,e,n){var i,o;for(i in n)n.hasOwnProperty(i)&&(o=i.replace(/ |$/g,e.eventNamespace),t.bind(o,n[i]))}function o(t,e,n){i(t,n,{focus:function(){e.addClass(n.focusClass)},blur:function(){e.removeClass(n.focusClass),e.removeClass(n.activeClass)},mouseenter:function(){e.addClass(n.hoverClass)},mouseleave:function(){e.removeClass(n.hoverClass),e.removeClass(n.activeClass)},"mousedown touchbegin":function(){t.is(":disabled")||e.addClass(n.activeClass)},"mouseup touchend":function(){e.removeClass(n.activeClass)}})}function r(t,e){t.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass)}function s(t,e,n){n?t.addClass(e):t.removeClass(e)}function a(t,e,n){var i="checked",o=e.is(":"+i);e.prop?e.prop(i,o):o?e.attr(i,i):e.removeAttr(i),s(t,n.checkedClass,o)}function l(t,e,n){s(t,n.disabledClass,e.is(":disabled"))}function c(t,e,n){switch(n){case"after":return t.after(e),t.next();case"before":return t.before(e),t.prev();case"wrap":return t.wrap(e),t.parent()}return null}function u(e,i,o){var r,s,a;return o||(o={}),o=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},o),r=t("<div />"),s=t("<span />"),i.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&r.hide(),o.divClass&&r.addClass(o.divClass),i.wrapperClass&&r.addClass(i.wrapperClass),o.spanClass&&s.addClass(o.spanClass),a=n(e,"id"),i.useID&&a&&n(r,"id",i.idPrefix+"-"+a),o.spanHtml&&s.html(o.spanHtml),r=c(e,r,o.divWrap),s=c(e,s,o.spanWrap),l(r,e,i),{div:r,span:s}}function h(e,n){var i;return n.wrapperClass?(i=t("<span />").addClass(n.wrapperClass),i=c(e,i,"wrap")):null}function d(){var e,n,i,o;return o="rgb(120,2,153)",n=t('<div style="width:0;height:0;color:'+o+'">'),t("body").append(n),i=n.get(0),e=window.getComputedStyle?window.getComputedStyle(i,"").color:(i.currentStyle||i.style||{}).color,n.remove(),e.replace(/ /g,"")!==o}function p(e){return e?t("<span />").text(e).html():""}function f(){return navigator.cpuClass&&!navigator.product}function m(){return void 0!==window.XMLHttpRequest}function g(t){var e;return!!t[0].multiple||(e=n(t,"size"),!(!e||1>=e))}function v(){return!1}function y(t,e){var n="none";i(t,e,{"selectstart dragstart mousedown":v}),t.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function b(t,e,n){var i=t.val();""===i?i=n.fileDefaultHtml:(i=i.split(/[\/\\]+/),i=i[i.length-1]),e.text(i)}function w(t,e,n){var i,o;for(i=[],t.each(function(){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i.push({el:this,name:t,old:this.style[t]}),this.style[t]=e[t])}),n();i.length;)o=i.pop(),o.el.style[o.name]=o.old}function x(t,e){var n;n=t.parents(),n.push(t[0]),n=n.not(":visible"),w(n,{visibility:"hidden",display:"block",position:"absolute"},e)}function C(t,e){return function(){t.unwrap().unwrap().unbind(e.eventNamespace)}}var k=!0,_=!1,T=[{match:function(t){return t.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,e){var s,a,c,h,d;return a=e.submitDefaultHtml,t.is(":reset")&&(a=e.resetDefaultHtml),h=t.is("a, button")?function(){return t.html()||a}:function(){return p(n(t,"value"))||a},c=u(t,e,{divClass:e.buttonClass,spanHtml:h()}),s=c.div,o(t,s,e),d=!1,i(s,e,{"click touchend":function(){var e,i,o,r;d||t.is(":disabled")||(d=!0,t[0].dispatchEvent?(e=document.createEvent("MouseEvents"),e.initEvent("click",!0,!0),i=t[0].dispatchEvent(e),t.is("a")&&i&&(o=n(t,"target"),r=n(t,"href"),o&&"_self"!==o?window.open(r,o):document.location.href=r)):t.click(),d=!1)}}),y(s,e),{remove:function(){return s.after(t),s.remove(),t.unbind(e.eventNamespace),t},update:function(){r(s,e),l(s,t,e),t.detach(),c.span.html(h()).append(t)}}}},{match:function(t){return t.is(":checkbox")},apply:function(t,e){var n,s,c;return n=u(t,e,{divClass:e.checkboxClass}),s=n.div,c=n.span,o(t,s,e),i(t,e,{"click touchend":function(){a(c,t,e)}}),a(c,t,e),{remove:C(t,e),update:function(){r(s,e),c.removeClass(e.checkedClass),a(c,t,e),l(s,t,e)}}}},{match:function(t){return t.is(":file")},apply:function(e,s){function a(){b(e,p,s)}var h,d,p,m;return h=u(e,s,{divClass:s.fileClass,spanClass:s.fileButtonClass,spanHtml:s.fileButtonHtml,spanWrap:"after"}),d=h.div,m=h.span,p=t("<span />").html(s.fileDefaultHtml),p.addClass(s.filenameClass),p=c(e,p,"after"),n(e,"size")||n(e,"size",d.width()/10),o(e,d,s),a(),f()?i(e,s,{click:function(){e.trigger("change"),setTimeout(a,0)}}):i(e,s,{change:a}),y(p,s),y(m,s),{remove:function(){return p.remove(),m.remove(),e.unwrap().unbind(s.eventNamespace)},update:function(){r(d,s),b(e,p,s),l(d,e,s)}}}},{match:function(t){if(t.is("input")){var e=(" "+n(t,"type")+" ").toLowerCase(),i=" color date datetime datetime-local email month number password search tel text time url week ";return i.indexOf(e)>=0}return!1},apply:function(t,e){var i,r;return i=n(t,"type"),t.addClass(e.inputClass),r=h(t,e),o(t,t,e),e.inputAddTypeAsClass&&t.addClass(i),{remove:function(){t.removeClass(e.inputClass),e.inputAddTypeAsClass&&t.removeClass(i),r&&t.unwrap()},update:v}}},{match:function(t){return t.is(":radio")},apply:function(e,s){var c,h,d;return c=u(e,s,{divClass:s.radioClass
}),h=c.div,d=c.span,o(e,h,s),i(e,s,{"click touchend":function(){t.uniform.update(t(':radio[name="'+n(e,"name")+'"]'))}}),a(d,e,s),{remove:C(e,s),update:function(){r(h,s),a(d,e,s),l(h,e,s)}}}},{match:function(t){return!(!t.is("select")||g(t))},apply:function(e,n){var s,a,c,h;return n.selectAutoWidth&&x(e,function(){h=e.width()}),s=u(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),a=s.div,c=s.span,n.selectAutoWidth?x(e,function(){w(t([c[0],a[0]]),{display:"block"},function(){var t;t=c.outerWidth()-c.width(),a.width(h+t),c.width(h)})}):a.addClass("fixedWidth"),o(e,a,n),i(e,n,{change:function(){c.html(e.find(":selected").html()),a.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();c.html()!==t&&e.trigger("change")},keyup:function(){c.html(e.find(":selected").html())}}),y(c,n),{remove:function(){return c.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(r(a,n),c.html(e.find(":selected").html()),l(a,e,n))}}}},{match:function(t){return!(!t.is("select")||!g(t))},apply:function(t,e){var n;return t.addClass(e.selectMultiClass),n=h(t,e),o(t,t,e),{remove:function(){t.removeClass(e.selectMultiClass),n&&t.unwrap()},update:v}}},{match:function(t){return t.is("textarea")},apply:function(t,e){var n;return t.addClass(e.textareaClass),n=h(t,e),o(t,t,e),{remove:function(){t.removeClass(e.textareaClass),n&&t.unwrap()},update:v}}}];f()&&!m()&&(k=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(e){var n=this;return e=t.extend({},t.uniform.defaults,e),_||(_=!0,d()&&(k=!1)),k?(e.resetSelector&&t(e.resetSelector).mouseup(function(){window.setTimeout(function(){t.uniform.update(n)},10)}),this.each(function(){var n,i,o,r=t(this);if(r.data("uniformed"))return void t.uniform.update(r);for(n=0;T.length>n;n+=1)if(i=T[n],i.match(r,e))return o=i.apply(r,e),r.data("uniformed",o),void t.uniform.elements.push(r.get(0))})):this},t.uniform.restore=t.fn.uniform.restore=function(n){n===e&&(n=t.uniform.elements),t(n).each(function(){var e,n,i=t(this);n=i.data("uniformed"),n&&(n.remove(),e=t.inArray(this,t.uniform.elements),e>=0&&t.uniform.elements.splice(e,1),i.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(n){n===e&&(n=t.uniform.elements),t(n).each(function(){var e,n=t(this);e=n.data("uniformed"),e&&e.update(n,e.options)})}}(jQuery),!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.editableform.defaults,n),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var n,i=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(e===!1)i.removeClass(t.fn.editableform.errorGroupClass),o.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){n=(""+e).split("\n");for(var r=0;r<n.length;r++)n[r]=t("<div>").text(n[r]).html();e=n.join("<br>")}i.addClass(t.fn.editableform.errorGroupClass),o.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===t.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(o)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:o,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));return o?(this.showLoading(),n={name:this.options.name||"",value:e,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):t.ajax(t.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(n){var i=arguments;return this.each(function(){var o=t(this),r=o.data("editableform"),s="object"==typeof n&&n;r||o.data("editableform",r=new e(this,s)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(i,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange&&"number"!=t.type&&"email"!=t.type)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(n){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,n,i){var o,r,s={};if(!t.isArray(n)||!n.length)return s;for(var a=0;a<n.length;a++)o=n[a],e.hasOwnProperty(o)&&(s[o]=e[o]),i!==!0&&(r=o.toLowerCase(),e.hasOwnProperty(r)&&(s[o]=e[r]));return s},getConfigData:function(e){var n={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(n[t]=e)}),n},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,n,i){if(!n||null===e)return[];if("function"!=typeof i){var o=i||"value";i=function(t){return t[o]}}var r=t.isArray(e),s=[],a=this;return t.each(n,function(n,o){if(o.children)s=s.concat(a.itemsByValue(e,o.children,i));else if(r)t.grep(e,function(t){return t==(o&&"object"==typeof o?i(o):o)}).length&&s.push(o);else{var l=o&&"object"==typeof o?i(o):o;e==l&&s.push(o)}}),s},createInput:function(e){var n,i,o,r=e.type;return"date"===r&&("inline"===e.mode?t.fn.editabletypes.datefield?r="datefield":t.fn.editabletypes.dateuifield&&(r="dateuifield"):t.fn.editabletypes.date?r="date":t.fn.editabletypes.dateui&&(r="dateui"),"date"!==r||t.fn.editabletypes.date||(r="combodate")),"datetime"===r&&"inline"===e.mode&&(r="datetimefield"),"wysihtml5"!==r||t.fn.editabletypes[r]||(r="textarea"),"function"==typeof t.fn.editabletypes[r]?(n=t.fn.editabletypes[r],i=this.sliceObj(e,this.objectKeys(n.defaults)),o=new n(i)):(t.error("Unknown type: "+r),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<i.length;o++)if("string"==typeof e[i[o]+n])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},n=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(n,i){this.$element=t(n),this.options=t.extend({},t.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(n){var i,o=t(n.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,n.target)&&!o.is(document)){for(i=0;i<r.length;i++)if(o.is(r[i])||o.parents(r[i]).length)return;e.prototype.closeOthers(n.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(n,i){if(i!==e&&!t(i).find(e).length){var o=t(i),r=o.data("editableContainer");r&&("cancel"===r.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(i){var o=arguments;return this.each(function(){var r=t(this),s="editableContainer",a=r.data(s),l="object"==typeof i&&i,c="inline"===l.mode?n:e;a||r.data(s,a=new c(this,l)),"string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(o,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=n,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,n,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),n=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:e=!1}t.when(!e||this.render()).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var n=t(e.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,n){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,n){this.option(t.trim(e),n)},this)):(this.options[e]=n,"disabled"===e?n?this.disable():this.enable():("value"===e&&this.setValue(n),this.container&&this.container.option(e,n),void(this.input.option&&this.input.option(e,n))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var n=!1;n=n||"function"==typeof this.options.url,n=n||this.options.display===!1,n=n||void 0!==e.response,n=n||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),n?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,o=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),i.css("background-color",o),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,n,i){this.value=n?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(i)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(n){var i={},o=arguments,r="editable";switch(n){case"validate":return this.each(function(){var e,n=t(this),o=n.data(r);o&&(e=o.validate())&&(i[o.options.name]=e)}),i;case"getValue":return 2===arguments.length&&arguments[1]===!0?i=this.eq(0).data(r).value:this.each(function(){var e=t(this),n=e.data(r);n&&void 0!==n.value&&null!==n.value&&(i[n.options.name]=n.input.value2submit(n.value))}),i;case"submit":var s=arguments[1]||{},a=this,l=this.editable("validate");if(t.isEmptyObject(l)){var c={};if(1===a.length){var u=a.data("editable"),h={name:u.options.name||"",value:u.input.value2submit(u.value),pk:"function"==typeof u.options.pk?u.options.pk.call(u.options.scope):u.options.pk};"function"==typeof u.options.params?h=u.options.params.call(u.options.scope,h):(u.options.params=t.fn.editableutils.tryParseJson(u.options.params,!0),t.extend(h,u.options.params)),c={url:u.options.url,data:h,type:"POST"},s.success=s.success||u.options.success,s.error=s.error||u.options.error}else{var d=this.editable("getValue");c={url:s.url,data:d,type:"POST"}}c.success="function"==typeof s.success?function(t){s.success.call(a,t,s)}:t.noop,c.error="function"==typeof s.error?function(){s.error.apply(a,arguments)}:t.noop,s.ajaxOptions&&t.extend(c,s.ajaxOptions),s.data&&t.extend(c.data,s.data),t.ajax(c)}else"function"==typeof s.error&&s.error.call(a,l);return this}return this.each(function(){var i=t(this),s=i.data(r),a="object"==typeof n&&n;return a&&a.selector?void(s=new e(this,a)):(s||i.data(r,s=new e(this,a)),void("string"==typeof n&&s[n].apply(s,Array.prototype.slice.call(o,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,n,i){this.type=e,this.options=t.extend({},i,n)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,n){t(n)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,n,i,o){var r=t.Deferred(),s=function(){"function"==typeof i?i.call(n,e,this.sourceData,o):this.value2htmlFinal(e,n),r.resolve()};return null===e?s.call(this):this.onSourceReady(s,function(){r.resolve()}),r.promise()},onSourceReady:function(e,n){var i;if(t.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{i=t.fn.editableutils.tryParseJson(i,!1)}catch(o){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var r,s=i;if(t(document).data(s)||t(document).data(s,{}),r=t(document).data(s),r.loading===!1&&r.sourceData)return this.sourceData=r.sourceData,this.doPrepend(),void e.call(this);if(r.loading===!0)return r.callbacks.push(t.proxy(function(){this.sourceData=r.sourceData,this.doPrepend(),e.call(this)},this)),void r.err_callbacks.push(t.proxy(n,this));r.loading=!0,r.callbacks=[],r.err_callbacks=[]}var a=t.extend({url:i,type:"get",cache:!1,dataType:"json",success:t.proxy(function(i){r&&(r.loading=!1),this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,t.each(r.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(n.call(this),r&&t.each(r.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){n.call(this),r&&(r.loading=!1,t.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(a)}else this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):n.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var n,i,o,r,s=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){r=function(t,e){return i={value:t,text:e},!(n++>=2)&&void 0};for(var a=0;a<e.length;a++)o=e[a],"object"==typeof o?(n=0,t.each(o,r),1===n?s.push(i):n>1&&(o.children&&(o.children=this.makeArray(o.children)),s.push(o))):s.push({value:o,text:o})}else t.each(e,function(t,e){s.push({value:t,text:e})});return s},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(n,i){var o;if(t.isArray(i))for(var r=0;r<i.length;r++)o={},i[r].children?(o.label=i[r].text,n.append(e(t("<optgroup>",o),i[r].children))):(o.value=i[r].value,i[r].disabled&&(o.disabled=!0),n.append(t("<option>",o).text(i[r].text)));return n};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,n){var i="",o=t.fn.editableutils.itemsByValue(e,this.sourceData);o.length&&(i=o[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)e=t("<label>").append(t("<input>",{
type:"checkbox",value:this.sourceData[n].value})).append(t("<span>").text(" "+this.sourceData[n].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var n,i=null;return"string"==typeof e&&e.length?(n=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),i=e.split(n)):i=t.isArray(e)?e:[e],i},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(n,i){var o=t(i);t.each(e,function(t,e){o.val()==e&&o.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(n,i){e.push(t(i).val())}),e},value2htmlFinal:function(e,n){var i=[],o=t.fn.editableutils.itemsByValue(e,this.sourceData),r=this.options.escape;o.length?(t.each(o,function(e,n){var o=r?t.fn.editableutils.escape(n.text):n.text;i.push(o)}),t(n).html(i.join("<br>"))):t(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,n){e?t(n).text("[hidden]"):t(n).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(n){if(this.init("select2",n,e.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;t.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(t){return{query:t}}),n.select2.ajax.results||(n.select2.ajax.results=function(t){return{results:t}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(t){return t[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var o,r="",s=this;this.options.select2.tags?o=n:this.sourceData&&(o=t.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),t.isArray(o)?(r=[],t.each(o,function(t,e){r.push(e&&"object"==typeof e?s.formatSelection(e):e)})):o&&(r=s.formatSelection(o)),r=t.isArray(r)?r.join(this.options.viewseparator):r,e.superclass.value2html.call(this,r,i)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var o=t(this.options.scope);if(!o.data("editable").isEmpty){var r={id:e,text:o.text()};this.$input.select2("data",r)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,n){if("string"!=typeof e||!this.isMultiple)return e;n=n||this.getSeparator();var i,o,r;if(null===e||e.length<1)return null;for(i=e.split(n),o=0,r=i.length;r>o;o+=1)i[o]=t.trim(i[o]);return i},autosubmit:function(){this.$input.on("change",function(e,n){n||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var n=0;n<e.length;n++)void 0!==e[n].value&&(e[n].id=e[n].value,delete e[n].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,n){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,n,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,n){n=n[0];var i=new RegExp(n+"+"),o=n.length>1?n.substring(1,2):n;e=e.replace(i,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,n){n=n[0];var i=n.length>1?n.substring(1,2):n;e=e.replace("{"+i+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var n="fill"+t.charAt(0).toUpperCase()+t.slice(1),i=this[n](),o=e.val();e.empty();for(var r=0;r<i.length;r++)e.append('<option value="'+i[r][0]+'">'+i[r][1]+"</option>");e.val(o)}},fillCommon:function(t){var e,n=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var t,e,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),s=parseInt(this.$year.val(),10);isNaN(r)||isNaN(s)||(o=moment([s,r]).daysInMonth())}for(e=1;o>=e;e++)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillMonth:function(){var t,e,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),r=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=i?moment().date(1).month(e).format("MMMM"):o?moment().date(1).month(e).format("MMM"):r?this.leadZero(e+1):e+1,n.push([e,t]);return n},fillYear:function(){var t,e,n=[],i=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=i?e:(e+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([e,t]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var t,e,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),o=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),r=i?1:0,s=i?12:23;for(e=r;s>=e;e++)t=o?this.leadZero(e):e,n.push([e,t]);return n},fillMinute:function(){var t,e,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillSecond:function(){var t,e,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var n,i={},o=this,r=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return i[t]=o["$"+t]?parseInt(o["$"+t].val(),10):e,isNaN(i[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),e=void 0===e?this.options.format:e,null===e?n.isValid()?n:null:n.isValid()?n.format(e):"")},setValue:function(e){function n(e,n){var i={};return e.children("option").each(function(e,o){var r,s=t(o).attr("value");""!==s&&(r=Math.abs(s-n),("undefined"==typeof i.distance||r<i.distance)&&(i={value:s,distance:r}))}),i.value}if(e){var i="string"==typeof e?moment(e,this.options.format):moment(e),o=this,r={};i.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(r[t]=i[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),t.each(r,function(t,e){o["$"+t]&&("minute"===t&&o.options.minuteStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),"second"===t&&o.options.secondStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),o["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(n){var i,o=Array.apply(null,arguments);return o.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,o):this.each(function(){var i=t(this),r=i.data("combodate"),s="object"==typeof n&&n;r||i.data("combodate",r=new e(this,s)),"string"==typeof n&&"function"==typeof r[n]&&r[n].apply(r,o)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(n){this.init("combodate",n,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=t.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,n){var i=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var n=null===this.input.options.inputclass||this.input.options.inputclass===!1,i="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var r=this.$form.find(".editable-buttons"),s=n?[i]:this.input.options.inputclass.split(" "),a=0;a<s.length;a++)"input-lg"===s[a].toLowerCase()&&r.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){!function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||"top");var o=this.getPosition(),r=t[0].offsetWidth,s=t[0].offsetHeight;if(i){var a=this.$element.parent(),l=e,c=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:a.outerWidth(),h="body"==this.options.container?window.innerHeight:a.outerHeight(),d="body"==this.options.container?0:a.offset().left;e="bottom"==e&&o.top+o.height+s-c>h?"top":"top"==e&&o.top-c-s<0?"bottom":"right"==e&&o.right+r>u?"left":"left"==e&&o.left-r<d?"right":e,t.removeClass(l).addClass(e)}var p=this.getCalculatedOffset(e,o,r,s);this.applyPlacement(p,e)}.call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function n(e,n){var i,o=t(e).data(),r={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var a in o)n.test(a)&&(i=a.replace(s,function(t,e){return e.toLowerCase()}),r[i]=o[a]);return r}function i(e){var n={};if(u[e]||(e=e.split("-")[0],u[e])){var i=u[e];return t.each(c,function(t,e){e in i&&(n[e]=i[e])}),n}}var o=function(e,n){this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(u[i]||(i=i.split("-")[0],u[i]||(i=l.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=h.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=h.parseDate(n.startDate,o,n.language)),1/0!==n.endDate&&(n.endDate=h.parseDate(n.endDate,o,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.on(n)},_unapplyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.date,o=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return h.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),h.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+u[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+u[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<o?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==s.getFullYear()&&e.getUTCMonth()==s.getMonth()&&e.getUTCDate()==s.getDate()&&n.push("today"),r&&e.valueOf()==r&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(u[this.o.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(u[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=e(o,r-1,28,0,0,0,0),p=h.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p),d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];d.valueOf()<f;){if(d.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),y=new Date(+v+864e5*((11-v.getUTCDay())%7)),b=new Date(+(b=e(y.getUTCFullYear(),0,1))+864e5*((11-b.getUTCDay())%7)),w=(y-b)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(d),m.push("day");var x=this.o.beforeShowDay(d);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(n=x.tooltip),m=t.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var C=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");C&&C==o&&k.eq(this.date.getUTCMonth()).addClass("active"),(s>o||o>l)&&k.addClass("disabled"),o==s&&k.slice(0,a).addClass("disabled"),o==l&&k.slice(c+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;11>T;T++)g+='<span class="year'+(-1==T?" old":10==T?" new":"")+(C==o?" active":"")+(s>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;_.html(g)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=t(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=h.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var r=new Date;r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.o.todayBtn?null:"view";this._setDate(r,s);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}else{var u=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,u-=1):c-=1:i.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(e(u,c,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)i=-1==e?function(){return o.getUTCMonth()==s}:function(){return o.getUTCMonth()!=n},n=s+e,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;a>l;l++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,i,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*e),
i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){var n=t(e.target).data("datepicker"),i=n.getUTCDate(),o=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!=o){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;r>o&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var s=t.fn.datepicker,a=t.fn.datepicker=function(e){var s=Array.apply(null,arguments);s.shift();var a;return this.each(function(){var c=t(this),u=c.data("datepicker"),h="object"==typeof e&&e;if(!u){var d=n(this,"date"),p=t.extend({},l,d,h),f=i(p.language),m=t.extend({},l,f,d,h);if(c.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||c.find("input").toArray()};c.data("datepicker",u=new r(this,t.extend(m,g)))}else c.data("datepicker",u=new o(this,m))}return("string"!=typeof e||"function"!=typeof u[e]||(a=u[e].apply(u,s),void 0===a))&&void 0}),void 0!==a?a:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=o;var u=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,h.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,i,r){if(n instanceof Date)return n;if("string"==typeof i&&(i=h.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var s,a,l=/([\-+]\d+)([dmwy])/,c=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var d=0;d<c.length;d++)switch(s=l.exec(c[d]),a=parseInt(s[1]),s[2]){case"d":n.setUTCDate(n.getUTCDate()+a);break;case"m":n=o.prototype.moveMonth.call(o.prototype,n,a);break;case"w":n.setUTCDate(n.getUTCDate()+7*a);break;case"y":n=o.prototype.moveYear.call(o.prototype,n,a)}return e(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var p,f,s,c=n&&n.match(this.nonpunctuation)||[],n=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=i.parts.slice();if(c.length!=y.length&&(y=t(y).filter(function(e,n){return-1!==t.inArray(n,g)}).toArray()),c.length==y.length){for(var d=0,b=y.length;b>d;d++){if(p=parseInt(c[d],10),s=y[d],isNaN(p))switch(s){case"MM":f=t(u[r].months).filter(function(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[r].months)+1;break;case"M":f=t(u[r].monthsShort).filter(function(){var t=this.slice(0,c[d].length),e=c[d].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[r].monthsShort)+1}m[s]=p}for(var w,d=0;d<g.length;d++)w=g[d],w in m&&!isNaN(m[w])&&v[w](n,m[w])}return n},formatDate:function(e,n,i){"string"==typeof n&&(n=h.parseFormat(n));var o={d:e.getUTCDate(),D:u[i].daysShort[e.getUTCDay()],DD:u[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:u[i].monthsShort[e.getUTCMonth()],MM:u[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],r=t.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)r.length&&e.push(r.shift()),e.push(o[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=s,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),a.call(n,"show"))}),t(function(){a.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},n.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var n=t(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datepicker.language),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},n.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void e.superclass.value2html.call(this,i,n):i},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datetimepicker.language,this.options.formatType),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),function(t){"function"==typeof define&&define.amd?define("pnotify",["jquery"],t):t(jQuery)}(function(t){var e,n,i={dir1:"down",dir2:"left",push:"bottom",spacing1:5,spacing2:5,context:t("body")},o=t(window),r=function(){n=t("body"),PNotify.prototype.options.stack.context=n,o=t(window),o.bind("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(t){this.parseOptions(t),this.init()},t.extend(PNotify.prototype,{version:"2.0.1",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!1,opacity:1,animation:"fade",animate_speed:"100",position_animate_speed:200,shadow:!0,hide:!0,delay:3e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:i},modules:{},runModules:function(t,e){var n,i;for(i in this.modules)n="object"==typeof e&&i in e?e[i]:e,"function"==typeof this.modules[i][t]&&this.modules[i][t](this,"object"==typeof this.options[i]?this.options[i]:{},n)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var e=this;return this.modules={},t.extend(!0,this.modules,PNotify.prototype.modules),this.styles="object"==typeof this.options.styling?this.options.styling:PNotify.styling[this.options.styling],this.elem=t("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(t){if(e.options.mouse_reset&&"out"===e.animating){if(!e.timerHide)return;e.cancelRemove()}e.options.hide&&e.options.mouse_reset&&e.cancelRemove()},mouseleave:function(t){e.options.hide&&e.options.mouse_reset&&e.queueRemove(),PNotify.positionAll()}}),this.container=t("<div />",{"class":this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"warning"===this.options.type?this.styles.warning:"success"===this.options.type?this.styles.success:this.styles.notice)}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&t("<div />",{"class":"ui-pnotify-icon"}).append(t("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"warning"===this.options.type?this.styles.warning_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=t("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=t("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),PNotify.notices="top"===this.options.stack.push?t.merge([this],PNotify.notices):t.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(e){var n=this.options;return this.parseOptions(n,e),this.options.cornerclass!==n.cornerclass&&this.container.removeClass("ui-corner-all "+n.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==n.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(n.addclass):this.options.addclass!==n.addclass&&this.elem.removeClass(n.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==n.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===n.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==n.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===n.text&&this.text_container.slideDown(200)),this.options.type!==n.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"warning"===this.options.type?this.styles.warning:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==n.icon||!0===this.options.icon&&this.options.type!==n.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&t("<div />",{"class":"ui-pnotify-icon"}).append(t("<span />",{"class":!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"warning"===this.options.type?this.styles.warning_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==n.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==n.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==n.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?n.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",n),this},open:function(){this.state="opening",this.runModules("beforeOpen");var t=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:n),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){t.queuePosition(!0),t.options.hide&&t.queueRemove(),t.state="open",t.runModules("afterOpen")}),this},remove:function(e){this.state="closing",this.timerHide=!!e,this.runModules("beforeClose");var n=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(n.state="closed",n.runModules("afterClose"),n.queuePosition(!0),n.options.remove&&n.elem.detach(),n.runModules("beforeDestroy"),n.options.destroy&&null!==PNotify.notices){var e=t.inArray(n,PNotify.notices);-1!==e&&PNotify.notices.splice(e,1)}n.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(e,n){this.options=t.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;var i,o,r=[e,n];for(o in r){if(i=r[o],"undefined"==typeof i)break;if("object"!=typeof i)this.options.text=i;else for(var s in i)this.modules[s]?t.extend(!0,this.options[s],i[s]):this.options[s]=i[s]}},animateIn:function(t){this.animating="in";var e;e="undefined"!=typeof this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation,"none"===e?(this.elem.show(),t()):"show"===e?this.elem.show(this.options.animate_speed,t):"fade"===e?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,t):"slide"===e?this.elem.slideDown(this.options.animate_speed,t):"function"==typeof e?e("in",t,this.elem):this.elem.show(e,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(t){this.animating="out";var e;e="undefined"!=typeof this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation,"none"===e?(this.elem.hide(),t()):"show"===e?this.elem.hide(this.options.animate_speed,t):"fade"===e?this.elem.fadeOut(this.options.animate_speed,t):"slide"===e?this.elem.slideUp(this.options.animate_speed,t):"function"==typeof e?e("out",t,this.elem):this.elem.hide(e,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(t){var e=this.options.stack,i=this.elem;if(i.parent().hasClass("ui-effects-wrapper")&&(i=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),"undefined"==typeof e.context&&(e.context=n),e){"number"!=typeof e.nextpos1&&(e.nextpos1=e.firstpos1),"number"!=typeof e.nextpos2&&(e.nextpos2=e.firstpos2),"number"!=typeof e.addpos2&&(e.addpos2=0);var r="none"===i.css("display");if(!r||t){var s,a,l={};switch(e.dir1){case"down":a="top";break;case"up":a="bottom";break;case"left":a="right";break;case"right":a="left"}t=parseInt(i.css(a).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(t)&&(t=0),"undefined"!=typeof e.firstpos1||r||(e.firstpos1=t,e.nextpos1=e.firstpos1);var c;switch(e.dir2){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}if(s=parseInt(i.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),"undefined"!=typeof e.firstpos2||r||(e.firstpos2=s,e.nextpos2=e.firstpos2),("down"===e.dir1&&e.nextpos1+i.height()>(e.context.is(n)?o.height():e.context.prop("scrollHeight"))||"up"===e.dir1&&e.nextpos1+i.height()>(e.context.is(n)?o.height():e.context.prop("scrollHeight"))||"left"===e.dir1&&e.nextpos1+i.width()>(e.context.is(n)?o.width():e.context.prop("scrollWidth"))||"right"===e.dir1&&e.nextpos1+i.width()>(e.context.is(n)?o.width():e.context.prop("scrollWidth")))&&(e.nextpos1=e.firstpos1,e.nextpos2+=e.addpos2+("undefined"==typeof e.spacing2?5:e.spacing2),e.addpos2=0),e.animation&&e.nextpos2<s)switch(e.dir2){case"down":l.top=e.nextpos2+"px";break;case"up":l.bottom=e.nextpos2+"px";break;case"left":l.right=e.nextpos2+"px";break;case"right":l.left=e.nextpos2+"px"}else"number"==typeof e.nextpos2&&i.css(c,e.nextpos2+"px");switch(e.dir2){case"down":case"up":i.outerHeight(!0)>e.addpos2&&(e.addpos2=i.height());break;case"left":case"right":i.outerWidth(!0)>e.addpos2&&(e.addpos2=i.width())}if("number"==typeof e.nextpos1)if(e.animation&&(t>e.nextpos1||l.top||l.bottom||l.right||l.left))switch(e.dir1){case"down":l.top=e.nextpos1+"px";break;case"up":l.bottom=e.nextpos1+"px";break;case"left":l.right=e.nextpos1+"px";break;case"right":l.left=e.nextpos1+"px"}else i.css(a,e.nextpos1+"px");switch((l.top||l.bottom||l.right||l.left)&&i.animate(l,{duration:this.options.position_animate_speed,queue:!1}),e.dir1){case"down":case"up":e.nextpos1+=i.height()+("undefined"==typeof e.spacing1?5:e.spacing1);break;case"left":case"right":e.nextpos1+=i.width()+("undefined"==typeof e.spacing1?5:e.spacing1)}}return this}},queuePosition:function(t,n){return e&&clearTimeout(e),n||(n=10),e=setTimeout(function(){PNotify.positionAll(t)},n),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var t=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){t.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),t.extend(PNotify,{notices:[],removeAll:function(){t.each(PNotify.notices,function(){this.remove&&this.remove()})},positionAll:function(n){e&&clearTimeout(e),e=null,t.each(PNotify.notices,function(){var t=this.options.stack;t&&(t.nextpos1=t.firstpos1,t.nextpos2=t.firstpos2,t.addpos2=0,t.animation=n)}),t.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-primary",notice_icon:"icon-info",info:"alert-info",info_icon:"icon-question6",success:"alert-success",success_icon:"icon-checkmark-circle",warning:"alert-warning",warning_icon:"icon-exclamation",error:"alert-danger",error_icon:"icon-cancel-circle"}}}),PNotify.styling.fontawesome=t.extend({},PNotify.styling.bootstrap3),t.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?r():t(r),PNotify}),function(t){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){e.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,labels:{close:"Close",stick:"Stick"}},e.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(e,n){var i=this;this.myOptions=n,e.elem.on({mouseenter:function(t){!i.myOptions.sticker||e.options.nonblock&&e.options.nonblock.nonblock||i.sticker.trigger("pnotify_icon").css("visibility","visible"),!i.myOptions.closer||e.options.nonblock&&e.options.nonblock.nonblock||i.closer.css("visibility","visible")},mouseleave:function(t){i.myOptions.sticker_hover&&i.sticker.css("visibility","hidden"),i.myOptions.closer_hover&&i.closer.css("visibility","hidden")}}),this.sticker=t("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:n.sticker_hover?"hidden":"visible"},click:function(){e.options.hide=!e.options.hide,e.options.hide?e.queueRemove():e.cancelRemove(),t(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){t(this).children().removeClass(e.styles.pin_up+" "+e.styles.pin_down).addClass(e.options.hide?e.styles.pin_up:e.styles.pin_down)}).append(t("<span />",{"class":e.styles.pin_up,title:n.labels.stick})).prependTo(e.container),(!n.sticker||e.options.nonblock&&e.options.nonblock.nonblock)&&this.sticker.css("display","none"),this.closer=t("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:n.closer_hover?"hidden":"visible"},click:function(){e.remove(!1),i.sticker.css("visibility","hidden"),i.closer.css("visibility","hidden")}}).append(t("<span />",{"class":e.styles.closer,title:n.labels.close})).prependTo(e.container),(!n.closer||e.options.nonblock&&e.options.nonblock.nonblock)&&this.closer.css("display","none")},update:function(t,e){this.myOptions=e,!e.closer||t.options.nonblock&&t.options.nonblock.nonblock?this.closer.css("display","none"):e.closer&&this.closer.css("display","block"),!e.sticker||t.options.nonblock&&t.options.nonblock.nonblock?this.sticker.css("display","none"):e.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),e.sticker_hover?this.sticker.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock||this.sticker.css("visibility","visible"),e.closer_hover?this.closer.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock||this.closer.css("visibility","visible")}},t.extend(e.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),t.extend(e.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),t.extend(e.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),t.extend(e.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(t){"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){var n=e.prototype.init,i=e.prototype.open,o=e.prototype.remove;e.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),n.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},e.prototype.open=function(){var t;this.options.before_open&&(t=this.options.before_open(this)),!1!==t&&(i.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},e.prototype.remove=function(t){var e;this.options.before_close&&(e=this.options.before_close(this,t)),!1!==e&&(o.apply(this,arguments),this.options.after_close&&this.options.after_close(this,t))}}),function(t){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){e.prototype.options.confirm={confirm:!1,prompt:!1,
prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(t,e){t.remove(),t.get().trigger("pnotify.confirm",[t,e])}},{text:"Cancel",addClass:"",click:function(t){t.remove(),t.get().trigger("pnotify.cancel",t)}}]},e.prototype.modules.confirm={container:null,prompt:null,init:function(e,n){this.container=t('<div style="margin-top:10px;clear:both;" />').css("text-align",n.align).appendTo(e.container),n.confirm||n.prompt?this.makeDialog(e,n):this.container.hide()},update:function(t,e){e.confirm?(this.makeDialog(t,e),this.container.show()):this.container.hide().empty()},afterOpen:function(t,e){e.prompt&&this.prompt.focus()},makeDialog:function(e,n){var i,o,r=!1,s=this;this.container.empty(),n.prompt&&(this.prompt=t("<"+(n.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:10px;clear:both;" />').addClass(e.styles.input+" "+n.prompt_class).val(n.prompt_default).appendTo(this.container));for(var a in n.buttons)i=n.buttons[a],r?this.container.append(" "):r=!0,o=t('<button type="button" />').addClass(e.styles.btn+" "+i.addClass).text(i.text).appendTo(this.container).on("click",function(t){return function(){"function"==typeof t.click&&t.click(e,n.prompt?s.prompt.val():null)}}(i)),n.prompt&&!n.prompt_multi_line&&i.promptTrigger&&this.prompt.keypress(function(t){return function(e){13==e.keyCode&&t.click()}}(o)),e.styles.text&&o.wrapInner('<span class="'+e.styles.text+'"></span>'),e.styles.btnhover&&o.hover(function(t){return function(){t.addClass(e.styles.btnhover)}}(o),function(t){return function(){t.removeClass(e.styles.btnhover)}}(o)),e.styles.btnactive&&o.on("mousedown",function(t){return function(){t.addClass(e.styles.btnactive)}}(o)).on("mouseup",function(t){return function(){t.removeClass(e.styles.btnactive)}}(o)),e.styles.btnfocus&&o.on("focus",function(t){return function(){t.addClass(e.styles.btnfocus)}}(o)).on("blur",function(t){return function(){t.removeClass(e.styles.btnfocus)}}(o))}},t.extend(e.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),t.extend(e.styling.bootstrap2,{btn:"btn",input:""}),t.extend(e.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),t.extend(e.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(t){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){var n,i=function(t,e){return(i="Notification"in window?function(t,e){return new Notification(t,e)}:"mozNotification"in navigator?function(t,e){return navigator.mozNotification.createNotification(t,e.body,e.icon).show()}:"webkitNotifications"in window?function(t,e){return window.webkitNotifications.createNotification(e.icon,t,e.body)}:function(t,e){return null})(t,e)};e.prototype.options.desktop={desktop:!1,icon:null,tag:null},e.prototype.modules.desktop={tag:null,icon:null,genNotice:function(t,e){this.icon=null===e.icon?"http://sciactive.com/pnotify/includes/desktop/"+t.options.type+".png":!1===e.icon?null:e.icon,null!==this.tag&&null===e.tag||(this.tag=null===e.tag?"PNotify-"+Math.round(1e6*Math.random()):e.tag),t.desktop=i(t.options.title,{icon:this.icon,body:t.options.text,tag:this.tag}),"close"in t.desktop||(t.desktop.close=function(){t.desktop.cancel()}),t.desktop.onclick=function(){t.elem.trigger("click")},t.desktop.onclose=function(){"closing"!==t.state&&"closed"!==t.state&&t.remove()}},init:function(t,i){i.desktop&&(n=e.desktop.checkPermission(),0==n&&this.genNotice(t,i))},update:function(t,e,i){0==n&&e.desktop&&this.genNotice(t,e)},beforeOpen:function(t,e){0==n&&e.desktop&&t.elem.css({left:"-10000px",display:"none"})},afterOpen:function(t,e){0==n&&e.desktop&&(t.elem.css({left:"-10000px",display:"none"}),"show"in t.desktop&&t.desktop.show())},beforeClose:function(t,e){0==n&&e.desktop&&t.elem.css({left:"-10000px",display:"none"})},afterClose:function(t,e){0==n&&e.desktop&&(t.elem.css({left:"-10000px",display:"none"}),t.desktop.close())}},e.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"==Notification.permission?0:1:"webkitNotifications"in window?window.webkitNotifications.checkPermission():1}},n=e.desktop.checkPermission()}),function(t){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){var n,i;t(function(){t("body").on("pnotify.history-all",function(){t.each(e.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var t,n="top"===e.prototype.options.stack.push,i=n?0:-1;do{if(t=-1===i?e.notices.slice(i):e.notices.slice(i,i+1),!t[0])return!1;i=n?i+1:i-1}while(!t[0].modules.history.inHistory||t[0].elem.is(":visible"));t[0].open&&t[0].open()})}),e.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},e.prototype.modules.history={inHistory:!1,init:function(e,o){if(e.options.destroy=!1,this.inHistory=o.history,o.menu&&"undefined"==typeof n){n=t("<div />",{"class":"ui-pnotify-history-container "+e.styles.hi_menu,mouseleave:function(){n.animate({top:"-"+i+"px"},{duration:100,queue:!1})}}).append(t("<div />",{"class":"ui-pnotify-history-header",text:o.labels.redisplay})).append(t("<button />",{"class":"ui-pnotify-history-all "+e.styles.hi_btn,text:o.labels.all,mouseenter:function(){t(this).addClass(e.styles.hi_btnhov)},mouseleave:function(){t(this).removeClass(e.styles.hi_btnhov)},click:function(){return t(this).trigger("pnotify.history-all"),!1}})).append(t("<button />",{"class":"ui-pnotify-history-last "+e.styles.hi_btn,text:o.labels.last,mouseenter:function(){t(this).addClass(e.styles.hi_btnhov)},mouseleave:function(){t(this).removeClass(e.styles.hi_btnhov)},click:function(){return t(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var r=t("<span />",{"class":"ui-pnotify-history-pulldown "+e.styles.hi_hnd,mouseenter:function(){n.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(n);i=r.offset().top+2,n.css({top:"-"+i+"px"}),o.fixed&&n.addClass("ui-pnotify-history-fixed")}},update:function(t,e){this.inHistory=e.history,e.fixed&&n?n.addClass("ui-pnotify-history-fixed"):n&&n.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(n,i){if(e.notices&&e.notices.length>i.maxonscreen){var o;o="top"!==n.options.stack.push?e.notices.slice(0,e.notices.length-i.maxonscreen):e.notices.slice(i.maxonscreen,e.notices.length),t.each(o,function(){this.remove&&this.remove()})}}},t.extend(e.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"}),t.extend(e.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}),t.extend(e.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),t.extend(e.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})}),function(t){"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){var n,i=/^on/,o=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,r=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,s=/^(scroll|resize|(un)?load|abort|error)$/,a=function(e,n){var a;e=e.toLowerCase(),document.createEvent&&this.dispatchEvent?(e=e.replace(i,""),e.match(o)?(t(this).offset(),a=document.createEvent("MouseEvents"),a.initMouseEvent(e,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)):e.match(r)?(a=document.createEvent("UIEvents"),a.initUIEvent(e,n.bubbles,n.cancelable,n.view,n.detail)):e.match(s)&&(a=document.createEvent("HTMLEvents"),a.initEvent(e,n.bubbles,n.cancelable)),a&&this.dispatchEvent(a)):(e.match(i)||(e="on"+e),a=document.createEventObject(n),this.fireEvent(e,a))},l=function(e,i,o){e.elem.css("display","none");var r=document.elementFromPoint(i.clientX,i.clientY);e.elem.css("display","block");var s=t(r),l=s.css("cursor");e.elem.css("cursor","auto"!==l?l:"default"),n&&n.get(0)==r||(n&&(a.call(n.get(0),"mouseleave",i.originalEvent),a.call(n.get(0),"mouseout",i.originalEvent)),a.call(r,"mouseenter",i.originalEvent),a.call(r,"mouseover",i.originalEvent)),a.call(r,o,i.originalEvent),n=s};e.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},e.prototype.modules.nonblock={myOptions:null,init:function(t,e){var i=this;this.myOptions=e,t.elem.on({mouseenter:function(e){i.myOptions.nonblock&&e.stopPropagation(),i.myOptions.nonblock&&t.elem.stop().animate({opacity:i.myOptions.nonblock_opacity},"fast")},mouseleave:function(e){i.myOptions.nonblock&&e.stopPropagation(),n=null,t.elem.css("cursor","auto"),i.myOptions.nonblock&&"out"!==t.animating&&t.elem.stop().animate({opacity:t.options.opacity},"fast")},mouseover:function(t){i.myOptions.nonblock&&t.stopPropagation()},mouseout:function(t){i.myOptions.nonblock&&t.stopPropagation()},mousemove:function(e){i.myOptions.nonblock&&(e.stopPropagation(),l(t,e,"onmousemove"))},mousedown:function(e){i.myOptions.nonblock&&(e.stopPropagation(),e.preventDefault(),l(t,e,"onmousedown"))},mouseup:function(e){i.myOptions.nonblock&&(e.stopPropagation(),e.preventDefault(),l(t,e,"onmouseup"))},click:function(e){i.myOptions.nonblock&&(e.stopPropagation(),l(t,e,"onclick"))},dblclick:function(e){i.myOptions.nonblock&&(e.stopPropagation(),l(t,e,"ondblclick"))}})},update:function(t,e){this.myOptions=e}}}),function(t){"function"==typeof define&&define.amd?define("pnotify.reference",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){e.prototype.options.reference={putThing:!1,labels:{text:"Spin Around"}},e.prototype.modules.reference={thingElem:null,init:function(e,n){var i=this;n.putThing&&(this.thingElem=t('<button style="float:right;" class="btn btn-default" type="button" disabled><i class="'+e.styles.athing+'" />&nbsp;'+n.labels.text+"</button>").appendTo(e.container),e.container.append('<div style="clear: right; line-height: 0;" />'),e.elem.on({mouseenter:function(t){i.thingElem.prop("disabled",!1)},mouseleave:function(t){i.thingElem.prop("disabled",!0)}}),this.thingElem.on("click",function(){var t=0,n=setInterval(function(){t+=10,360==t&&(t=0,clearInterval(n)),e.elem.css({"-moz-transform":"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation="+t/360*4+")"})},20)}))},update:function(t,e,n){e.putThing&&this.thingElem?this.thingElem.show():!e.putThing&&this.thingElem&&this.thingElem.hide(),this.thingElem&&this.thingElem.find("i").attr("class",t.styles.athing)},beforeOpen:function(t,e){},afterOpen:function(t,e){},beforeClose:function(t,e){},afterClose:function(t,e){},beforeDestroy:function(t,e){},afterDestroy:function(t,e){}},t.extend(e.styling.jqueryui,{athing:"ui-icon ui-icon-refresh"}),t.extend(e.styling.bootstrap2,{athing:"icon-refresh"}),t.extend(e.styling.bootstrap3,{athing:"glyphicon glyphicon-refresh"}),t.extend(e.styling.fontawesome,{athing:"fa fa-refresh"})}),!function(t,e){function n(){function n(e){var n=e||t.event,i=n.keyCode||n.which;if(-1!==[9,13,32,27].indexOf(i)){for(var o=n.target||n.srcElement,r=-1,s=0;s<_.length;s++)if(o===_[s]){r=s;break}9===i?(o=-1===r?C:r===_.length-1?_[0]:_[r+1],I(n),o.focus(),a(o,h.confirmButtonColor)):(o=13===i||32===i?-1===r?C:void 0:27!==i||k.hidden||"none"===k.style.display?void 0:k,void 0!==o&&P(o,n))}}function s(e){var n=e||t.event,i=n.target||n.srcElement,o=n.relatedTarget,r=x(m,"visible");if(r){var s=-1;if(null!==o){for(var a=0;a<_.length;a++)if(o===_[a]){s=a;break}-1===s&&i.focus()}else f=i}}if(void 0===arguments[0])return t.console.error("sweetAlert expects at least 1 attribute!"),!1;var h=r({},y);switch(typeof arguments[0]){case"string":h.title=arguments[0],h.text=arguments[1]||"",h.type=arguments[2]||"";break;case"object":if(void 0===arguments[0].title)return t.console.error('Missing "title" argument!'),!1;h.title=arguments[0].title,h.text=arguments[0].text||y.text,h.type=arguments[0].type||y.type,h.customClass=arguments[0].customClass||h.customClass,h.allowOutsideClick=arguments[0].allowOutsideClick||y.allowOutsideClick,h.showCancelButton=void 0!==arguments[0].showCancelButton?arguments[0].showCancelButton:y.showCancelButton,h.closeOnConfirm=void 0!==arguments[0].closeOnConfirm?arguments[0].closeOnConfirm:y.closeOnConfirm,h.closeOnCancel=void 0!==arguments[0].closeOnCancel?arguments[0].closeOnCancel:y.closeOnCancel,h.timer=arguments[0].timer||y.timer,h.confirmButtonText=y.showCancelButton?"Confirm":y.confirmButtonText,h.confirmButtonText=arguments[0].confirmButtonText||y.confirmButtonText,h.confirmButtonColor=arguments[0].confirmButtonColor||y.confirmButtonColor,h.cancelButtonText=arguments[0].cancelButtonText||y.cancelButtonText,h.imageUrl=arguments[0].imageUrl||y.imageUrl,h.imageSize=arguments[0].imageSize||y.imageSize,h.doneFunction=arguments[1]||null;break;default:return t.console.error('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}i(h),u(),l();for(var m=b(),g=function(e){var n=e||t.event,i=n.target||n.srcElement,r="confirm"===i.className,s=x(m,"visible"),a=h.doneFunction&&"true"===m.getAttribute("data-has-done-function");switch(n.type){case"mouseover":r&&(i.style.backgroundColor=o(h.confirmButtonColor,-.04));break;case"mouseout":r&&(i.style.backgroundColor=h.confirmButtonColor);break;case"mousedown":r&&(i.style.backgroundColor=o(h.confirmButtonColor,-.14));break;case"mouseup":r&&(i.style.backgroundColor=o(h.confirmButtonColor,-.04));break;case"focus":var l=m.querySelector("button.confirm"),u=m.querySelector("button.cancel");r?u.style.boxShadow="none":l.style.boxShadow="none";break;case"click":if(r&&a&&s)h.doneFunction(!0),h.closeOnConfirm&&c();else if(a&&s){var d=String(h.doneFunction).replace(/\s/g,""),p="function("===d.substring(0,9)&&")"!==d.substring(9,10);p&&h.doneFunction(!1),h.closeOnCancel&&c()}else c()}},v=m.querySelectorAll("button"),w=0;w<v.length;w++)v[w].onclick=g,v[w].onmouseover=g,v[w].onmouseout=g,v[w].onmousedown=g,v[w].onfocus=g;d=e.onclick,e.onclick=function(e){var n=e||t.event,i=n.target||n.srcElement,o=m===i,r=A(m,i),s=x(m,"visible"),a="true"===m.getAttribute("data-allow-ouside-click");!o&&!r&&s&&a&&c()};var C=m.querySelector("button.confirm"),k=m.querySelector("button.cancel"),_=m.querySelectorAll("button:not([type=hidden])");p=t.onkeydown,t.onkeydown=n,C.onblur=s,k.onblur=s,t.onfocus=function(){t.setTimeout(function(){void 0!==f&&(f.focus(),f=void 0)},0)}}function i(e){var n=b(),i=n.querySelector("h2"),o=n.querySelector("p"),r=n.querySelector("button.cancel"),s=n.querySelector("button.confirm");if(i.innerHTML=_(e.title).split("\n").join("<br>"),o.innerHTML=_(e.text||"").split("\n").join("<br>"),e.text&&S(o),e.customClass&&C(n,e.customClass),M(n.querySelectorAll(".icon")),e.type){for(var l=!1,c=0;c<v.length;c++)if(e.type===v[c]){l=!0;break}if(!l)return t.console.error("Unknown alert type: "+e.type),!1;var u=n.querySelector(".icon."+e.type);switch(S(u),e.type){case"success":C(u,"animate"),C(u.querySelector(".tip"),"animateSuccessTip"),C(u.querySelector(".long"),"animateSuccessLong");break;case"error":C(u,"animateErrorIcon"),C(u.querySelector(".x-mark"),"animateXMark");break;case"warning":C(u,"pulseWarning"),C(u.querySelector(".body"),"pulseWarningIns"),C(u.querySelector(".dot"),"pulseWarningIns")}}if(e.imageUrl){var h=n.querySelector(".icon.custom");h.style.backgroundImage="url("+e.imageUrl+")",S(h);var d=80,p=80;if(e.imageSize){var f=e.imageSize.split("x")[0],m=e.imageSize.split("x")[1];f&&m?(d=f,p=m,h.css({width:f+"px",height:m+"px"})):t.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+d+"px; height:"+p+"px")}n.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?r.style.display="inline-block":M(r),e.cancelButtonText&&(r.innerHTML=_(e.cancelButtonText)),e.confirmButtonText&&(s.innerHTML=_(e.confirmButtonText)),s.style.backgroundColor=e.confirmButtonColor,a(s,e.confirmButtonColor),n.setAttribute("data-allow-ouside-click",e.allowOutsideClick);var g=!!e.doneFunction;n.setAttribute("data-has-done-function",g),n.setAttribute("data-timer",e.timer)}function o(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,i,o="#";for(i=0;3>i;i++)n=parseInt(t.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),o+=("00"+n).substr(n.length);return o}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null}function a(t,e){var n=s(e);t.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function l(){var t=b();N(w(),10),S(t),C(t,"showSweetAlert"),k(t,"hideSweetAlert"),h=e.activeElement;var n=t.querySelector("button.confirm");n.focus(),setTimeout(function(){C(t,"visible")},500);var i=t.getAttribute("data-timer");"null"!==i&&""!==i&&(t.timeout=setTimeout(function(){c()},i))}function c(){var n=b();O(w(),5),O(n,5),k(n,"showSweetAlert"),C(n,"hideSweetAlert"),k(n,"visible");var i=n.querySelector(".icon.success");k(i,"animate"),k(i.querySelector(".tip"),"animateSuccessTip"),k(i.querySelector(".long"),"animateSuccessLong");var o=n.querySelector(".icon.error");k(o,"animateErrorIcon"),k(o.querySelector(".x-mark"),"animateXMark");var r=n.querySelector(".icon.warning");k(r,"pulseWarning"),k(r.querySelector(".body"),"pulseWarningIns"),k(r.querySelector(".dot"),"pulseWarningIns"),t.onkeydown=p,e.onclick=d,h&&h.focus(),f=void 0,clearTimeout(n.timeout)}function u(){var t=b();t.style.marginTop=E(b())}var h,d,p,f,m=".sweet-alert",g=".sweet-overlay",v=["error","warning","info","success"],y={title:"",text:"",type:null,allowOutsideClick:!1,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null},b=function(){return e.querySelector(m)},w=function(){return e.querySelector(g)},x=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},C=function(t,e){x(t,e)||(t.className+=" "+e)},k=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(x(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},_=function(t){var n=e.createElement("div");return n.appendChild(e.createTextNode(t)),n.innerHTML},T=function(t){t.style.opacity="",t.style.display="block"},S=function(t){if(t&&!t.length)return T(t);for(var e=0;e<t.length;++e)T(t[e])},D=function(t){t.style.opacity="",t.style.display="none"},M=function(t){if(t&&!t.length)return D(t);for(var e=0;e<t.length;++e)D(t[e])},A=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},E=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt(n/2+e)+"px"},N=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date,i=function(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(i,e)};i()}t.style.display="block"},O=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date,i=function(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(i,e):t.style.display="none"};i()},P=function(n){if(MouseEvent){var i=new MouseEvent("click",{view:t,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(e.createEvent){var o=e.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.dispatchEvent(o)}else e.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},I=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):t.event&&t.event.hasOwnProperty("cancelBubble")&&(t.event.cancelBubble=!0)};t.sweetAlertInitialize=function(){var t='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',n=e.createElement("div");n.innerHTML=t,e.body.appendChild(n)},t.sweetAlert=t.swal=function(){var t=arguments;if(null!==b())n.apply(this,t);else var e=setInterval(function(){null!==b()&&(clearInterval(e),n.apply(this,t))},100)},t.swal.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");r(y,t)},function(){"complete"===e.readyState||"interactive"===e.readyState&&e.body?t.sweetAlertInitialize():e.addEventListener?e.addEventListener("DOMContentLoaded",function(){e.removeEventListener("DOMContentLoaded",arguments.callee,!1),t.sweetAlertInitialize()},!1):e.attachEvent&&e.attachEvent("onreadystatechange",function(){"complete"===e.readyState&&(e.detachEvent("onreadystatechange",arguments.callee),t.sweetAlertInitialize())})}()}(window,document),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function r(t){return{left:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)<0?i=r+1:o=r}return i},right:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)>0?o=r:i=r+1}return i}}}function s(t){return t.length}function a(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function c(){this._=Object.create(null)}function u(t){return(t+="")===ms||t[0]===gs?gs+t:t}function h(t){return(t+="")[0]===gs?t.slice(1):t}function d(t){return u(t)in this._}function p(t){return(t=u(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(h(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=vs.length;i>n;++n){var o=vs[n]+e;if(o in t)return o}}function x(){}function C(){}function k(t){function e(){for(var e,i=n,o=-1,r=i.length;++o<r;)(e=i[o].on)&&e.apply(this,arguments);return t}var n=[],i=new c;return e.on=function(e,o){var r,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,r=n.indexOf(s)).concat(n.slice(r+1)),i.remove(e)),o&&n.push(i.set(e,{on:o})),t)},e}function _(){ns.event.preventDefault()}function T(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new C,n=0,i=arguments.length;++n<i;)e[arguments[n]]=k(e);return e.of=function(n,i){return function(o){try{var r=o.sourceEvent=ns.event;o.target=t,ns.event=o,e[o.type].apply(n,i)}finally{ns.event=r}}},e}function D(t){return bs(t,ks),t}function M(t){return"function"==typeof t?t:function(){return ws(t,this)}}function A(t){return"function"==typeof t?t:function(){return xs(t,this)}}function E(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function r(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:s:t.local?r:o}function N(t){return t.trim().replace(/\s+/g," ")}function O(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<o;)t[n](this,i)}t=P(t).map(L);var o=t.length;return"function"==typeof e?i:n}function L(t){var e=O(t);return function(n,i){if(o=n.classList)return i?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(o)||n.setAttribute("class",N(o+" "+t))):n.setAttribute("class",N(o.replace(e," ")))}}function $(t,e,n){function i(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function r(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?r:o}function H(t,e){function n(){delete this[t]}function i(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:i}function F(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function z(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function R(t){return function(){return Cs(this,t)}}function W(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function Y(t,e){for(var n=0,i=t.length;i>n;n++)for(var o,r=t[n],s=0,a=r.length;a>s;s++)(o=r[s])&&e(o,s,n);return t}function U(t){return bs(t,Ts),t}function B(t){var e,n;return function(i,o,r){var s,a=t[r].update,l=a.length;for(r!=n&&(n=r,e=0),o>=e&&(e=o+1);!(s=a[e])&&++e<l;);return s}}function q(t,e,n){function i(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function o(){var o=l(e,os(arguments));i.call(this),this.addEventListener(t,this[s]=o,o.$=n),o._=e}function r(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var i in this)if(e=i.match(n)){var o=this[i];this.removeEventListener(e[1],o,o.$),delete this[i]}}var s="__on"+t,a=t.indexOf("."),l=X;a>0&&(t=t.slice(0,a));var c=Ss.get(t);return c&&(t=c,l=V),a?e?o:i:e?x:r}function X(t,e){return function(n){var i=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=i}}}function V(t,e){var n=X(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function K(n){var i=".dragsuppress-"+ ++Ms,o="click"+i,r=ns.select(e(n)).on("touchmove"+i,_).on("dragstart"+i,_).on("selectstart"+i,_);if(null==Ds&&(Ds=!("onselectstart"in n)&&w(n.style,"userSelect")),Ds){var s=t(n).style,a=s[Ds];s[Ds]="none"}return function(t){if(r.on(i,null),Ds&&(s[Ds]=a),t){var e=function(){r.on(o,null)};r.on(o,function(){_(),e()},!0),setTimeout(e,0)}}}function Q(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var o=i.createSVGPoint();if(0>As){var r=e(t);if(r.scrollX||r.scrollY){i=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=i[0][0].getScreenCTM();As=!(s.f||s.e),i.remove()}}return As?(o.x=n.pageX,o.y=n.pageY):(o.x=n.clientX,o.y=n.clientY),o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}function G(){return ns.event.changedTouches[0].identifier}function Z(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Os:Math.acos(t)}function et(t){return t>1?Ls:-1>t?-Ls:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function rt(t){return(t=Math.sin(t/2))*t}function st(){}function at(t,e,n){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):xt(""+t,Ct,at):new at(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(s-r)*t/60:180>t?s:240>t?r+(s-r)*(240-t)/60:r}function o(t){return Math.round(255*i(t))}var r,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,r=2*n-s,new vt(o(t+120),o(t),o(t-120))}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.c,t.l):t instanceof ht?pt(t.l,t.a,t.b):pt((t=kt((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ct(t,e,n)}function ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=$s)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ct?ut(t.h,t.c,t.l):kt((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var i=(t+16)/116,o=i+e/500,r=i-n/200;return o=ft(o)*Xs,i=ft(i)*Vs,r=ft(r)*Ks,new vt(gt(3.2404542*o-1.5371385*i-.4985314*r),gt(-.969266*o+1.8760108*i+.041556*r),gt(.0556434*o-.2040259*i+1.0572252*r))}function pt(t,e,n){return t>0?new ct(Math.atan2(n,e)*Hs,Math.sqrt(e*e+n*n),t):new ct(NaN,NaN,t)}function ft(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,o,r,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=i[2].split(","),i[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(Tt(o[0]),Tt(o[1]),Tt(o[2]))}return(r=Zs.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&r)>>4,s=s>>4|s,a=240&r,a=a>>4|a,l=15&r,l=l<<4|l):7===t.length&&(s=(16711680&r)>>16,a=(65280&r)>>8,l=255&r)),e(s,a,l))}function Ct(t,e,n){var i,o,r=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-r,l=(s+r)/2;return a?(o=.5>l?a/(s+r):a/(2-s-r),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,o=l>0&&1>l?0:i),new at(i,o,l)}function kt(t,e,n){t=_t(t),e=_t(e),n=_t(n);var i=mt((.4124564*t+.3575761*e+.1804375*n)/Xs),o=mt((.2126729*t+.7151522*e+.072175*n)/Vs),r=mt((.0193339*t+.119192*e+.9503041*n)/Ks);return ht(116*o-16,500*(i-o),200*(o-r))}function _t(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e;
}function St(t){return"function"==typeof t?t:function(){return t}}function Dt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Mt(e,n,t,i)}}function Mt(t,e,n,i){function o(){var t,e=l.status;if(!e&&Et(l)||e>=200&&300>e||304===e){try{t=n.call(r,l)}catch(i){return void s.error.call(r,i)}s.load.call(r,t)}else s.error.call(r,l)}var r={},s=ns.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=ns.event;ns.event=t;try{s.progress.call(r,l)}finally{ns.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(c=t,r):c},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(os(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var u in a)l.setRequestHeader(u,a[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),s.beforesend.call(r,l),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},ns.rebind(r,s,"on"),null==i?r:r.get(At(i))}function At(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Et(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Nt(){var t=Ot(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(na),na=setTimeout(Nt,e)),ea=0):(ea=1,oa(Nt))}function Ot(){var t=Date.now();for(ia=Js;ia;)t>=ia.t&&(ia.f=ia.c(t-ia.t)),ia=ia.n;return t}function Pt(){for(var t,e=Js,n=1/0;e;)e.f?e=t?t.n=e.n:Js=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return ta=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Lt(t,e){var n=Math.pow(10,3*fs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function $t(t){var e=t.decimal,n=t.thousands,i=t.grouping,o=t.currency,r=i&&n?function(t,e){for(var o=t.length,r=[],s=0,a=i[0],l=0;o>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),r.push(t.substring(o-=a,o+a)),!((l+=a+1)>e));)a=i[s=(s+1)%i.length];return r.reverse().join(n)}:y;return function(t){var n=sa.exec(t),i=n[1]||" ",s=n[2]||">",a=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],h=n[7],d=n[8],p=n[9],f=1,m="",g="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":f=100,g="%",p="f";break;case"p":f=100,g="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":f=-1,p="r"}"$"===l&&(m=o[0],g=o[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):("e"==p||"f"==p)&&(d=Math.max(0,Math.min(20,d)))),p=aa.get(p)||Ht;var b=c&&h;return function(t){var n=g;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>f){var l=ns.formatPrefix(t,d);t=l.scale(t),n=l.symbol+g}else t*=f;t=p(t,d);var w,x,C=t.lastIndexOf(".");if(0>C){var k=y?t.lastIndexOf("e"):-1;0>k?(w=t,x=""):(w=t.substring(0,k),x=t.substring(k))}else w=t.substring(0,C),x=e+t.substring(C+1);!c&&h&&(w=r(w,1/0));var _=m.length+w.length+x.length+(b?0:o.length),T=u>_?new Array(_=u-_+1).join(i):"";return b&&(w=r(T+w,T.length?u-x.length:1/0)),o+=m,t=w+x,("<"===s?o+t+T:">"===s?T+o+t:"^"===s?T.substring(0,_>>=1)+o+t+T.substring(_):o+(b?t:T+t))+n}}}function Ht(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function zt(t,e,n){function i(e){var n=t(e),i=r(n,1);return i-e>e-n?n:i}function o(n){return e(n=t(new ca(n-1)),1),n}function r(t,n){return e(t=new ca((+t)),n),t}function s(t,i,r){var s=o(t),a=[];if(r>1)for(;i>s;)n(s)%r||a.push(new Date((+s))),e(s,1);else for(;i>s;)a.push(new Date((+s))),e(s,1);return a}function a(t,e,n){try{ca=Ft;var i=new Ft;return i._=t,s(i,e,n)}finally{ca=Date}}t.floor=t,t.round=i,t.ceil=o,t.offset=r,t.range=s;var l=t.utc=jt(t);return l.floor=l,l.round=jt(i),l.ceil=jt(o),l.offset=jt(r),l.range=a,t}function jt(t){return function(e,n){try{ca=Ft;var i=new Ft;return i._=e,t(i,n)._}finally{ca=Date}}}function Rt(t){function e(t){function e(e){for(var n,o,r,s=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(o=ha[n=t.charAt(++a)])&&(n=t.charAt(++a)),(r=M[n])&&(n=r(e,null==o?"e"===n?" ":"0":o)),s.push(n),l=a+1);return s.push(t.slice(l,a)),s.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(i,t,e,0);if(o!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&ca!==Ft,s=new(r?Ft:ca);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),r?s._:s},e.toString=function(){return t},e}function n(t,e,n,i){for(var o,r,s,a=0,l=e.length,c=n.length;l>a;){if(i>=c)return-1;if(o=e.charCodeAt(a++),37===o){if(s=e.charAt(a++),r=A[s in ha?e.charAt(a++):s],!r||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){S.lastIndex=0;var i=S.exec(e.slice(n));return i?(t.m=D.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.m=T.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,M.c.toString(),e,i)}function l(t,e,i){return n(t,M.x.toString(),e,i)}function c(t,e,i){return n(t,M.X.toString(),e,i)}function u(t,e,n){var i=b.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,p=t.time,f=t.periods,m=t.days,g=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ca=Ft;var e=new ca;return e._=t,i(e)}finally{ca=Date}}var i=e(t);return n.parse=function(t){try{ca=Ft;var e=i.parse(t);return e&&e._}finally{ca=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ae;var b=ns.map(),w=Yt(m),x=Ut(m),C=Yt(g),k=Ut(g),_=Yt(v),T=Ut(v),S=Yt(y),D=Ut(y);f.forEach(function(t,e){b.set(t.toLowerCase(),e)});var M={a:function(t){return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+la.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(la.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(la.mondayOfYear(t),e,2)},x:e(d),X:e(p),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:re,"%":function(){return"%"}},A={a:i,A:o,b:r,B:s,c:a,d:Jt,e:Jt,H:ee,I:ee,j:te,L:oe,m:Zt,M:ne,p:u,S:ie,U:qt,w:Bt,W:Xt,x:l,X:c,y:Kt,Y:Vt,Z:Qt,"%":se};return e}function Wt(t,e,n){var i=0>t?"-":"",o=(i?-t:t)+"",r=o.length;return i+(n>r?new Array(n-r+1).join(e)+o:o)}function Yt(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function Ut(t){for(var e=new c,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Bt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Xt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Vt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Kt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.y=Gt(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Gt(t){return t+(t>68?1900:2e3)}function Zt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Jt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function te(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ee(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ne(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ie(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function re(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=fs(e)/60|0,o=fs(e)%60;return n+Wt(i,"0",2)+Wt(o,"0",2)}function se(t,e,n){pa.lastIndex=0;var i=pa.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ae(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function le(){}function ce(t,e,n){var i=n.s=t+e,o=i-t,r=i-o;n.t=t-r+(e-o)}function ue(t,e){t&&va.hasOwnProperty(t.type)&&va[t.type](t,e)}function he(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)he(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=$s,e=e*$s/2+Os/4;var n=t-i,s=n>=0?1:-1,a=s*n,l=Math.cos(e),c=Math.sin(e),u=r*c,h=o*l+u*Math.cos(a),d=u*s*Math.sin(a);ba.add(Math.atan2(d,h)),i=t,o=l,r=c}var e,n,i,o,r;wa.point=function(s,a){wa.point=t,i=(e=s)*$s,o=Math.cos(a=(n=a)*$s/2+Os/4),r=Math.sin(a)},wa.lineEnd=function(){t(e,n)}}function fe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ge(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function xe(t,e){return fs(t[0]-e[0])<Es&&fs(t[1]-e[1])<Es}function Ce(t,e){t*=$s;var n=Math.cos(e*=$s);ke(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function ke(t,e,n){++xa,ka+=(t-ka)/xa,_a+=(e-_a)/xa,Ta+=(n-Ta)/xa}function _e(){function t(t,o){t*=$s;var r=Math.cos(o*=$s),s=r*Math.cos(t),a=r*Math.sin(t),l=Math.sin(o),c=Math.atan2(Math.sqrt((c=n*l-i*a)*c+(c=i*s-e*l)*c+(c=e*a-n*s)*c),e*s+n*a+i*l);Ca+=c,Sa+=c*(e+(e=s)),Da+=c*(n+(n=a)),Ma+=c*(i+(i=l)),ke(e,n,i)}var e,n,i;Oa.point=function(o,r){o*=$s;var s=Math.cos(r*=$s);e=s*Math.cos(o),n=s*Math.sin(o),i=Math.sin(r),Oa.point=t,ke(e,n,i)}}function Te(){Oa.point=Ce}function Se(){function t(t,e){t*=$s;var n=Math.cos(e*=$s),s=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),c=o*l-r*a,u=r*s-i*l,h=i*a-o*s,d=Math.sqrt(c*c+u*u+h*h),p=i*s+o*a+r*l,f=d&&-tt(p)/d,m=Math.atan2(d,p);Aa+=f*c,Ea+=f*u,Na+=f*h,Ca+=m,Sa+=m*(i+(i=s)),Da+=m*(o+(o=a)),Ma+=m*(r+(r=l)),ke(i,o,r)}var e,n,i,o,r;Oa.point=function(s,a){e=s,n=a,Oa.point=t,s*=$s;var l=Math.cos(a*=$s);i=l*Math.cos(s),o=l*Math.sin(s),r=Math.sin(a),ke(i,o,r)},Oa.lineEnd=function(){t(e,n),Oa.lineEnd=Te,Oa.point=Ce}}function De(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function Ae(t,e,n,i,o){var r=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(xe(n,i)){o.lineStart();for(var a=0;e>a;++a)o.point((n=t[a])[0],n[1]);return void o.lineEnd()}var l=new Ne(n,t,null,(!0)),c=new Ne(n,null,l,(!1));l.o=c,r.push(l),s.push(c),l=new Ne(i,t,null,(!1)),c=new Ne(i,null,l,(!0)),l.o=c,r.push(l),s.push(c)}}),s.sort(e),Ee(r),Ee(s),r.length){for(var a=0,l=n,c=s.length;c>a;++a)s[a].e=l=!l;for(var u,h,d=r[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;u=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var a=0,c=u.length;c>a;++a)o.point((h=u[a])[0],h[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(f){u=p.p.z;for(var a=u.length-1;a>=0;--a)o.point((h=u[a])[0],h[1])}else i(p.x,p.p.x,-1,o);p=p.p}p=p.o,u=p.z,f=!f}while(!p.v);o.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ne(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Oe(t,e,n,i){return function(o,r){function s(e,n){var i=o(e,n);t(e=i[0],n=i[1])&&r.point(e,n)}function a(t,e){var n=o(t,e);g.point(n[0],n[1])}function l(){y.point=a,g.lineStart()}function c(){y.point=s,g.lineEnd()}function u(t,e){m.push([t,e]);var n=o(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),m=[]}function d(){u(m[0][0],m[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),i=n.length;if(m.pop(),f.push(m),m=null,i)if(1&e){t=n[0];var o,i=t.length-1,s=-1;if(i>0){for(x||(r.polygonStart(),x=!0),r.lineStart();++s<i;)r.point((o=t[s])[0],o[1]);r.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Pe))}var p,f,m,g=e(r),v=o.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=h,y.lineEnd=d,p=[],f=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=c,p=ns.merge(p);var t=ze(v,f);p.length?(x||(r.polygonStart(),x=!0),Ae(p,Le,t,n,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),p=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},b=Ie(),w=e(b),x=!1;return y}}function Pe(t){return t.length>1}function Ie(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Le(t,e){return((t=t.x)[0]<0?t[1]-Ls-Es:Ls-t[1])-((e=e.x)[0]<0?e[1]-Ls-Es:Ls-e[1])}function $e(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,s){var a=r>0?Os:-Os,l=fs(r-n);fs(l-Os)<Es?(t.point(n,i=(i+s)/2>0?Ls:-Ls),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(r,i),e=0):o!==a&&l>=Os&&(fs(n-o)<Es&&(n-=o*Es),fs(r-a)<Es&&(r-=a*Es),i=He(n,i,r,s),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=r,i=s),o=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function He(t,e,n,i){var o,r,s=Math.sin(t-n);return fs(s)>Es?Math.atan((Math.sin(e)*(r=Math.cos(i))*Math.sin(n)-Math.sin(i)*(o=Math.cos(e))*Math.sin(t))/(o*r*s)):(e+i)/2}function Fe(t,e,n,i){var o;if(null==t)o=n*Ls,i.point(-Os,o),i.point(0,o),i.point(Os,o),i.point(Os,0),i.point(Os,-o),i.point(0,-o),i.point(-Os,-o),i.point(-Os,0),i.point(-Os,o);else if(fs(t[0]-e[0])>Es){var r=t[0]<e[0]?Os:-Os;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])}function ze(t,e){var n=t[0],i=t[1],o=[Math.sin(n),-Math.cos(n),0],r=0,s=0;ba.reset();for(var a=0,l=e.length;l>a;++a){var c=e[a],u=c.length;if(u)for(var h=c[0],d=h[0],p=h[1]/2+Os/4,f=Math.sin(p),m=Math.cos(p),g=1;;){g===u&&(g=0),t=c[g];var v=t[0],y=t[1]/2+Os/4,b=Math.sin(y),w=Math.cos(y),x=v-d,C=x>=0?1:-1,k=C*x,_=k>Os,T=f*b;if(ba.add(Math.atan2(T*C*Math.sin(k),m*w+T*Math.cos(k))),r+=_?x+C*Ps:x,_^d>=n^v>=n){var S=ge(fe(h),fe(t));be(S);var D=ge(o,S);be(D);var M=(_^x>=0?-1:1)*et(D[2]);(i>M||i===M&&(S[0]||S[1]))&&(s+=_^x>=0?1:-1)}if(!g++)break;d=v,f=b,m=w,h=t}}return(-Es>r||Es>r&&0>ba)^1&s}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t){var n,r,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var p,f=[h,d],m=e(h,d),g=s?m?0:o(h,d):m?o(h+(0>h?Os:-Os),d):0;if(!n&&(c=l=m)&&t.lineStart(),m!==l&&(p=i(n,f),(xe(n,p)||xe(f,p))&&(f[0]+=Es,f[1]+=Es,m=e(f[0],f[1]))),m!==l)u=0,m?(t.lineStart(),p=i(f,n),t.point(p[0],p[1])):(p=i(n,f),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(a&&n&&s^m){var v;g&r||!(v=i(f,n,!0))||(u=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&xe(n,f)||t.point(f[0],f[1]),n=f,l=m,r=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function i(t,e,n){var i=fe(t),o=fe(e),s=[1,0,0],a=ge(i,o),l=me(a,a),c=a[0],u=l-c*c;if(!u)return!n&&t;var h=r*l/u,d=-r*c/u,p=ge(s,a),f=ye(s,h),m=ye(a,d);ve(f,m);var g=p,v=me(f,g),y=me(g,g),b=v*v-y*(me(f,f)-1);if(!(0>b)){var w=Math.sqrt(b),x=ye(g,(-v-w)/y);if(ve(x,f),x=we(x),!n)return x;var C,k=t[0],_=e[0],T=t[1],S=e[1];k>_&&(C=k,k=_,_=C);var D=_-k,M=fs(D-Os)<Es,A=M||Es>D;if(!M&&T>S&&(C=T,T=S,S=C),A?M?T+S>0^x[1]<(fs(x[0]-k)<Es?T:S):T<=x[1]&&x[1]<=S:D>Os^(k<=x[0]&&x[0]<=_)){var E=ye(g,(-v+w)/y);return ve(E,f),[x,we(E)]}}}function o(e,n){var i=s?t:Os-t,o=0;return-i>e?o|=1:e>i&&(o|=2),-i>n?o|=4:n>i&&(o|=8),o}var r=Math.cos(t),s=r>0,a=fs(r)>Es,l=fn(t,6*$s);return Oe(e,n,l,s?[0,-t]:[-Os,t-Os])}function Re(t,e,n,i){return function(o){var r,s=o.a,a=o.b,l=s.x,c=s.y,u=a.x,h=a.y,d=0,p=1,f=u-l,m=h-c;if(r=t-l,f||!(r>0)){if(r/=f,0>f){if(d>r)return;p>r&&(p=r)}else if(f>0){if(r>p)return;r>d&&(d=r)}if(r=n-l,f||!(0>r)){if(r/=f,0>f){if(r>p)return;r>d&&(d=r)}else if(f>0){if(d>r)return;p>r&&(p=r)}if(r=e-c,m||!(r>0)){if(r/=m,0>m){if(d>r)return;p>r&&(p=r)}else if(m>0){if(r>p)return;r>d&&(d=r)}if(r=i-c,m||!(0>r)){if(r/=m,0>m){if(r>p)return;r>d&&(d=r)}else if(m>0){if(d>r)return;p>r&&(p=r)}return d>0&&(o.a={x:l+d*f,y:c+d*m}),1>p&&(o.b={x:l+p*f,y:c+p*m}),o}}}}}}function We(t,e,n,i){function o(i,o){return fs(i[0]-t)<Es?o>0?0:3:fs(i[0]-n)<Es?o>0?2:1:fs(i[1]-e)<Es?o>0?1:0:o>0?3:2}function r(t,e){return s(t.x,e.x)}function s(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=g.length,i=t[1],o=0;n>o;++o)for(var r,s=1,a=g[o],l=a.length,c=a[0];l>s;++s)r=a[s],c[1]<=i?r[1]>i&&J(c,r,t)>0&&++e:r[1]<=i&&J(c,r,t)<0&&--e,c=r;return 0!==e}function c(r,a,l,c){var u=0,h=0;if(null==r||(u=o(r,l))!==(h=o(a,l))||s(r,a)<0^l>0){do c.point(0===u||3===u?t:n,u>1?i:e);while((u=(u+l+4)%4)!==h)}else c.point(a[0],a[1])}function u(o,r){return o>=t&&n>=o&&r>=e&&i>=r}function h(t,e){u(t,e)&&a.point(t,e)}function d(){A.point=f,g&&g.push(v=[]),_=!0,k=!1,x=C=NaN}function p(){m&&(f(y,b),w&&k&&D.rejoin(),m.push(D.buffer())),A.point=h,k&&a.lineEnd()}function f(t,e){t=Math.max(-Ia,Math.min(Ia,t)),e=Math.max(-Ia,Math.min(Ia,e));var n=u(t,e);if(g&&v.push([t,e]),_)y=t,b=e,w=n,_=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&k)a.point(t,e);else{var i={a:{x:x,y:C},b:{x:t,y:e}};M(i)?(k||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),T=!1):n&&(a.lineStart(),a.point(t,e),T=!1)}x=t,C=e,k=n}var m,g,v,y,b,w,x,C,k,_,T,S=a,D=Ie(),M=Re(t,e,n,i),A={point:h,lineStart:d,lineEnd:p,polygonStart:function(){a=D,m=[],g=[],T=!0},polygonEnd:function(){a=S,m=ns.merge(m);var e=l([t,i]),n=T&&e,o=m.length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),o&&Ae(m,r,e,c,a),a.polygonEnd()),m=g=v=null}};return A}}function Ye(t){var e=0,n=Os/3,i=sn(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*Os/180,n=t[1]*Os/180):[e/Os*180,n/Os*180]},o}function Ue(t,e){function n(t,e){var n=Math.sqrt(r-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),s-n*Math.cos(t)]}var i=Math.sin(t),o=(i+Math.sin(e))/2,r=1+i*(2*o-i),s=Math.sqrt(r)/o;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/o,et((r-(t*t+n*n)*o*o)/(2*o))]},n}function Be(){function t(t,e){$a+=o*t-i*e,i=t,o=e}var e,n,i,o;Ra.point=function(r,s){Ra.point=t,e=i=r,n=o=s},Ra.lineEnd=function(){t(e,n)}}function qe(t,e){Ha>t&&(Ha=t),t>za&&(za=t),Fa>e&&(Fa=e),e>ja&&(ja=e)}function Xe(){function t(t,e){s.push("M",t,",",e,r)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function o(){s.push("Z")}var r=Ve(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return r=Ve(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function Ve(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){ka+=t,_a+=e,++Ta}function Qe(){function t(t,i){var o=t-e,r=i-n,s=Math.sqrt(o*o+r*r);Sa+=s*(e+t)/2,Da+=s*(n+i)/2,Ma+=s,Ke(e=t,n=i)}var e,n;Ya.point=function(i,o){Ya.point=t,Ke(e=i,n=o)}}function Ge(){Ya.point=Ke}function Ze(){function t(t,e){var n=t-i,r=e-o,s=Math.sqrt(n*n+r*r);Sa+=s*(i+t)/2,Da+=s*(o+e)/2,Ma+=s,s=o*t-i*e,Aa+=s*(i+t),Ea+=s*(o+e),Na+=3*s,Ke(i=t,o=e)}var e,n,i,o;Ya.point=function(r,s){Ya.point=t,Ke(e=i=r,n=o=s)},Ya.lineEnd=function(){t(e,n)}}function Je(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,Ps)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function o(){a.point=e}function r(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:o,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=o,a.point=e},pointRadius:function(t){return s=t,a},result:x};return a}function tn(t){function e(t){return(a?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,_.point=r,e.lineStart()}function r(n,i){var r=fe([n,i]),s=t(n,i);o(b,w,y,x,C,k,b=s[0],w=s[1],y=n,x=r[0],C=r[1],k=r[2],a,e),e.point(b,w)}function s(){_.point=n,e.lineEnd()}function l(){i(),_.point=c,_.lineEnd=u}function c(t,e){r(h=t,d=e),p=b,f=w,m=x,g=C,v=k,_.point=r}function u(){o(b,w,y,x,C,k,p,f,h,m,g,v,a,e),_.lineEnd=s,s()}var h,d,p,f,m,g,v,y,b,w,x,C,k,_={point:n,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),_.lineStart=l},polygonEnd:function(){e.polygonEnd(),_.lineStart=i}};return _}function o(e,n,i,a,l,c,u,h,d,p,f,m,g,v){var y=u-e,b=h-n,w=y*y+b*b;if(w>4*r&&g--){var x=a+p,C=l+f,k=c+m,_=Math.sqrt(x*x+C*C+k*k),T=Math.asin(k/=_),S=fs(fs(k)-1)<Es||fs(i-d)<Es?(i+d)/2:Math.atan2(C,x),D=t(S,T),M=D[0],A=D[1],E=M-e,N=A-n,O=b*E-y*N;(O*O/w>r||fs((y*E+b*N)/w-.5)>.3||s>a*p+l*f+c*m)&&(o(e,n,i,a,l,c,M,A,S,x/=_,C/=_,k,g,v),v.point(M,A),o(M,A,S,x,C,k,u,h,d,p,f,m,g,v))}}var r=.5,s=Math.cos(30*$s),a=16;return e.precision=function(t){return arguments.length?(a=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function en(t){var e=tn(function(e,n){return t([e*Hs,n*Hs])});return function(t){return an(e(t))}}function nn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function rn(t){return sn(function(){return t})()}function sn(t){function e(t){return t=a(t[0]*$s,t[1]*$s),[t[0]*d+l,c-t[1]*d]}function n(t){return t=a.invert((t[0]-l)/d,(c-t[1])/d),t&&[t[0]*Hs,t[1]*Hs]}function i(){a=De(s=un(v,b,w),r);var t=r(m,g);return l=p-t[0]*d,c=f+t[1]*d,o()}function o(){return u&&(u.valid=!1,u=null),e}var r,s,a,l,c,u,h=tn(function(t,e){return t=r(t,e),[t[0]*d+l,c-t[1]*d]}),d=150,p=480,f=250,m=0,g=0,v=0,b=0,w=0,x=Pa,C=y,k=null,_=null;return e.stream=function(t){return u&&(u.valid=!1),u=an(x(s,h(C(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,Pa):je((k=+t)*$s),o()):k},e.clipExtent=function(t){return arguments.length?(_=t,C=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):y,o()):_},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],i()):[p,f]},e.center=function(t){return arguments.length?(m=t[0]%360*$s,g=t[1]%360*$s,i()):[m*Hs,g*Hs]},e.rotate=function(t){return arguments.length?(v=t[0]%360*$s,b=t[1]%360*$s,w=t.length>2?t[2]%360*$s:0,i()):[v*Hs,b*Hs,w*Hs]},ns.rebind(e,h,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,i()}}function an(t){return on(t,function(e,n){t.point(e*$s,n*$s)})}function ln(t,e){return[t,e]}function cn(t,e){return[t>Os?t-Ps:-Os>t?t+Ps:t,e]}function un(t,e,n){return t?e||n?De(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function hn(t){return function(e,n){return e+=t,[e>Os?e-Ps:-Os>e?e+Ps:e,n]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*i+a*o;return[Math.atan2(l*r-u*s,a*i-c*o),et(u*r+l*s)]}var i=Math.cos(t),o=Math.sin(t),r=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*r-l*s;return[Math.atan2(l*r+c*s,a*i+u*o),et(u*i-a*o)]},n}function fn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(o,r,s,a){var l=s*e;null!=o?(o=mn(n,o),r=mn(n,r),(s>0?r>o:o>r)&&(o+=s*Ps)):(o=t+s*Ps,r=t-.5*l);for(var c,u=o;s>0?u>r:r>u;u-=l)a.point((c=we([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function mn(t,e){var n=fe(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Es)%(2*Math.PI)}function gn(t,e,n){var i=ns.range(t,e-Es,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vn(t,e,n){var i=ns.range(t,e-Es,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yn(t){return t.source}function bn(t){return t.target}function wn(t,e,n,i){var o=Math.cos(e),r=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=o*Math.cos(t),c=o*Math.sin(t),u=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt(rt(i-e)+o*s*rt(n-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,n=Math.sin(d-t)*p,i=n*l+e*u,o=n*c+e*h,s=n*r+e*a;return[Math.atan2(o,i)*Hs,Math.atan2(s,Math.sqrt(i*i+o*o))*Hs]}:function(){return[t*Hs,e*Hs]};return f.distance=d,f}function xn(){function t(t,o){var r=Math.sin(o*=$s),s=Math.cos(o),a=fs((t*=$s)-e),l=Math.cos(a);Ua+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*r-n*s*l)*a),n*r+i*s*l),e=t,n=r,i=s}var e,n,i;Ba.point=function(o,r){e=o*$s,n=Math.sin(r*=$s),i=Math.cos(r),Ba.point=t},Ba.lineEnd=function(){Ba.point=Ba.lineEnd=x}}function Cn(t,e){function n(e,n){var i=Math.cos(e),o=Math.cos(n),r=t(i*o);return[r*o*Math.sin(e),r*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),o=e(i),r=Math.sin(o),s=Math.cos(o);return[Math.atan2(t*r,i*s),Math.asin(i&&n*r/i)]},n}function kn(t,e){function n(t,e){s>0?-Ls+Es>e&&(e=-Ls+Es):e>Ls-Es&&(e=Ls-Es);var n=s/Math.pow(o(e),r);return[n*Math.sin(r*t),s-n*Math.cos(r*t)]}var i=Math.cos(t),o=function(t){return Math.tan(Os/4+t/2)},r=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(o(e)/o(t)),s=i*Math.pow(o(t),r)/r;return r?(n.invert=function(t,e){var n=s-e,i=Z(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(s/i,1/r))-Ls]},n):Tn}function _n(t,e){function n(t,e){var n=r-e;return[n*Math.sin(o*t),r-n*Math.cos(o*t)]}var i=Math.cos(t),o=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),r=i/o+t;return fs(o)<Es?ln:(n.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/o,r-Z(o)*Math.sqrt(t*t+n*n)]},n)}function Tn(t,e){return[t,Math.log(Math.tan(Os/4+e/2))]}function Sn(t){var e,n=rn(t),i=n.scale,o=n.translate,r=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=r.apply(n,arguments);if(s===n){if(e=null==t){var a=Os*i(),l=o();r([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Dn(t,e){return[Math.log(Math.tan(Os/4+e/2)),-t]}function Mn(t){return t[0]}function An(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],i=2,o=2;e>o;o++){for(;i>1&&J(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}function Nn(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pn(t,e,n,i){var o=t[0],r=n[0],s=e[0]-o,a=i[0]-r,l=t[1],c=n[1],u=e[1]-l,h=i[1]-c,d=(a*(l-c)-h*(o-r))/(h*s-a*u);return[o+d*s,l+d*u]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Ln(){ni(this),this.edge=this.site=this.circle=null}function $n(t){var e=il.pop()||new Ln;return e.site=t,e}function Hn(t){Xn(t),tl.remove(t),il.push(t),ni(t)}function Fn(t){var e=t.circle,n=e.x,i=e.cy,o={x:n,y:i},r=t.P,s=t.N,a=[t];Hn(t);for(var l=r;l.circle&&fs(n-l.circle.x)<Es&&fs(i-l.circle.cy)<Es;)r=l.P,a.unshift(l),Hn(l),l=r;a.unshift(l),Xn(l);for(var c=s;c.circle&&fs(n-c.circle.x)<Es&&fs(i-c.circle.cy)<Es;)s=c.N,a.push(c),Hn(c),c=s;a.push(c),Xn(c);var u,h=a.length;for(u=1;h>u;++u)c=a[u],l=a[u-1],Jn(c.edge,l.site,c.site,o);l=a[0],c=a[h-1],c.edge=Gn(l.site,c.site,null,o),qn(l),qn(c)}function zn(t){for(var e,n,i,o,r=t.x,s=t.y,a=tl._;a;)if(i=jn(a,s)-r,i>Es)a=a.L;else{if(o=r-Rn(a,s),!(o>Es)){i>-Es?(e=a.P,n=a):o>-Es?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=$n(t);if(tl.insert(e,l),e||n){if(e===n)return Xn(e),n=$n(e.site),tl.insert(l,n),l.edge=n.edge=Gn(e.site,l.site),qn(e),void qn(n);if(!n)return void(l.edge=Gn(e.site,l.site));Xn(e),Xn(n);var c=e.site,u=c.x,h=c.y,d=t.x-u,p=t.y-h,f=n.site,m=f.x-u,g=f.y-h,v=2*(d*g-p*m),y=d*d+p*p,b=m*m+g*g,w={x:(g*y-p*b)/v+u,y:(d*b-m*y)/v+h};Jn(n.edge,c,f,w),l.edge=Gn(c,t,null,w),n.edge=Gn(t,f,null,w),qn(e),qn(n)}}function jn(t,e){var n=t.site,i=n.x,o=n.y,r=o-e;if(!r)return i;var s=t.P;if(!s)return-1/0;n=s.site;var a=n.x,l=n.y,c=l-e;if(!c)return a;var u=a-i,h=1/r-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+o-r/2)))/h+i:(i+a)/2}function Rn(t,e){var n=t.N;if(n)return jn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Wn(t){this.site=t,this.edges=[]}function Yn(t){for(var e,n,i,o,r,s,a,l,c,u,h=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],m=Ja,g=m.length;g--;)if(r=m[g],r&&r.prepare())for(a=r.edges,l=a.length,s=0;l>s;)u=a[s].end(),i=u.x,o=u.y,c=a[++s%l].start(),e=c.x,n=c.y,(fs(i-e)>Es||fs(o-n)>Es)&&(a.splice(s,0,new ti(Zn(r.site,u,fs(i-h)<Es&&f-o>Es?{x:h,y:fs(e-h)<Es?n:f}:fs(o-f)<Es&&d-i>Es?{x:fs(n-f)<Es?e:d,y:f}:fs(i-d)<Es&&o-p>Es?{x:d,y:fs(e-d)<Es?n:p}:fs(o-p)<Es&&i-h>Es?{x:fs(n-p)<Es?e:h,y:p}:null),r.site,null)),++l)}function Un(t,e){return e.angle-t.angle}function Bn(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function qn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var s=o.x,a=o.y,l=i.x-s,c=i.y-a,u=r.x-s,h=r.y-a,d=2*(l*h-c*u);if(!(d>=-Ns)){var p=l*l+c*c,f=u*u+h*h,m=(h*p-c*f)/d,g=(l*f-u*p)/d,h=g+a,v=ol.pop()||new Bn;v.arc=t,v.site=o,v.x=m+s,v.y=h+Math.sqrt(m*m+g*g),v.cy=h,t.circle=v;for(var y=null,b=nl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nl.insert(y,v),y||(el=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),ol.push(e),ni(e),t.circle=null)}function Vn(t){for(var e,n=Za,i=Re(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!Kn(e,t)||!i(e)||fs(e.a.x-e.b.x)<Es&&fs(e.a.y-e.b.y)<Es)&&(e.a=e.b=null,n.splice(o,1))}function Kn(t,e){var n=t.b;if(n)return!0;var i,o,r=t.a,s=e[0][0],a=e[1][0],l=e[0][1],c=e[1][1],u=t.l,h=t.r,d=u.x,p=u.y,f=h.x,m=h.y,g=(d+f)/2,v=(p+m)/2;if(m===p){if(s>g||g>=a)return;if(d>f){if(r){if(r.y>=c)return}else r={x:g,y:l};n={x:g,y:c}}else{if(r){if(r.y<l)return}else r={x:g,y:c};n={x:g,y:l}}}else if(i=(d-f)/(m-p),o=v-i*g,-1>i||i>1)if(d>f){if(r){if(r.y>=c)return}else r={x:(l-o)/i,y:l};n={x:(c-o)/i,y:c}}else{if(r){if(r.y<l)return}else r={x:(c-o)/i,y:c};n={x:(l-o)/i,y:l}}else if(m>p){if(r){if(r.x>=a)return}else r={x:s,y:i*s+o};n={x:a,y:i*a+o}}else{if(r){if(r.x<s)return}else r={x:a,y:i*a+o};n={x:s,y:i*s+o}}return t.a=r,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Gn(t,e,n,i){
var o=new Qn(t,e);return Za.push(o),n&&Jn(o,t,e,n),i&&Jn(o,e,t,i),Ja[t.i].edges.push(new ti(o,t,e)),Ja[e.i].edges.push(new ti(o,e,t)),o}function Zn(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,Za.push(i),i}function Jn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ti(t,e,n){var i=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-i.x,i.y-o.y):Math.atan2(i.x-o.x,o.y-i.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ii(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ri(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,o,r=t.sort(ai).pop();for(Za=[],Ja=new Array(t.length),tl=new ei,nl=new ei;;)if(o=el,r&&(!o||r.y<o.y||r.y===o.y&&r.x<o.x))(r.x!==n||r.y!==i)&&(Ja[r.i]=new Wn(r),zn(r),n=r.x,i=r.y),r=t.pop();else{if(!o)break;Fn(o.arc)}e&&(Vn(e),Yn(e));var s={cells:Ja,edges:Za};return tl=nl=Za=Ja=null,s}function ai(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function ui(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,o,r){if(!t(e,n,i,o,r)){var s=.5*(n+o),a=.5*(i+r),l=e.nodes;l[0]&&di(t,l[0],n,i,s,a),l[1]&&di(t,l[1],s,i,o,a),l[2]&&di(t,l[2],n,a,s,r),l[3]&&di(t,l[3],s,a,o,r)}}function pi(t,e,n,i,o,r,s){var a,l=1/0;return function c(t,u,h,d,p){if(!(u>r||h>s||i>d||o>p)){if(f=t.point){var f,m=e-t.x,g=n-t.y,v=m*m+g*g;if(l>v){var y=Math.sqrt(l=v);i=e-y,o=n-y,r=e+y,s=n+y,a=f}}for(var b=t.nodes,w=.5*(u+d),x=.5*(h+p),C=e>=w,k=n>=x,_=k<<1|C,T=_+4;T>_;++_)if(t=b[3&_])switch(3&_){case 0:c(t,u,h,w,x);break;case 1:c(t,w,h,d,x);break;case 2:c(t,u,x,w,p);break;case 3:c(t,w,x,d,p)}}}(t,i,o,r,s),a}function fi(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,i=t.g,o=t.b,r=e.r-n,s=e.g-i,a=e.b-o;return function(t){return"#"+wt(Math.round(n+r*t))+wt(Math.round(i+s*t))+wt(Math.round(o+a*t))}}function mi(t,e){var n,i={},o={};for(n in t)n in e?i[n]=yi(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in i)o[n]=i[n](t);return o}}function gi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,i,o,r=sl.lastIndex=al.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=sl.exec(t))&&(i=al.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:gi(n,i)})),r=al.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function yi(t,e){for(var n,i=ns.interpolators.length;--i>=0&&!(n=ns.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],o=[],r=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(yi(t[n],e[n]));for(;r>n;++n)o[n]=t[n];for(;s>n;++n)o[n]=e[n];return function(t){for(n=0;a>n;++n)o[n]=i[n](t);return o}}function wi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function Ci(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function _i(t){return t*t*t}function Ti(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Si(t){return function(e){return Math.pow(e,t)}}function Di(t){return 1-Math.cos(t*Ls)}function Mi(t){return Math.pow(2,10*(t-1))}function Ai(t){return 1-Math.sqrt(1-t*t)}function Ei(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ps*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ps/e)}}function Ni(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Oi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Pi(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,i=t.c,o=t.l,r=e.h-n,s=e.c-i,a=e.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?e.c:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return ut(n+r*t,i+s*t,o+a*t)+""}}function Ii(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,i=t.s,o=t.l,r=e.h-n,s=e.s-i,a=e.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?e.s:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return lt(n+r*t,i+s*t,o+a*t)+""}}function Li(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,i=t.a,o=t.b,r=e.l-n,s=e.a-i,a=e.b-o;return function(t){return dt(n+r*t,i+s*t,o+a*t)+""}}function $i(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Hi(t){var e=[t.a,t.b],n=[t.c,t.d],i=zi(e),o=Fi(e,n),r=zi(ji(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Hs,this.translate=[t.e,t.f],this.scale=[i,r],this.skew=r?Math.atan2(o,r)*Hs:0}function Fi(t,e){return t[0]*e[0]+t[1]*e[1]}function zi(t){var e=Math.sqrt(Fi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ji(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ri(t,e){var n,i=[],o=[],r=ns.transform(t),s=ns.transform(e),a=r.translate,l=s.translate,c=r.rotate,u=s.rotate,h=r.skew,d=s.skew,p=r.scale,f=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),o.push({i:1,x:gi(a[0],l[0])},{i:3,x:gi(a[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),o.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:gi(c,u)})):u&&i.push(i.pop()+"rotate("+u+")"),h!=d?o.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:gi(h,d)}):d&&i.push(i.pop()+"skewX("+d+")"),p[0]!=f[0]||p[1]!=f[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:gi(p[0],f[0])},{i:n-2,x:gi(p[1],f[1])})):(1!=f[0]||1!=f[1])&&i.push(i.pop()+"scale("+f+")"),n=o.length,function(t){for(var e,r=-1;++r<n;)i[(e=o[r]).i]=e.x(t);return i.join("")}}function Wi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Yi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ui(t){for(var e=t.source,n=t.target,i=qi(e,n),o=[e];e!==i;)e=e.parent,o.push(e);for(var r=o.length;n!==i;)o.splice(r,0,n),n=n.parent;return o}function Bi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function qi(t,e){if(t===e)return t;for(var n=Bi(t),i=Bi(e),o=n.pop(),r=i.pop(),s=null;o===r;)s=o,o=n.pop(),r=i.pop();return s}function Xi(t){t.fixed|=2}function Vi(t){t.fixed&=-7}function Ki(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Qi(t){t.fixed&=-5}function Gi(t,e,n){var i=0,o=0;if(t.charge=0,!t.leaf)for(var r,s=t.nodes,a=s.length,l=-1;++l<a;)r=s[l],null!=r&&(Gi(r,e,n),t.charge+=r.charge,i+=r.charge*r.cx,o+=r.charge*r.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,o+=c*t.point.y}t.cx=i/t.charge,t.cy=o/t.charge}function Zi(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=oo,t}function Ji(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(i=o.length))for(var i,o;--i>=0;)n.push(o[i])}function to(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(r=t.children)&&(o=r.length))for(var o,r,s=-1;++s<o;)n.push(r[s]);for(;null!=(t=i.pop());)e(t)}function eo(t){return t.children}function no(t){return t.value}function io(t,e){return e.value-t.value}function oo(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ro(t){return t.x}function so(t){return t.y}function ao(t,e,n){t.y0=e,t.y=n}function lo(t){return ns.range(t.length)}function co(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function uo(t){for(var e,n=1,i=0,o=t[0][1],r=t.length;r>n;++n)(e=t[n][1])>o&&(i=n,o=e);return i}function ho(t){return t.reduce(po,0)}function po(t,e){return t+e[1]}function fo(t,e){return mo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function mo(t,e){for(var n=-1,i=+t[0],o=(t[1]-i)/e,r=[];++n<=e;)r[n]=o*n+i;return r}function go(t){return[ns.min(t),ns.max(t)]}function vo(t,e){return t.value-e.value}function yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function bo(t,e){t._pack_next=e,e._pack_prev=t}function wo(t,e){var n=e.x-t.x,i=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+i*i}function xo(t){function e(t){u=Math.min(t.x-t.r,u),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,i,o,r,s,a,l,c,u=1/0,h=-1/0,d=1/0,p=-1/0;if(n.forEach(Co),i=n[0],i.x=-i.r,i.y=0,e(i),c>1&&(o=n[1],o.x=o.r,o.y=0,e(o),c>2))for(r=n[2],To(i,o,r),e(r),yo(i,r),i._pack_prev=r,yo(r,o),o=i._pack_next,s=3;c>s;s++){To(i,o,r=n[s]);var f=0,m=1,g=1;for(a=o._pack_next;a!==o;a=a._pack_next,m++)if(wo(a,r)){f=1;break}if(1==f)for(l=i._pack_prev;l!==a._pack_prev&&!wo(l,r);l=l._pack_prev,g++);f?(g>m||m==g&&o.r<i.r?bo(i,o=a):bo(i=l,o),s--):(yo(i,r),o=r,e(r))}var v=(u+h)/2,y=(d+p)/2,b=0;for(s=0;c>s;s++)r=n[s],r.x-=v,r.y-=y,b=Math.max(b,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=b,n.forEach(ko)}}function Co(t){t._pack_next=t._pack_prev=t}function ko(t){delete t._pack_next,delete t._pack_prev}function _o(t,e,n,i){var o=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,o)for(var r=-1,s=o.length;++r<s;)_o(o[r],e,n,i)}function To(t,e,n){var i=t.r+n.r,o=e.x-t.x,r=e.y-t.y;if(i&&(o||r)){var s=e.r+n.r,a=o*o+r*r;s*=s,i*=i;var l=.5+(i-s)/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*o+c*r,n.y=t.y+l*r-c*o}else n.x=t.x+i,n.y=t.y}function So(t,e){return t.parent==e.parent?1:2}function Do(t){var e=t.children;return e.length?e[0]:t.t}function Mo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ao(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Eo(t){for(var e,n=0,i=0,o=t.children,r=o.length;--r>=0;)e=o[r],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function No(t,e,n){return t.a.parent===e.parent?t.a:n}function Oo(t){return 1+ns.max(t,function(t){return t.y})}function Po(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Io(t){var e=t.children;return e&&e.length?Io(e[0]):t}function Lo(t){var e,n=t.children;return n&&(e=n.length)?Lo(n[e-1]):t}function $o(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ho(t,e){var n=t.x+e[3],i=t.y+e[0],o=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>r&&(i+=r/2,r=0),{x:n,y:i,dx:o,dy:r}}function Fo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function zo(t){return t.rangeExtent?t.rangeExtent():Fo(t.range())}function jo(t,e,n,i){var o=n(t[0],t[1]),r=i(e[0],e[1]);return function(t){return r(o(t))}}function Ro(t,e){var n,i=0,o=t.length-1,r=t[i],s=t[o];return r>s&&(n=i,i=o,o=n,n=r,r=s,s=n),t[i]=e.floor(r),t[o]=e.ceil(s),t}function Wo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function Yo(t,e,n,i){var o=[],r=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)o.push(n(t[s-1],t[s])),r.push(i(e[s-1],e[s]));return function(e){var n=ns.bisect(t,e,1,a)-1;return r[n](o[n](e))}}function Uo(t,e,n,i){function o(){var o=Math.min(t.length,e.length)>2?Yo:jo,l=i?Yi:Wi;return s=o(t,e,l,n),a=o(e,t,l,yi),r}function r(t){return s(t)}var s,a;return r.invert=function(t){return a(t)},r.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},r.range=function(t){return arguments.length?(e=t,o()):e},r.rangeRound=function(t){return r.range(t).interpolate($i)},r.clamp=function(t){return arguments.length?(i=t,o()):i},r.interpolate=function(t){return arguments.length?(n=t,o()):n},r.ticks=function(e){return Vo(t,e)},r.tickFormat=function(e,n){return Ko(t,e,n)},r.nice=function(e){return qo(t,e),o()},r.copy=function(){return Uo(t,e,n,i)},o()}function Bo(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function qo(t,e){return Ro(t,Wo(Xo(t,e)[2]))}function Xo(t,e){null==e&&(e=10);var n=Fo(t),i=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),r=e/i*o;return.15>=r?o*=10:.35>=r?o*=5:.75>=r&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function Vo(t,e){return ns.range.apply(ns,Xo(t,e))}function Ko(t,e,n){var i=Xo(t,e);if(n){var o=sa.exec(n);if(o.shift(),"s"===o[8]){var r=ns.formatPrefix(Math.max(fs(i[0]),fs(i[1])));return o[7]||(o[7]="."+Qo(r.scale(i[2]))),o[8]="f",n=ns.format(o.join("")),function(t){return n(r.scale(t))+r.symbol}}o[7]||(o[7]="."+Go(o[8],i)),n=o.join("")}else n=",."+Qo(i[2])+"f";return ns.format(n)}function Qo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Go(t,e){var n=Qo(e[2]);return t in bl?Math.abs(n-Qo(Math.max(fs(e[0]),fs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Zo(t,e,n,i){function o(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function r(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(o(e))}return s.invert=function(e){return r(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(o)),s):i},s.base=function(n){return arguments.length?(e=+n,t.domain(i.map(o)),s):e},s.nice=function(){var e=Ro(i.map(o),n?Math:xl);return t.domain(e),i=e.map(r),s},s.ticks=function(){var t=Fo(i),s=[],a=t[0],l=t[1],c=Math.floor(o(a)),u=Math.ceil(o(l)),h=e%1?2:e;if(isFinite(u-c)){if(n){for(;u>c;c++)for(var d=1;h>d;d++)s.push(r(c)*d);s.push(r(c))}else for(s.push(r(c));c++<u;)for(var d=h-1;d>0;d--)s.push(r(c)*d);for(c=0;s[c]<a;c++);for(u=s.length;s[u-1]>l;u--);s=s.slice(c,u)}return s},s.tickFormat=function(t,e){if(!arguments.length)return wl;arguments.length<2?e=wl:"function"!=typeof e&&(e=ns.format(e));var i,a=Math.max(.1,t/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/r(l(o(t)+i))<=a?e(t):""}},s.copy=function(){return Zo(t.copy(),e,n,i)},Bo(s,t)}function Jo(t,e,n){function i(e){return t(o(e))}var o=tr(e),r=tr(1/e);return i.invert=function(e){return r(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),i):n},i.ticks=function(t){return Vo(n,t)},i.tickFormat=function(t,e){return Ko(n,t,e)},i.nice=function(t){return i.domain(qo(n,t))},i.exponent=function(s){return arguments.length?(o=tr(e=s),r=tr(1/e),t.domain(n.map(o)),i):e},i.copy=function(){return Jo(t.copy(),e,n)},Bo(i,t)}function tr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function er(t,e){function n(n){return r[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%r.length]}function i(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var o,r,s;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new c;for(var r,s=-1,a=i.length;++s<a;)o.has(r=i[s])||o.set(r,t.push(r));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(r=t,s=0,e={t:"range",a:arguments},n):r},n.rangePoints=function(o,a){arguments.length<2&&(a=0);var l=o[0],c=o[1],u=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+a);return r=i(l+u*a/2,u),s=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,a){arguments.length<2&&(a=0);var l=o[0],c=o[1],u=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+a)|0;return r=i(l+Math.round(u*a/2+(c-l-(t.length-1+a)*u)/2),u),s=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=o[1]<o[0],u=o[c-0],h=o[1-c],d=(h-u)/(t.length-a+2*l);return r=i(u+d*l,d),c&&r.reverse(),s=d*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=o[1]<o[0],u=o[c-0],h=o[1-c],d=Math.floor((h-u)/(t.length-a+2*l));return r=i(u+Math.round((h-u-(t.length-a)*d)/2),d),c&&r.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Fo(e.a[0])},n.copy=function(){return er(t,e)},n.domain(t)}function nr(t,e){function r(){var n=0,i=e.length;for(a=[];++n<i;)a[n-1]=ns.quantile(t,n/i);return s}function s(t){return isNaN(t=+t)?void 0:e[ns.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.map(i).filter(o).sort(n),r()):t},s.range=function(t){return arguments.length?(e=t,r()):e},s.quantiles=function(){return a},s.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},s.copy=function(){return nr(t,e)},r()}function ir(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),s=n.length-1,i}var r,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},i.range=function(t){return arguments.length?(n=t,o()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/r+t,[e,e+1/r]},i.copy=function(){return ir(t,e,n)},o()}function or(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return or(t,e)},n}function rr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Vo(t,e)},e.tickFormat=function(e,n){return Ko(t,e,n)},e.copy=function(){return rr(t)},e}function sr(){return 0}function ar(t){return t.innerRadius}function lr(t){return t.outerRadius}function cr(t){return t.startAngle}function ur(t){return t.endAngle}function hr(t){return t&&t.padAngle}function dr(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function pr(t,e,n,i,o){var r=t[0]-e[0],s=t[1]-e[1],a=(o?i:-i)/Math.sqrt(r*r+s*s),l=a*s,c=-a*r,u=t[0]+l,h=t[1]+c,d=e[0]+l,p=e[1]+c,f=(u+d)/2,m=(h+p)/2,g=d-u,v=p-h,y=g*g+v*v,b=n-i,w=u*p-d*h,x=(0>v?-1:1)*Math.sqrt(b*b*y-w*w),C=(w*v-g*x)/y,k=(-w*g-v*x)/y,_=(w*v+g*x)/y,T=(-w*g+v*x)/y,S=C-f,D=k-m,M=_-f,A=T-m;return S*S+D*D>M*M+A*A&&(C=_,k=T),[[C-l,k-c],[C*n/b,k*n/b]]}function fr(t){function e(e){function s(){c.push("M",r(t(u),a))}for(var l,c=[],u=[],h=-1,d=e.length,p=St(n),f=St(i);++h<d;)o.call(this,l=e[h],h)?u.push([+p.call(this,l,h),+f.call(this,l,h)]):u.length&&(s(),u=[]);return u.length&&s(),c.length?c.join(""):null}var n=Mn,i=An,o=Me,r=mr,s=r.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?r=t:(r=Dl.get(t)||mr).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function mr(t){return t.join("L")}function gr(t){return mr(t)+"Z"}function vr(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&o.push("H",i[0]),o.join("")}function yr(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("V",(i=t[e])[1],"H",i[0]);return o.join("")}function br(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i=t[e])[0],"V",i[1]);return o.join("")}function wr(t,e){return t.length<4?mr(t):t[1]+kr(t.slice(1,-1),_r(t,e))}function xr(t,e){return t.length<3?mr(t):t[0]+kr((t.push(t[0]),t),_r([t[t.length-2]].concat(t,[t[1]]),e))}function Cr(t,e){return t.length<3?mr(t):t[0]+kr(t,_r(t,e))}function kr(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mr(t);var n=t.length!=e.length,i="",o=t[0],r=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(r[0]-2*s[0]/3)+","+(r[1]-2*s[1]/3)+","+r[0]+","+r[1],o=t[1],l=2),e.length>1){a=e[1],r=t[l],l++,i+="C"+(o[0]+s[0])+","+(o[1]+s[1])+","+(r[0]-a[0])+","+(r[1]-a[1])+","+r[0]+","+r[1];for(var c=2;c<e.length;c++,l++)r=t[l],a=e[c],i+="S"+(r[0]-a[0])+","+(r[1]-a[1])+","+r[0]+","+r[1]}if(n){var u=t[l];i+="Q"+(r[0]+2*a[0]/3)+","+(r[1]+2*a[1]/3)+","+u[0]+","+u[1]}return i}function _r(t,e){for(var n,i=[],o=(1-e)/2,r=t[0],s=t[1],a=1,l=t.length;++a<l;)n=r,r=s,s=t[a],i.push([o*(s[0]-n[0]),o*(s[1]-n[1])]);return i}function Tr(t){if(t.length<3)return mr(t);var e=1,n=t.length,i=t[0],o=i[0],r=i[1],s=[o,o,o,(i=t[1])[0]],a=[r,r,r,i[1]],l=[o,",",r,"L",Ar(El,s),",",Ar(El,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Er(l,s,a);return t.pop(),l.push("L",i),l.join("")}function Sr(t){if(t.length<4)return mr(t);for(var e,n=[],i=-1,o=t.length,r=[0],s=[0];++i<3;)e=t[i],r.push(e[0]),s.push(e[1]);for(n.push(Ar(El,r)+","+Ar(El,s)),--i;++i<o;)e=t[i],r.shift(),r.push(e[0]),s.shift(),s.push(e[1]),Er(n,r,s);return n.join("")}function Dr(t){for(var e,n,i=-1,o=t.length,r=o+4,s=[],a=[];++i<4;)n=t[i%o],s.push(n[0]),a.push(n[1]);for(e=[Ar(El,s),",",Ar(El,a)],--i;++i<r;)n=t[i%o],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Er(e,s,a);return e.join("")}function Mr(t,e){var n=t.length-1;if(n)for(var i,o,r=t[0][0],s=t[0][1],a=t[n][0]-r,l=t[n][1]-s,c=-1;++c<=n;)i=t[c],o=c/n,i[0]=e*i[0]+(1-e)*(r+o*a),i[1]=e*i[1]+(1-e)*(s+o*l);return Tr(t)}function Ar(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Er(t,e,n){t.push("C",Ar(Ml,e),",",Ar(Ml,n),",",Ar(Al,e),",",Ar(Al,n),",",Ar(El,e),",",Ar(El,n))}function Nr(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Or(t){for(var e=0,n=t.length-1,i=[],o=t[0],r=t[1],s=i[0]=Nr(o,r);++e<n;)i[e]=(s+(s=Nr(o=r,r=t[e+1])))/2;return i[e]=s,i}function Pr(t){for(var e,n,i,o,r=[],s=Or(t),a=-1,l=t.length-1;++a<l;)e=Nr(t[a],t[a+1]),fs(e)<Es?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,o=n*n+i*i,o>9&&(o=3*e/Math.sqrt(o),s[a]=o*n,s[a+1]=o*i));for(a=-1;++a<=l;)o=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),r.push([o||0,s[a]*o||0]);return r}function Ir(t){return t.length<3?mr(t):t[0]+kr(t,Pr(t))}function Lr(t){for(var e,n,i,o=-1,r=t.length;++o<r;)e=t[o],n=e[0],i=e[1]-Ls,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function $r(t){function e(e){function l(){m.push("M",a(t(v),h),u,c(t(g.reverse()),h),"Z")}for(var d,p,f,m=[],g=[],v=[],y=-1,b=e.length,w=St(n),x=St(o),C=n===i?function(){return p}:St(i),k=o===r?function(){return f}:St(r);++y<b;)s.call(this,d=e[y],y)?(g.push([p=+w.call(this,d,y),f=+x.call(this,d,y)]),v.push([+C.call(this,d,y),+k.call(this,d,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=Mn,i=Mn,o=0,r=An,s=Me,a=mr,l=a.key,c=a,u="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=r=t,e):r},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Dl.get(t)||mr).key,c=a.reverse||a,u=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Hr(t){return t.radius}function Fr(t){return[t.x,t.y]}function zr(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ls;return[n*Math.cos(i),n*Math.sin(i)]}}function jr(){return 64}function Rr(){return"circle"}function Wr(t){var e=Math.sqrt(t/Os);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Yr(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ur(t,e,n){return bs(t,Hl),t.namespace=e,t.id=n,t}function Br(t,e,n,i){var o=t.id,r=t.namespace;return Y(t,"function"==typeof n?function(t,s,a){t[r][o].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[r][o].tween.set(e,n)}))}function qr(t){return null==t&&(t=""),function(){this.textContent=t}}function Xr(t){return null==t?"__transition__":"__transition_"+t+"__"}function Vr(t,e,n,i,o){var r=t[n]||(t[n]={active:0,count:0}),s=r[i];if(!s){var a=o.time;s=r[i]={tween:new c,time:a,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++r.count,ns.timer(function(o){function l(n){if(r.active>i)return u();var o=r[r.active];o&&(--r.count,delete r[r.active],o.event&&o.event.interrupt.call(t,t.__data__,o.index)),r.active=i,s.event&&s.event.start.call(t,t.__data__,e),s.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&m.push(i)}),d=s.ease,h=s.duration,ns.timer(function(){return f.c=c(n||1)?Me:c,1},0,a)}function c(n){if(r.active!==i)return 1;for(var o=n/h,a=d(o),l=m.length;l>0;)m[--l].call(t,a);return o>=1?(s.event&&s.event.end.call(t,t.__data__,e),u()):void 0}function u(){return--r.count?delete r[i]:delete t[n],1}var h,d,p=s.delay,f=ia,m=[];return f.t=p+a,o>=p?l(o-p):void(f.c=l)},0,a)}}function Kr(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Qr(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Gr(t){return t.toISOString()}function Zr(t,e,n){function i(e){return t(e)}function o(t,n){var i=t[1]-t[0],o=i/n,r=ns.bisect(ql,o);return r==ql.length?[e.year,Xo(t.map(function(t){return t/31536e6}),n)[2]]:r?e[o/ql[r-1]<ql[r]/o?r-1:r]:[Kl,Xo(t,n)[2]]}return i.invert=function(e){return Jr(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Jr)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Jr(+n+1),e).length}var r=i.domain(),s=Fo(r),a=null==t?o(s,10):"number"==typeof t&&o(s,t);return a&&(t=a[0],e=a[1]),i.domain(Ro(r,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Jr(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Jr(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Fo(i.domain()),r=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Jr(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Zr(t.copy(),e,n)},Bo(i,t)}function Jr(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=rs.createRange();return e.selectNode(rs.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.6"},is=[].slice,os=function(t){return is.call(t)},rs=this.document;if(rs)try{os(rs.documentElement.childNodes)[0].nodeType}catch(ss){os=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),rs)try{rs.createElement("DIV").style.setProperty("opacity",0,"")}catch(as){var ls=this.Element.prototype,cs=ls.setAttribute,us=ls.setAttributeNS,hs=this.CSSStyleDeclaration.prototype,ds=hs.setProperty;ls.setAttribute=function(t,e){cs.call(this,t,e+"")},ls.setAttributeNS=function(t,e,n){us.call(this,t,e,n+"")},hs.setProperty=function(t,e,n){ds.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ns.min=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&n>i&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&n>i&&(n=i)}return n},ns.max=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&i>n&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&i>n&&(n=i)}return n},ns.extent=function(t,e){var n,i,o,r=-1,s=t.length;if(1===arguments.length){for(;++r<s;)if(null!=(i=t[r])&&i>=i){n=o=i;break}for(;++r<s;)null!=(i=t[r])&&(n>i&&(n=i),i>o&&(o=i))}else{for(;++r<s;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=o=i;break}for(;++r<s;)null!=(i=e.call(t,t[r],r))&&(n>i&&(n=i),i>o&&(o=i))}return[n,o]},ns.sum=function(t,e){var n,i=0,r=t.length,s=-1;if(1===arguments.length)for(;++s<r;)o(n=+t[s])&&(i+=n);else for(;++s<r;)o(n=+e.call(t,t[s],s))&&(i+=n);return i},ns.mean=function(t,e){var n,r=0,s=t.length,a=-1,l=s;if(1===arguments.length)for(;++a<s;)o(n=i(t[a]))?r+=n:--l;else for(;++a<s;)o(n=i(e.call(t,t[a],a)))?r+=n:--l;return l?r/l:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),o=+t[i-1],r=n-i;return r?o+r*(t[i]-o):o},ns.median=function(t,e){var r,s=[],a=t.length,l=-1;if(1===arguments.length)for(;++l<a;)o(r=i(t[l]))&&s.push(r);else for(;++l<a;)o(r=i(e.call(t,t[l],l)))&&s.push(r);return s.length?ns.quantile(s.sort(n),.5):void 0},ns.variance=function(t,e){var n,r,s=t.length,a=0,l=0,c=-1,u=0;if(1===arguments.length)for(;++c<s;)o(n=i(t[c]))&&(r=n-a,a+=r/++u,l+=r*(n-a));else for(;++c<s;)o(n=i(e.call(t,t[c],c)))&&(r=n-a,a+=r/++u,l+=r*(n-a));return u>1?l/(u-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ps=r(n);ns.bisectLeft=ps.left,ns.bisect=ns.bisectRight=ps.right,ns.bisector=function(t){return r(1===t.length?function(e,i){return n(t(e),i)}:t)},ns.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,2>r&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},ns.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ns.pairs=function(t){for(var e,n=0,i=t.length-1,o=t[0],r=new Array(0>i?0:i);i>n;)r[n]=[e=o,o=t[++n]];return r},ns.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=ns.min(arguments,s),n=new Array(e);++t<e;)for(var i,o=-1,r=n[t]=new Array(i);++o<i;)r[o]=arguments[o][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,i,o=t.length,r=-1,s=0;++r<o;)s+=t[r].length;for(n=new Array(s);--o>=0;)for(i=t[o],e=i.length;--e>=0;)n[--s]=i[e];return n};var fs=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,o=[],r=a(fs(n)),s=-1;if(t*=r,e*=r,n*=r,0>n)for(;(i=t+n*++s)>e;)o.push(i/r);else for(;(i=t+n*++s)<e;)o.push(i/r);return o},ns.map=function(t,e){var n=new c;if(t instanceof c)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(1===arguments.length)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e.call(t,i=t[o],o),i)}else for(var s in t)n.set(s,t[s]);return n};var ms="__proto__",gs="\0";l(c,{has:d,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:p,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ns.nest=function(){function t(e,s,a){if(a>=r.length)return i?i.call(o,s):n?s.sort(n):s;for(var l,u,h,d,p=-1,f=s.length,m=r[a++],g=new c;++p<f;)(d=g.get(l=m(u=s[p])))?d.push(u):g.set(l,[u]);return e?(u=e(),h=function(n,i){u.set(n,t(e,i,a))}):(u={},h=function(n,i){u[n]=t(e,i,a)}),g.forEach(h),u}function e(t,n){if(n>=r.length)return t;var i=[],o=s[n++];return t.forEach(function(t,o){i.push({key:t,values:e(o,n)})}),o?i.sort(function(t,e){return o(t.key,e.key)}):i}var n,i,o={},r=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(ns.map,n,0),0)},o.key=function(t){return r.push(t),o},o.sortKeys=function(t){return s[r.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},ns.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},l(v,{has:d,add:function(t){return this._[u(t+="")]=!0,t},remove:p,values:f,size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,i=1,o=arguments.length;++i<o;)t[n=arguments[i]]=b(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);
return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ws=function(t,e){return e.querySelector(t)},xs=function(t,e){return e.querySelectorAll(t)},Cs=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(Cs=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ws=function(t,e){return Sizzle(t,e)[0]||null},xs=Sizzle,Cs=Sizzle.matchesSelector),ns.selection=function(){return ns.select(rs.documentElement)};var ks=ns.selection.prototype=[];ks.select=function(t){var e,n,i,o,r=[];t=M(t);for(var s=-1,a=this.length;++s<a;){r.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(n=t.call(o,o.__data__,l,s)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return D(r)},ks.selectAll=function(t){var e,n,i=[];t=A(t);for(var o=-1,r=this.length;++o<r;)for(var s=this[o],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=os(t.call(n,n.__data__,a,o))),e.parentNode=n);return D(i)};var _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:_s,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),_s.hasOwnProperty(n)?{space:_s[n],local:t}:t}},ks.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},ks.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=P(t)).length,o=-1;if(e=n.classList){for(;++o<i;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<i;)if(!O(t[o]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},ks.style=function(t,n,i){var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(i in t)this.each($(i,t[i],n));return this}if(2>o){var r=this.node();return e(r).getComputedStyle(r,null).getPropertyValue(t)}i=""}return this.each($(t,n,i))},ks.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(H(e,t[e]));return this}return this.each(H(t,e))},ks.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ks.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ks.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ks.insert=function(t,e){return t=F(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ks.remove=function(){return this.each(z)},ks.data=function(t,e){function n(t,n){var i,o,r,s=t.length,h=n.length,d=Math.min(s,h),p=new Array(h),f=new Array(h),m=new Array(s);if(e){var g,v=new c,y=new Array(s);for(i=-1;++i<s;)v.has(g=e.call(o=t[i],o.__data__,i))?m[i]=o:v.set(g,o),y[i]=g;for(i=-1;++i<h;)(o=v.get(g=e.call(n,r=n[i],i)))?o!==!0&&(p[i]=o,o.__data__=r):f[i]=j(r),v.set(g,!0);for(i=-1;++i<s;)v.get(y[i])!==!0&&(m[i]=t[i])}else{for(i=-1;++i<d;)o=t[i],r=n[i],o?(o.__data__=r,p[i]=o):f[i]=j(r);for(;h>i;++i)f[i]=j(n[i]);for(;s>i;++i)m[i]=t[i]}f.update=p,f.parentNode=p.parentNode=m.parentNode=t.parentNode,a.push(f),l.push(p),u.push(m)}var i,o,r=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++r<s;)(o=i[r])&&(t[r]=o.__data__);return t}var a=U([]),l=D([]),u=D([]);if("function"==typeof t)for(;++r<s;)n(i=this[r],t.call(i,i.parentNode.__data__,r));else for(;++r<s;)n(i=this[r],t);return l.enter=function(){return a},l.exit=function(){return u},l},ks.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ks.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=R(t));for(var r=0,s=this.length;s>r;r++){o.push(e=[]),e.parentNode=(n=this[r]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,r)&&e.push(i)}return D(o)},ks.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],o=i.length-1,r=i[o];--o>=0;)(n=i[o])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},ks.sort=function(t){t=W.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ks.each=function(t){return Y(this,function(e,n,i){t.call(e,e.__data__,n,i)})},ks.call=function(t){var e=os(arguments);return t.apply(e[0]=this,e),this},ks.empty=function(){return!this.node()},ks.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,o=n.length;o>i;i++){var r=n[i];if(r)return r}return null},ks.size=function(){var t=0;return Y(this,function(){++t}),t};var Ts=[];ns.selection.enter=U,ns.selection.enter.prototype=Ts,Ts.append=ks.append,Ts.empty=ks.empty,Ts.node=ks.node,Ts.call=ks.call,Ts.size=ks.size,Ts.select=function(t){for(var e,n,i,o,r,s=[],a=-1,l=this.length;++a<l;){i=(o=this[a]).update,s.push(e=[]),e.parentNode=o.parentNode;for(var c=-1,u=o.length;++c<u;)(r=o[c])?(e.push(i[c]=n=t.call(o.parentNode,r.__data__,c,a)),n.__data__=r.__data__):e.push(null)}return D(s)},Ts.insert=function(t,e){return arguments.length<2&&(e=B(this)),ks.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[ws(e,rs)],n.parentNode=rs.documentElement):(n=[e],n.parentNode=t(e)),D([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=os(xs(t,rs)),e.parentNode=rs.documentElement):(e=t,e.parentNode=null),D([e])},ks.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(q(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(q(t,e,n))};var Ss=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});rs&&Ss.forEach(function(t){"on"+t in rs&&Ss.remove(t)});var Ds,Ms=0;ns.mouse=function(t){return Q(t,T())};var As=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=T().changedTouches),e)for(var i,o=0,r=e.length;r>o;++o)if((i=e[o]).identifier===n)return Q(t,i)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",s)}function n(t,e,n,r,s){return function(){function a(){var t,n,i=e(d,m);i&&(t=i[0]-b[0],n=i[1]-b[1],f|=t|n,b=i,p({type:"drag",x:i[0]+c[0],y:i[1]+c[1],dx:t,dy:n}))}function l(){e(d,m)&&(v.on(r+g,null).on(s+g,null),y(f&&ns.event.target===h),p({type:"dragend"}))}var c,u=this,h=ns.event.target,d=u.parentNode,p=i.of(u,arguments),f=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=ns.select(n(h)).on(r+g,a).on(s+g,l),y=K(h),b=e(d,m);o?(c=o.apply(u,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],p({type:"dragstart"})}}var i=S(t,"drag","dragstart","dragend"),o=null,r=n(x,ns.mouse,e,"mousemove","mouseup"),s=n(G,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},ns.rebind(t,i,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?os(e).map(function(e){var n=Q(t,e);return n.identifier=e.identifier,n}):[]};var Es=1e-6,Ns=Es*Es,Os=Math.PI,Ps=2*Os,Is=Ps-Es,Ls=Os/2,$s=Os/180,Hs=180/Os,Fs=Math.SQRT2,zs=2,js=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=it(m),s=r/(zs*d)*(n*ot(Fs*e+m)-nt(m));return[i+s*c,o+s*u,r*n/it(Fs*e+m)]}return[i+t*c,o+t*u,r*Math.exp(Fs*e)]}var i=t[0],o=t[1],r=t[2],s=e[0],a=e[1],l=e[2],c=s-i,u=a-o,h=c*c+u*u,d=Math.sqrt(h),p=(l*l-r*r+js*h)/(2*r*zs*d),f=(l*l-r*r-js*h)/(2*l*zs*d),m=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(f*f+1)-f),v=g-m,y=(v||Math.log(l/r))/Fs;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(N,h).on(Ws+".zoom",p).on("dblclick.zoom",f).on(I,d)}function n(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function i(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function o(t){T.k=Math.max(M[0],Math.min(M[1],t))}function r(t,e){e=i(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function s(e,n,i,s){e.__chart__={x:T.x,y:T.y,k:T.k},o(Math.pow(2,s)),r(g=n,i),e=ns.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function a(){x&&x.domain(w.range().map(function(t){return(t-T.x)/T.k}).map(w.invert)),k&&k.domain(C.range().map(function(t){return(t-T.y)/T.k}).map(C.invert))}function l(t){E++||t({type:"zoomstart"})}function c(t){a(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function u(t){--E||(t({type:"zoomend"}),g=null)}function h(){function t(){h=1,r(ns.mouse(o),p),c(a)}function i(){d.on(O,null).on(P,null),f(h&&ns.event.target===s),u(a)}var o=this,s=ns.event.target,a=L.of(o,arguments),h=0,d=ns.select(e(o)).on(O,t).on(P,i),p=n(ns.mouse(o)),f=K(o);$l.call(o),l(a)}function d(){function t(){var t=ns.touches(f);return p=T.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(w,i).on(x,a),C.push(e);for(var n=ns.event.changedTouches,o=0,r=n.length;r>o;++o)g[n[o].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(500>c-b){var u=l[0];s(f,u,g[u.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),_()}b=c}else if(l.length>1){var u=l[0],h=l[1],d=u[0]-h[0],p=u[1]-h[1];v=d*d+p*p}}function i(){var t,e,n,i,s=ns.touches(f);$l.call(f);for(var a=0,l=s.length;l>a;++a,i=null)if(n=s[a],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var u=(u=n[0]-t[0])*u+(u=n[1]-t[1])*u,h=v&&Math.sqrt(u/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],o(h*p)}b=null,r(t,e),c(m)}function a(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var o in g)return void t()}ns.selectAll(C).on(y,null),k.on(N,h).on(I,d),S(),u(m)}var p,f=this,m=L.of(f,arguments),g={},v=0,y=".zoom-"+ns.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,C=[],k=ns.select(f),S=K(f);e(),l(m),k.on(N,null).on(I,e)}function p(){var t=L.of(this,arguments);y?clearTimeout(y):($l.call(this),m=n(g=v||ns.mouse(this)),l(t)),y=setTimeout(function(){y=null,u(t)},50),_(),o(Math.pow(2,.002*Rs())*T.k),r(g,m),c(t)}function f(){var t=ns.mouse(this),e=Math.log(T.k)/Math.LN2;s(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var m,g,v,y,b,w,x,C,k,T={x:0,y:0,k:1},D=[960,500],M=Ys,A=250,E=0,N="mousedown.zoom",O="mousemove.zoom",P="mouseup.zoom",I="touchstart.zoom",L=S(t,"zoomstart","zoom","zoomend");return Ws||(Ws="onwheel"in rs?(Rs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in rs?(Rs=function(){return ns.event.wheelDelta},"mousewheel"):(Rs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=T;Il?ns.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=D[0],i=D[1],o=g?g[0]:n/2,r=g?g[1]:i/2,s=ns.interpolateZoom([(o-T.x)/T.k,(r-T.y)/T.k,n/T.k],[(o-e.x)/e.k,(r-e.y)/e.k,n/e.k]);return function(e){var i=s(e),a=n/i[2];this.__chart__=T={x:o-i[0]*a,y:r-i[1]*a,k:a},c(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=T,l(t),c(t),u(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},a(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:+e},a(),t):T.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Ys:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(D=e&&[+e[0],+e[1]],t):D},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(x=e,w=e.copy(),T={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,C=e.copy(),T={x:0,y:0,k:1},t):k},ns.rebind(t,L,"on")};var Rs,Ws,Ys=[0,1/0];ns.color=st,st.prototype.toString=function(){return this.rgb()+""},ns.hsl=at;var Us=at.prototype=new st;Us.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},Us.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},Us.rgb=function(){return lt(this.h,this.s,this.l)},ns.hcl=ct;var Bs=ct.prototype=new st;Bs.brighter=function(t){return new ct(this.h,this.c,Math.min(100,this.l+qs*(arguments.length?t:1)))},Bs.darker=function(t){return new ct(this.h,this.c,Math.max(0,this.l-qs*(arguments.length?t:1)))},Bs.rgb=function(){return ut(this.h,this.c,this.l).rgb()},ns.lab=ht;var qs=18,Xs=.95047,Vs=1,Ks=1.08883,Qs=ht.prototype=new st;Qs.brighter=function(t){return new ht(Math.min(100,this.l+qs*(arguments.length?t:1)),this.a,this.b)},Qs.darker=function(t){return new ht(Math.max(0,this.l-qs*(arguments.length?t:1)),this.a,this.b)},Qs.rgb=function(){return dt(this.l,this.a,this.b)},ns.rgb=vt;var Gs=vt.prototype=new st;Gs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,o=30;return e||n||i?(e&&o>e&&(e=o),n&&o>n&&(n=o),i&&o>i&&(i=o),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(o,o,o)},Gs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Gs.hsl=function(){return Ct(this.r,this.g,this.b)},Gs.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var Zs=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zs.forEach(function(t,e){Zs.set(t,yt(e))}),ns.functor=St,ns.xhr=Dt(y),ns.dsv=function(t,e){function n(t,n,r){arguments.length<3&&(r=n,n=null);var s=Mt(t,e,null==n?i:o(n),r);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:o(t)):n},s}function i(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function r(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(u>=c)return s;if(o)return o=!1,r;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}u=n+2;var i=t.charCodeAt(n+1);return 13===i?(o=!0,10===t.charCodeAt(n+2)&&++u):10===i&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c>u;){var i=t.charCodeAt(u++),a=1;if(10===i)o=!0;else if(13===i)o=!0,10===t.charCodeAt(u)&&(++u,++a);else if(i!==l)continue;return t.slice(e,u-a)}return t.slice(e)}for(var i,o,r={},s={},a=[],c=t.length,u=0,h=0;(i=n())!==s;){for(var d=[];i!==r&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,o=[];return e.forEach(function(t){for(var e in t)i.has(e)||o.push(i.add(e))}),[o.map(s).join(t)].concat(e.map(function(e){return o.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(r).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("\t","text/tab-separated-values");var Js,ta,ea,na,ia,oa=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var o=n+e,r={c:t,t:o,f:!1,n:null};ta?ta.n=r:Js=r,ta=r,ea||(na=clearTimeout(na),ea=1,oa(Nt))},ns.timer.flush=function(){Ot(),Pt()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ra=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Lt);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ra[8+n/3]};var sa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,aa=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),la=ns.time={},ca=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ua.setUTCDate.apply(this._,arguments)},setDay:function(){ua.setUTCDay.apply(this._,arguments)},setFullYear:function(){ua.setUTCFullYear.apply(this._,arguments)},setHours:function(){ua.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ua.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ua.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ua.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ua.setUTCSeconds.apply(this._,arguments)},setTime:function(){ua.setTime.apply(this._,arguments)}};var ua=Date.prototype;la.year=zt(function(t){return t=la.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),la.years=la.year.range,la.years.utc=la.year.utc.range,la.day=zt(function(t){var e=new ca(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),la.days=la.day.range,la.days.utc=la.day.utc.range,la.dayOfYear=function(t){var e=la.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=la[t]=zt(function(t){return(t=la.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});la[t+"s"]=n.range,la[t+"s"].utc=n.utc.range,la[t+"OfYear"]=function(t){var n=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(n+e)%7)/7)}}),la.week=la.sunday,la.weeks=la.sunday.range,la.weeks.utc=la.sunday.utc.range,la.weekOfYear=la.sundayOfYear;var ha={"-":"",_:" ",0:"0"},da=/^\s*\d+/,pa=/^%/;ns.locale=function(t){return{numberFormat:$t(t),timeFormat:Rt(t)}};var fa=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=fa.numberFormat,ns.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,ma),ce(ma.s,this.s,this),this.s?this.t+=ma.t:this.s=ma.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ma=new le;ns.geo.stream=function(t,e){t&&ga.hasOwnProperty(t.type)?ga[t.type](t,e):ue(t,e)};var ga={Feature:function(t,e){ue(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)ue(n[i].geometry,e)}},va={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)he(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)ue(n[i],e)}};ns.geo.area=function(t){return ya=0,ns.geo.stream(t,wa),ya};var ya,ba=new le,wa={sphere:function(){ya+=4*Os},point:x,lineStart:x,lineEnd:x,polygonStart:function(){ba.reset(),wa.lineStart=pe},polygonEnd:function(){var t=2*ba;ya+=0>t?4*Os+t:t,wa.lineStart=wa.lineEnd=wa.point=x}};ns.geo.bounds=function(){function t(t,e){b.push(w=[u=t,d=t]),h>e&&(h=e),e>p&&(p=e)}function e(e,n){var i=fe([e*$s,n*$s]);if(v){var o=ge(v,i),r=[o[1],-o[0],0],s=ge(r,o);be(s),s=we(s);var l=e-f,c=l>0?1:-1,m=s[0]*Hs*c,g=fs(l)>180;if(g^(m>c*f&&c*e>m)){var y=s[1]*Hs;y>p&&(p=y)}else if(m=(m+360)%360-180,g^(m>c*f&&c*e>m)){var y=-s[1]*Hs;h>y&&(h=y)}else h>n&&(h=n),n>p&&(p=n);g?f>e?a(u,e)>a(u,d)&&(d=e):a(e,d)>a(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>f?a(u,e)>a(u,d)&&(d=e):a(e,d)>a(u,d)&&(u=e)}else t(e,n);v=i,f=e}function n(){x.point=e}function i(){w[0]=u,w[1]=d,x.point=t,v=null}function o(t,n){if(v){var i=t-f;y+=fs(i)>180?i+(i>0?360:-360):i}else m=t,g=n;wa.point(t,n),e(t,n)}function r(){wa.lineStart()}function s(){o(m,g),wa.lineEnd(),fs(y)>Es&&(u=-(d=180)),w[0]=u,w[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,h,d,p,f,m,g,v,y,b,w,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=o,x.lineStart=r,x.lineEnd=s,y=0,wa.polygonStart()},polygonEnd:function(){wa.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,0>ba?(u=-(d=180),h=-(p=90)):y>Es?p=90:-Es>y&&(h=-90),w[0]=u,w[1]=d}};return function(t){p=d=-(u=h=1/0),b=[],ns.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,i=1,o=b[0],r=[o];e>i;++i)n=b[i],c(n[0],o)||c(n[1],o)?(a(o[0],n[1])>a(o[0],o[1])&&(o[1]=n[1]),a(n[0],o[1])>a(o[0],o[1])&&(o[0]=n[0])):r.push(o=n);for(var s,n,f=-1/0,e=r.length-1,i=0,o=r[e];e>=i;o=n,++i)n=r[i],(s=a(o[1],n[0]))>f&&(f=s,u=n[0],d=o[1])}return b=w=null,1/0===u||1/0===h?[[NaN,NaN],[NaN,NaN]]:[[u,h],[d,p]]}}(),ns.geo.centroid=function(t){xa=Ca=ka=_a=Ta=Sa=Da=Ma=Aa=Ea=Na=0,ns.geo.stream(t,Oa);var e=Aa,n=Ea,i=Na,o=e*e+n*n+i*i;return Ns>o&&(e=Sa,n=Da,i=Ma,Es>Ca&&(e=ka,n=_a,i=Ta),o=e*e+n*n+i*i,Ns>o)?[NaN,NaN]:[Math.atan2(n,e)*Hs,et(i/Math.sqrt(o))*Hs]};var xa,Ca,ka,_a,Ta,Sa,Da,Ma,Aa,Ea,Na,Oa={sphere:x,point:Ce,lineStart:_e,lineEnd:Te,polygonStart:function(){Oa.lineStart=Se},polygonEnd:function(){Oa.lineStart=_e}},Pa=Oe(Me,$e,Fe,[-Os,-Os/2]),Ia=1e9;ns.geo.clipExtent=function(){var t,e,n,i,o,r,s={stream:function(t){return o&&(o.valid=!1),o=r(t),o.valid=!0,o},extent:function(a){return arguments.length?(r=We(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),o&&(o.valid=!1,o=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Ye(Ue)}).raw=Ue,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var r=t[0],s=t[1];return e=null,n(r,s),e||(i(r,s),e)||o(r,s),e}var e,n,i,o,r=ns.geo.albers(),s=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&i>=-.425&&-.214>i?s:o>=.166&&.234>o&&i>=-.214&&-.115>i?a:r).invert(t)},t.stream=function(t){var e=r.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),i.point(t,o)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),s.precision(e),a.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),s.scale(.35*e),a.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var c=r.scale(),u=+e[0],h=+e[1];return n=r.translate(e).clipExtent([[u-.455*c,h-.238*c],[u+.455*c,h+.238*c]]).stream(l).point,i=s.translate([u-.307*c,h+.201*c]).clipExtent([[u-.425*c+Es,h+.12*c+Es],[u-.214*c-Es,h+.234*c-Es]]).stream(l).point,o=a.translate([u-.205*c,h+.212*c]).clipExtent([[u-.214*c+Es,h+.166*c+Es],[u-.115*c-Es,h+.234*c-Es]]).stream(l).point,t},t.scale(1070)};var La,$a,Ha,Fa,za,ja,Ra={point:x,lineStart:x,lineEnd:x,polygonStart:function(){$a=0,Ra.lineStart=Be},polygonEnd:function(){Ra.lineStart=Ra.lineEnd=Ra.point=x,La+=fs($a/2)}},Wa={point:qe,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Ya={point:Ke,lineStart:Qe,lineEnd:Ge,polygonStart:function(){Ya.lineStart=Ze},polygonEnd:function(){Ya.point=Ke,Ya.lineStart=Qe,Ya.lineEnd=Ge}};ns.geo.path=function(){function t(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=o(r)),ns.geo.stream(t,s)),r.result()}function e(){return s=null,t}var n,i,o,r,s,a=4.5;return t.area=function(t){return La=0,ns.geo.stream(t,o(Ra)),La},t.centroid=function(t){return ka=_a=Ta=Sa=Da=Ma=Aa=Ea=Na=0,ns.geo.stream(t,o(Ya)),Na?[Aa/Na,Ea/Na]:Ma?[Sa/Ma,Da/Ma]:Ta?[ka/Ta,_a/Ta]:[NaN,NaN]},t.bounds=function(t){return za=ja=-(Ha=Fa=1/0),ns.geo.stream(t,o(Wa)),[[Ha,Fa],[za,ja]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||en(t):y,e()):n},t.context=function(t){return arguments.length?(r=null==(i=t)?new Xe:new Je(t),"function"!=typeof a&&r.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),t):a},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var i in t)n[i]=t[i];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=rn,ns.geo.projectionMutator=sn,(ns.geo.equirectangular=function(){return rn(ln)}).raw=ln.invert=ln,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*$s,e[1]*$s),e[0]*=Hs,e[1]*=Hs,e}return t=un(t[0]%360*$s,t[1]*$s,t.length>2?t[2]*$s:0),e.invert=function(e){return e=t.invert(e[0]*$s,e[1]*$s),e[0]*=Hs,e[1]*=Hs,e},e},cn.invert=ln,ns.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=un(-t[0]*$s,-t[1]*$s,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=Hs,t[1]*=Hs}}),{type:"Polygon",coordinates:[o]}}var e,n,i=[0,0],o=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=fn((e=+i)*$s,o*$s),t):e},t.precision=function(i){return arguments.length?(n=fn(e*$s,(o=+i)*$s),t):o},t.angle(90)},ns.geo.distance=function(t,e){var n,i=(e[0]-t[0])*$s,o=t[1]*$s,r=e[1]*$s,s=Math.sin(i),a=Math.cos(i),l=Math.sin(o),c=Math.cos(o),u=Math.sin(r),h=Math.cos(r);return Math.atan2(Math.sqrt((n=h*s)*n+(n=c*u-l*h*a)*n),l*u+c*h*a)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(r/g)*g,o,g).map(d).concat(ns.range(Math.ceil(c/v)*v,l,v).map(p)).concat(ns.range(Math.ceil(i/f)*f,n,f).filter(function(t){return fs(t%g)>Es}).map(u)).concat(ns.range(Math.ceil(a/m)*m,s,m).filter(function(t){return fs(t%v)>Es}).map(h))}var n,i,o,r,s,a,l,c,u,h,d,p,f=10,m=f,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(l).slice(1),d(o).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],o=+e[1][0],c=+e[0][1],l=+e[1][1],r>o&&(e=r,r=o,o=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[r,c],[o,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],m=+e[1],t):[f,m]},t.precision=function(e){return arguments.length?(y=+e,u=gn(a,s,90),h=vn(i,n,y),d=gn(c,l,90),p=vn(r,o,y),t):y},t.majorExtent([[-180,-90+Es],[180,90-Es]]).minorExtent([[-180,-80-Es],[180,80+Es]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,i=yn,o=bn;
return t.distance=function(){return ns.geo.distance(e||i.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return wn(t[0]*$s,t[1]*$s,e[0]*$s,e[1]*$s)},ns.geo.length=function(t){return Ua=0,ns.geo.stream(t,Ba),Ua};var Ua,Ba={sphere:x,point:x,lineStart:xn,lineEnd:x,polygonStart:x,polygonEnd:x},qa=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return rn(qa)}).raw=qa;var Xa=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return rn(Xa)}).raw=Xa,(ns.geo.conicConformal=function(){return Ye(kn)}).raw=kn,(ns.geo.conicEquidistant=function(){return Ye(_n)}).raw=_n;var Va=Cn(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return rn(Va)}).raw=Va,Tn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ls]},(ns.geo.mercator=function(){return Sn(Tn)}).raw=Tn;var Ka=Cn(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return rn(Ka)}).raw=Ka;var Qa=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return rn(Qa)}).raw=Qa,Dn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ls]},(ns.geo.transverseMercator=function(){var t=Sn(Dn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Dn,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=St(n),r=St(i),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+o.call(this,t[e],e),+r.call(this,t[e],e),e]);for(a.sort(Nn),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var c=En(a),u=En(l),h=u[0]===c[0],d=u[u.length-1]===c[c.length-1],p=[];for(e=c.length-1;e>=0;--e)p.push(t[a[c[e]][2]]);for(e=+h;e<u.length-d;++e)p.push(t[a[u[e]][2]]);return p}var n=Mn,i=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ns.geom.polygon=function(t){return bs(t,Ga),t};var Ga=ns.geom.polygon.prototype=[];Ga.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],o=0;++e<n;)t=i,i=this[e],o+=t[1]*i[0]-t[0]*i[1];return.5*o},Ga.centroid=function(t){var e,n,i=-1,o=this.length,r=0,s=0,a=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++i<o;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],r+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[r*t,s*t]},Ga.clip=function(t){for(var e,n,i,o,r,s,a=In(t),l=-1,c=this.length-In(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,o=this[l],r=e[(i=e.length-a)-1],n=-1;++n<i;)s=e[n],On(s,u,o)?(On(r,u,o)||t.push(Pn(r,s,u,o)),t.push(s)):On(r,u,o)&&t.push(Pn(r,s,u,o)),r=s;a&&t.push(t[0]),u=o}return t};var Za,Ja,tl,el,nl,il=[],ol=[];Wn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Un),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ri(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(o=i.R,o&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(ii(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))):(o=i.L,o&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ii(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,s=t.R;if(n=r?s?ri(s):r:s,o?o.L===t?o.L=n:o.R=n:this._=n,r&&s?(i=n.C,n.C=t.C,n.L=r,r.U=n,n!==s?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=s,s.U=n):(n.U=o,o=n,t=n.R)):(i=t.C,t=n),t&&(t.U=o),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,ii(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,ii(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,oi(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ii(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,oi(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],o=a[0][1],r=a[1][0],s=a[1][1];return si(n(t),a).cells.forEach(function(n,a){var l=n.edges,c=n.site,u=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=i&&c.x<=r&&c.y>=o&&c.y<=s?[[i,s],[r,s],[r,o],[i,o]]:[];u.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/Es)*Es,y:Math.round(s(t,e)/Es)*Es,i:e}})}var i=Mn,o=An,r=i,s=o,a=rl;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var o,r,s=n.site,a=n.edges.sort(Un),l=-1,c=a.length,u=a[c-1].edge,h=u.l===s?u.r:u.l;++l<c;)o=u,r=h,u=a[l].edge,h=u.l===s?u.r:u.l,i<r.i&&i<h.i&&li(s,r,h)<0&&e.push([t[i],t[r.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(r=St(i=t),e):i},e.y=function(t){return arguments.length?(s=St(o=t),e):o},e.clipExtent=function(t){return arguments.length?(a=null==t?rl:t,e):a===rl?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===rl?null:a&&a[1]},e)};var rl=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,i,o){function r(t){function r(t,e,n,i,o,r,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(fs(l-n)+fs(u-i)<.01)c(t,e,n,i,o,r,s,a);else{var h=t.point;t.x=t.y=t.point=null,c(t,h,l,u,o,r,s,a),c(t,e,n,i,o,r,s,a)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,o,r,s,a)}function c(t,e,n,i,o,s,a,l){var c=.5*(o+a),u=.5*(s+l),h=n>=c,d=i>=u,p=d<<1|h;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=hi()),h?o=c:a=c,d?s=u:l=u,r(t,e,n,i,o,s,a,l)}var u,h,d,p,f,m,g,v,y,b=St(a),w=St(l);if(null!=e)m=e,g=n,v=i,y=o;else if(v=y=-(m=g=1/0),h=[],d=[],f=t.length,s)for(p=0;f>p;++p)u=t[p],u.x<m&&(m=u.x),u.y<g&&(g=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),h.push(u.x),d.push(u.y);else for(p=0;f>p;++p){var x=+b(u=t[p],p),C=+w(u,p);m>x&&(m=x),g>C&&(g=C),x>v&&(v=x),C>y&&(y=C),h.push(x),d.push(C)}var k=v-m,_=y-g;k>_?y=g+k:v=m+_;var T=hi();if(T.add=function(t){r(T,t,+b(t,++p),+w(t,p),m,g,v,y)},T.visit=function(t){di(t,T,m,g,v,y)},T.find=function(t){return pi(T,t[0],t[1],m,g,v,y)},p=-1,null==e){for(;++p<f;)r(T,t[p],h[p],d[p],m,g,v,y);--p}else t.forEach(T.add);return h=d=t=u=null,T}var s,a=Mn,l=An;return(s=arguments.length)?(a=ci,l=ui,3===s&&(o=n,i=e,n=e=0),r(t)):(r.x=function(t){return arguments.length?(a=t,r):a},r.y=function(t){return arguments.length?(l=t,r):l},r.extent=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),r):null==e?null:[[e,n],[i,o]]},r.size=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=n=0,i=+t[0],o=+t[1]),r):null==e?null:[i-e,o-n]},r)},ns.interpolateRgb=fi,ns.interpolateObject=mi,ns.interpolateNumber=gi,ns.interpolateString=vi;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,al=new RegExp(sl.source,"g");ns.interpolate=yi,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?Zs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?fi:vi:e instanceof st?fi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?mi:gi)(t,e)}],ns.interpolateArray=bi;var ll=function(){return y},cl=ns.map({linear:ll,poly:Si,quad:function(){return ki},cubic:function(){return _i},sin:function(){return Di},exp:function(){return Mi},circle:function(){return Ai},elastic:Ei,back:Ni,bounce:function(){return Oi}}),ul=ns.map({"in":y,out:xi,"in-out":Ci,"out-in":function(t){return Ci(xi(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=cl.get(n)||ll,i=ul.get(i)||y,wi(i(n.apply(null,is.call(arguments,1))))},ns.interpolateHcl=Pi,ns.interpolateHsl=Ii,ns.interpolateLab=Li,ns.interpolateRound=$i,ns.transform=function(t){var e=rs.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Hi(n?n.matrix:hl)})(t)},Hi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=Ri,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Ui(t[n]));return e}},ns.layout.chord=function(){function t(){var t,c,h,d,p,f={},m=[],g=ns.range(r),v=[];for(n=[],i=[],t=0,d=-1;++d<r;){for(c=0,p=-1;++p<r;)c+=o[d][p];m.push(c),v.push(ns.range(r)),t+=c}for(s&&g.sort(function(t,e){return s(m[t],m[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(o[e][t],o[e][n])})}),t=(Ps-u*r)/t,c=0,d=-1;++d<r;){for(h=c,p=-1;++p<r;){var y=g[d],b=v[y][p],w=o[y][b],x=c,C=c+=w*t;f[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:C,value:w}}i[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=u}for(d=-1;++d<r;)for(p=d-1;++p<r;){var k=f[d+"-"+p],_=f[p+"-"+d];(k.value||_.value)&&n.push(k.value<_.value?{source:_,target:k}:{source:k,target:_})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,o,r,s,a,l,c={},u=0;return c.matrix=function(t){return arguments.length?(r=(o=t)&&o.length,n=i=null,c):o},c.padding=function(t){return arguments.length?(u=t,n=i=null,c):u},c.sortGroups=function(t){return arguments.length?(s=t,n=i=null,c):s},c.sortSubgroups=function(t){return arguments.length?(a=t,n=null,c):a},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return i||t(),i},c},ns.layout.force=function(){function t(t){return function(e,n,i,o){if(e.point!==t){var r=e.cx-t.x,s=e.cy-t.y,a=o-n,l=r*r+s*s;if(l>a*a/g){if(f>l){var c=e.charge/l;t.px-=r*c,t.py-=s*c}return!0}if(e.point&&l&&f>l){var c=e.pointCharge/l;t.px-=r*c,t.py-=s*c}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,a.resume()}var n,i,o,r,s,a={},l=ns.dispatch("start","tick","end"),c=[1,1],u=.9,h=dl,d=pl,p=-30,f=fl,m=.1,g=.64,v=[],b=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,h,d,f,g,y,w,x=v.length,C=b.length;for(n=0;C>n;++n)a=b[n],h=a.source,d=a.target,y=d.x-h.x,w=d.y-h.y,(f=y*y+w*w)&&(f=i*r[n]*((f=Math.sqrt(f))-o[n])/f,y*=f,w*=f,d.x-=y*(g=h.weight/(d.weight+h.weight)),d.y-=w*g,h.x+=y*(g=1-g),h.y+=w*g);if((g=i*m)&&(y=c[0]/2,w=c[1]/2,n=-1,g))for(;++n<x;)a=v[n],a.x+=(y-a.x)*g,a.y+=(w-a.y)*g;if(p)for(Gi(e=ns.geom.quadtree(v),i,s),n=-1;++n<x;)(a=v[n]).fixed||e.visit(t(a));for(n=-1;++n<x;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*u,a.y-=(a.py-(a.py=a.y))*u);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(b=t,a):b},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(f=t*t,a):Math.sqrt(f)},a.gravity=function(t){return arguments.length?(m=+t,a):m},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),ns.timer(a.tick)),a):i},a.start=function(){function t(t,i){if(!n){for(n=new Array(l),a=0;l>a;++a)n[a]=[];for(a=0;u>a;++a){var o=b[a];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var r,s=n[e],a=-1,c=s.length;++a<c;)if(!isNaN(r=s[a][t]))return r;return Math.random()*i}var e,n,i,l=v.length,u=b.length,f=c[0],m=c[1];for(e=0;l>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=b[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;l>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",f)),isNaN(i.y)&&(i.y=t("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof h)for(e=0;u>e;++e)o[e]=+h.call(this,b[e],e);else for(e=0;u>e;++e)o[e]=h;if(r=[],"function"==typeof d)for(e=0;u>e;++e)r[e]=+d.call(this,b[e],e);else for(e=0;u>e;++e)r[e]=d;if(s=[],"function"==typeof p)for(e=0;l>e;++e)s[e]=+p.call(this,v[e],e);else for(e=0;l>e;++e)s[e]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",Xi).on("drag.force",e).on("dragend.force",Vi)),arguments.length?void this.on("mouseover.force",Ki).on("mouseout.force",Qi).call(n):n},ns.rebind(a,l,"on")};var dl=20,pl=1,fl=1/0;ns.layout.hierarchy=function(){function t(o){var r,s=[o],a=[];for(o.depth=0;null!=(r=s.pop());)if(a.push(r),(c=n.call(t,r,r.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)s.push(u=c[l]),u.parent=r,u.depth=r.depth+1;i&&(r.value=0),r.children=c}else i&&(r.value=+i.call(t,r,r.depth)||0),delete r.children;return to(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),i&&(o=t.parent)&&(o.value+=t.value)}),a}var e=io,n=eo,i=no;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Ji(e,function(t){t.children&&(t.value=0)}),to(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,i,o){var r=e.children;if(e.x=n,e.y=e.depth*o,e.dx=i,e.dy=o,r&&(s=r.length)){var s,a,l,c=-1;for(i=e.value?i/e.value:0;++c<s;)t(a=r[c],n,l=a.value*i,o),n+=l}}function e(t){var n=t.children,i=0;if(n&&(o=n.length))for(var o,r=-1;++r<o;)i=Math.max(i,e(n[r]));return 1+i}function n(n,r){var s=i.call(this,n,r);return t(s[0],0,o[0],o[1]/e(s[0])),s}var i=ns.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},Zi(n,i)},ns.layout.pie=function(){function t(s){var a,l=s.length,c=s.map(function(n,i){return+e.call(t,n,i)}),u=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof o?o.apply(this,arguments):o)-u,d=Math.min(Math.abs(h)/l,+("function"==typeof r?r.apply(this,arguments):r)),p=d*(0>h?-1:1),f=(h-l*p)/ns.sum(c),m=ns.range(l),g=[];return null!=n&&m.sort(n===ml?function(t,e){return c[e]-c[t]}:function(t,e){return n(s[t],s[e])}),m.forEach(function(t){g[t]={data:s[t],value:a=c[t],startAngle:u,endAngle:u+=a*f+p,padAngle:d}}),g}var e=Number,n=ml,i=0,o=Ps,r=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(r=e,t):r},t};var ml={};ns.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var c=a.map(function(n,i){return e.call(t,n,i)}),u=c.map(function(e){return e.map(function(e,n){return[r.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,u,l);c=ns.permute(c,h),u=ns.permute(u,h);var d,p,f,m,g=i.call(t,u,l),v=c[0].length;for(f=0;v>f;++f)for(o.call(t,c[0][f],m=g[f],u[0][f][1]),p=1;d>p;++p)o.call(t,c[p][f],m+=u[p-1][f][1],u[p][f][1]);return a}var e=y,n=lo,i=co,o=ao,r=ro,s=so;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:gl.get(e)||lo,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:vl.get(e)||co,t):i},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(o=e,t):o},t};var gl=ns.map({"inside-out":function(t){var e,n,i=t.length,o=t.map(uo),r=t.map(ho),s=ns.range(i).sort(function(t,e){return o[t]-o[e]}),a=0,l=0,c=[],u=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=r[n],c.push(n)):(l+=r[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return ns.range(t.length).reverse()},"default":lo}),vl=ns.map({silhouette:function(t){var e,n,i,o=t.length,r=t[0].length,s=[],a=0,l=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;r>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,o,r,s,a,l,c,u=t.length,h=t[0],d=h.length,p=[];for(p[0]=l=c=0,n=1;d>n;++n){for(e=0,o=0;u>e;++e)o+=t[e][n][1];for(e=0,r=0,a=h[n][0]-h[n-1][0];u>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;r+=s*t[e][n][1]}p[n]=l-=o?r/o*a:0,c>l&&(c=l)}for(n=0;d>n;++n)p[n]-=c;return p},expand:function(t){var e,n,i,o=t.length,r=t[0].length,s=1/o,a=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];if(i)for(e=0;o>e;e++)t[e][n][1]/=i;else for(e=0;o>e;e++)t[e][n][1]=s}for(n=0;r>n;++n)a[n]=0;return a},zero:co});ns.layout.histogram=function(){function t(t,r){for(var s,a,l=[],c=t.map(n,this),u=i.call(this,c,r),h=o.call(this,u,c,r),r=-1,d=c.length,p=h.length-1,f=e?1:1/d;++r<p;)s=l[r]=[],s.dx=h[r+1]-(s.x=h[r]),s.y=0;if(p>0)for(r=-1;++r<d;)a=c[r],a>=u[0]&&a<=u[1]&&(s=l[ns.bisect(h,a,1,p)-1],s.y+=f,s.push(t[r]));return l}var e=!0,n=Number,i=go,o=fo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=St(e),t):i},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return mo(t,e)}:St(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,r){var s=n.call(this,t,r),a=s[0],l=o[0],c=o[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,to(a,function(t){t.r=+u(t.value)}),to(a,xo),i){var h=i*(e?1:Math.max(2*a.r/l,2*a.r/c))/2;to(a,function(t){t.r+=h}),to(a,xo),to(a,function(t){t.r-=h})}return _o(a,l/2,c/2,e?1:1/Math.max(2*a.r/l,2*a.r/c)),s}var e,n=ns.layout.hierarchy().sort(vo),i=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Zi(t,n)},ns.layout.tree=function(){function t(t,o){var u=s.call(this,t,o),h=u[0],d=e(h);if(to(d,n),d.parent.m=-d.z,Ji(d,i),c)Ji(h,r);else{var p=h,f=h,m=h;Ji(h,function(t){t.x<p.x&&(p=t),t.x>f.x&&(f=t),t.depth>m.depth&&(m=t)});var g=a(p,f)/2-p.x,v=l[0]/(f.x+a(f,p)/2+g),y=l[1]/(m.depth||1);Ji(h,function(t){t.x=(t.x+g)*v,t.y=t.depth*y})}return u}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var o,r=e.children,s=0,a=r.length;a>s;++s)i.push((r[s]=o={_:r[s],parent:e,children:(o=r[s].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Eo(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+a(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,o=t,r=t,s=e,l=o.parent.children[0],c=o.m,u=r.m,h=s.m,d=l.m;s=Mo(s),o=Do(o),s&&o;)l=Do(l),r=Mo(r),r.a=t,i=s.z+h-o.z-c+a(s._,o._),i>0&&(Ao(No(s,t,n),t,i),c+=i,u+=i),h+=s.m,c+=o.m,d+=l.m,u+=r.m;s&&!Mo(r)&&(r.t=s,r.m+=h-u),o&&!Do(l)&&(l.t=o,l.m+=c-d,n=t)}return n}function r(t){t.x*=l[0],t.y=t.depth*l[1]}var s=ns.layout.hierarchy().sort(null).value(null),a=So,l=[1,1],c=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(c=null==(l=e)?r:null,t):c?null:l},t.nodeSize=function(e){return arguments.length?(c=null==(l=e)?null:r,t):c?l:null},Zi(t,s)},ns.layout.cluster=function(){function t(t,r){var s,a=e.call(this,t,r),l=a[0],c=0;to(l,function(t){var e=t.children;e&&e.length?(t.x=Po(e),t.y=Oo(e)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)});var u=Io(l),h=Lo(l),d=u.x-n(u,h)/2,p=h.x+n(h,u)/2;return to(l,o?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(p-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=ns.layout.hierarchy().sort(null).value(null),n=So,i=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(i=e),t):o?null:i},t.nodeSize=function(e){return arguments.length?(o=null!=(i=e),t):o?i:null},Zi(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,i,o=-1,r=t.length;++o<r;)i=(n=t[o]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var r=n.children;if(r&&r.length){var s,a,l,c=h(n),u=[],d=r.slice(),f=1/0,m="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(d,c.dx*c.dy/n.value),u.area=0;(l=d.length)>0;)u.push(s=d[l-1]),u.area+=s.area,"squarify"!==p||(a=i(u,m))<=f?(d.pop(),f=a):(u.area-=u.pop().area,o(u,m,c,!1),m=Math.min(c.dx,c.dy),u.length=u.area=0,f=1/0);u.length&&(o(u,m,c,!0),u.length=u.area=0),r.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var r,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;r=a.pop();)l.push(r),l.area+=r.area,null!=r.z&&(o(l,r.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,o=0,r=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(r>n&&(r=n),n>o&&(o=n));return i*=i,e*=e,i?Math.max(e*o*f/i,i/(e*r*f)):1/0}function o(t,e,n,i){var o,r=-1,s=t.length,a=n.x,c=n.y,u=e?l(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++r<s;)o=t[r],o.x=a,o.y=c,o.dy=u,a+=o.dx=Math.min(n.x+n.dx-a,u?l(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-a,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++r<s;)o=t[r],o.x=a,o.y=c,o.dx=u,c+=o.dy=Math.min(n.y+n.dy-c,u?l(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function r(i){var o=s||a(i),r=o[0];return r.x=0,r.y=0,r.dx=c[0],r.dy=c[1],s&&a.revalue(r),t([r],r.dx*r.dy/r.value),(s?n:e)(r),d&&(s=o),o}var s,a=ns.layout.hierarchy(),l=Math.round,c=[1,1],u=null,h=$o,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(c=t,r):c},r.padding=function(t){function e(e){var n=t.call(r,e,e.depth);return null==n?$o(e):Ho(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ho(e,t)}if(!arguments.length)return u;var i;return h=null==(u=t)?$o:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,r},r.round=function(t){return arguments.length?(l=t?Math.round:Number,r):l!=Number},r.sticky=function(t){return arguments.length?(d=t,s=null,r):d},r.ratio=function(t){return arguments.length?(f=t,r):f},r.mode=function(t){return arguments.length?(p=t+"",r):p},Zi(r,a)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,o;do n=2*Math.random()-1,i=2*Math.random()-1,o=n*n+i*i;while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yl={floor:y,ceil:y};ns.scale.linear=function(){return Uo([0,1],[0,1],yi,!1)};var bl={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return Zo(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ns.format(".0e"),xl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Jo(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return er([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range(Cl)},ns.scale.category20=function(){return ns.scale.ordinal().range(kl)},ns.scale.category20b=function(){return ns.scale.ordinal().range(_l)},ns.scale.category20c=function(){return ns.scale.ordinal().range(Tl)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),_l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);ns.scale.quantile=function(){return nr([],[])},ns.scale.quantize=function(){return ir(0,1,[0,1])},ns.scale.threshold=function(){return or([.5],[0,1])},ns.scale.identity=function(){return rr([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+i.apply(this,arguments)),u=s.apply(this,arguments)-Ls,h=a.apply(this,arguments)-Ls,d=Math.abs(h-u),p=u>h?0:1;if(t>c&&(f=c,c=t,t=f),d>=Is)return e(c,p)+(t?e(t,1-p):"")+"Z";var f,m,g,v,y,b,w,x,C,k,_,T,S=0,D=0,M=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=r===Sl?Math.sqrt(t*t+c*c):+r.apply(this,arguments),p||(D*=-1),c&&(D=et(g/c*Math.sin(v))),t&&(S=et(g/t*Math.sin(v)))),c){y=c*Math.cos(u+D),b=c*Math.sin(u+D),w=c*Math.cos(h-D),x=c*Math.sin(h-D);var A=Math.abs(h-u-2*D)<=Os?0:1;if(D&&dr(y,b,w,x)===p^A){var E=(u+h)/2;y=c*Math.cos(E),b=c*Math.sin(E),w=x=null}}else y=b=0;if(t){C=t*Math.cos(h-S),k=t*Math.sin(h-S),_=t*Math.cos(u+S),T=t*Math.sin(u+S);var N=Math.abs(u-h+2*S)<=Os?0:1;if(S&&dr(C,k,_,T)===1-p^N){var O=(u+h)/2;C=t*Math.cos(O),k=t*Math.sin(O),_=T=null}}else C=k=0;if((f=Math.min(Math.abs(c-t)/2,+o.apply(this,arguments)))>.001){m=c>t^p?0:1;var P=null==_?[C,k]:null==w?[y,b]:Pn([y,b],[_,T],[w,x],[C,k]),I=y-P[0],L=b-P[1],$=w-P[0],H=x-P[1],F=1/Math.sin(Math.acos((I*$+L*H)/(Math.sqrt(I*I+L*L)*Math.sqrt($*$+H*H)))/2),z=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(null!=w){var j=Math.min(f,(c-z)/(F+1)),R=pr(null==_?[C,k]:[_,T],[y,b],c,j,p),W=pr([w,x],[C,k],c,j,p);f===j?M.push("M",R[0],"A",j,",",j," 0 0,",m," ",R[1],"A",c,",",c," 0 ",1-p^dr(R[1][0],R[1][1],W[1][0],W[1][1]),",",p," ",W[1],"A",j,",",j," 0 0,",m," ",W[0]):M.push("M",R[0],"A",j,",",j," 0 1,",m," ",W[0])}else M.push("M",y,",",b);if(null!=_){var Y=Math.min(f,(t-z)/(F-1)),U=pr([y,b],[_,T],t,-Y,p),B=pr([C,k],null==w?[y,b]:[w,x],t,-Y,p);f===Y?M.push("L",B[0],"A",Y,",",Y," 0 0,",m," ",B[1],"A",t,",",t," 0 ",p^dr(B[1][0],B[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",Y,",",Y," 0 0,",m," ",U[0]):M.push("L",B[0],"A",Y,",",Y," 0 0,",m," ",U[0])}else M.push("L",C,",",k)}else M.push("M",y,",",b),null!=w&&M.push("A",c,",",c," 0 ",A,",",p," ",w,",",x),M.push("L",C,",",k),null!=_&&M.push("A",t,",",t," 0 ",N,",",1-p," ",_,",",T);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ar,i=lr,o=sr,r=Sl,s=cr,a=ur,l=hr;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(i=St(e),t):i},t.cornerRadius=function(e){return arguments.length?(o=St(e),t):o},t.padRadius=function(e){return arguments.length?(r=e==Sl?Sl:St(e),t):r},t.startAngle=function(e){return arguments.length?(s=St(e),t):s},t.endAngle=function(e){return arguments.length?(a=St(e),t):a},t.padAngle=function(e){return arguments.length?(l=St(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Ls;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Sl="auto";ns.svg.line=function(){return fr(y)};var Dl=ns.map({linear:mr,"linear-closed":gr,step:vr,"step-before":yr,"step-after":br,basis:Tr,"basis-open":Sr,"basis-closed":Dr,bundle:Mr,cardinal:Cr,"cardinal-open":wr,"cardinal-closed":xr,monotone:Ir});Dl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ml=[0,2/3,1/3,0],Al=[0,1/3,2/3,0],El=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=fr(Lr);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},yr.reverse=br,br.reverse=yr,ns.svg.area=function(){return $r(y)},ns.svg.area.radial=function(){var t=$r(Lr);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,a){var l=e(this,r,t,a),c=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,c)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,c.r,c.p0)+i(c.r,c.p1,c.a1-c.a0)+o(c.r,c.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var o=e.call(t,n,i),r=a.call(t,o,i),s=l.call(t,o,i)-Ls,u=c.call(t,o,i)-Ls;return{r:r,a0:s,a1:u,p0:[r*Math.cos(s),r*Math.sin(s)],p1:[r*Math.cos(u),r*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Os)+",1 "+e}function o(t,e,n,i){return"Q 0,0 "+i}var r=yn,s=bn,a=Hr,l=cr,c=ur;return t.radius=function(e){return arguments.length?(a=St(e),t):a},t.source=function(e){return arguments.length?(r=St(e),t):r},t.target=function(e){return arguments.length?(s=St(e),t):s},t.startAngle=function(e){return arguments.length?(l=St(e),t):l},t.endAngle=function(e){return arguments.length?(c=St(e),t):c},t},ns.svg.diagonal=function(){function t(t,o){var r=e.call(this,t,o),s=n.call(this,t,o),a=(r.y+s.y)/2,l=[r,{x:r.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yn,n=bn,i=Fr;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=Fr,n=t.projection;return t.projection=function(t){return arguments.length?n(zr(e=t)):e},t},ns.svg.symbol=function(){function t(t,i){return(Nl.get(e.call(this,t,i))||Wr)(n.call(this,t,i))}var e=Rr,n=jr;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Nl=ns.map({circle:Wr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ol),n=e*Ol/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ol),n=e*Ol/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Nl.keys();var Ol=Math.sqrt(3),Pl=Math.tan(30*$s);ks.transition=function(t){for(var e,n,i=Il||++Fl,o=Xr(t),r=[],s=Ll||{time:Date.now(),ease:Ti,delay:0,duration:250},a=-1,l=this.length;++a<l;){r.push(e=[]);for(var c=this[a],u=-1,h=c.length;++u<h;)(n=c[u])&&Vr(n,u,o,i,s),e.push(n)}return Ur(r,o,i)},ks.interrupt=function(t){return this.each(null==t?$l:Yr(Xr(t)))};var Il,Ll,$l=Yr(Xr()),Hl=[],Fl=0;Hl.call=ks.call,Hl.empty=ks.empty,Hl.node=ks.node,Hl.size=ks.size,ns.transition=function(t,e){return t&&t.transition?Il?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Hl,Hl.select=function(t){var e,n,i,o=this.id,r=this.namespace,s=[];t=M(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var c=this[a],u=-1,h=c.length;++u<h;)(i=c[u])&&(n=t.call(i,i.__data__,u,a))?("__data__"in i&&(n.__data__=i.__data__),Vr(n,u,r,o,i[r][o]),e.push(n)):e.push(null)}return Ur(s,r,o)},Hl.selectAll=function(t){var e,n,i,o,r,s=this.id,a=this.namespace,l=[];t=A(t);for(var c=-1,u=this.length;++c<u;)for(var h=this[c],d=-1,p=h.length;++d<p;)if(i=h[d]){r=i[a][s],
n=t.call(i,i.__data__,d,c),l.push(e=[]);for(var f=-1,m=n.length;++f<m;)(o=n[f])&&Vr(o,f,a,s,r),e.push(o)}return Ur(l,a,s)},Hl.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=R(t));for(var r=0,s=this.length;s>r;r++){o.push(e=[]);for(var n=this[r],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,r)&&e.push(i)}return Ur(o,this.namespace,this.id)},Hl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):Y(this,null==e?function(e){e[i][n].tween.remove(t)}:function(o){o[i][n].tween.set(t,e)})},Hl.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function r(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Ri:yi,a=ns.ns.qualify(t);return Br(this,"attr."+t,e,a.local?r:o)},Hl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(o));return i&&function(t){this.setAttribute(o,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return i&&function(t){this.setAttributeNS(o.space,o.local,i(t))}}var o=ns.ns.qualify(t);return this.tween("attr."+t,o.local?i:n)},Hl.style=function(t,n,i){function o(){this.style.removeProperty(t)}function r(n){return null==n?o:(n+="",function(){var o,r=e(this).getComputedStyle(this,null).getPropertyValue(t);return r!==n&&(o=yi(r,n),function(e){this.style.setProperty(t,o(e),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Br(this,"style."+t,n,r)},Hl.styleTween=function(t,n,i){function o(o,r){var s=n.call(this,o,r,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,o)},Hl.text=function(t){return Br(this,"text",t,qr)},Hl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Hl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),Y(this,function(i){i[n][e].ease=t}))},Hl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:Y(this,"function"==typeof t?function(i,o,r){i[n][e].delay=+t.call(i,i.__data__,o,r)}:(t=+t,function(i){i[n][e].delay=t}))},Hl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:Y(this,"function"==typeof t?function(i,o,r){i[n][e].duration=Math.max(1,t.call(i,i.__data__,o,r))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Hl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var o=Ll,r=Il;try{Il=n,Y(this,function(e,o,r){Ll=e[i][n],t.call(e,e.__data__,o,r)})}finally{Ll=o,Il=r}}else Y(this,function(o){var r=o[i][n];(r.event||(r.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Hl.transition=function(){for(var t,e,n,i,o=this.id,r=++Fl,s=this.namespace,a=[],l=0,c=this.length;c>l;l++){a.push(t=[]);for(var e=this[l],u=0,h=e.length;h>u;u++)(n=e[u])&&(i=n[s][o],Vr(n,u,s,r,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Ur(a,s,r)},ns.svg.axis=function(){function t(t){t.each(function(){var t,c=ns.select(this),u=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,a):h.domain():l,p=null==e?h.tickFormat?h.tickFormat.apply(h,a):y:e,f=c.selectAll(".tick").data(d,h),m=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Es),g=ns.transition(f.exit()).style("opacity",Es).remove(),v=ns.transition(f.order()).style("opacity",1),b=Math.max(o,0)+s,w=zo(h),x=c.selectAll(".domain").data([0]),C=(x.enter().append("path").attr("class","domain"),ns.transition(x));m.append("line"),m.append("text");var k,_,T,S,D=m.select("line"),M=v.select("line"),A=f.select("text").text(p),E=m.select("text"),N=v.select("text"),O="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Kr,k="x",T="y",_="x2",S="y2",A.attr("dy",0>O?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+w[0]+","+O*r+"V0H"+w[1]+"V"+O*r)):(t=Qr,k="y",T="x",_="y2",S="x2",A.attr("dy",".32em").style("text-anchor",0>O?"end":"start"),C.attr("d","M"+O*r+","+w[0]+"H0V"+w[1]+"H"+O*r)),D.attr(S,O*o),E.attr(T,O*b),M.attr(_,0).attr(S,O*o),N.attr(k,0).attr(T,O*b),h.rangeBand){var P=h,I=P.rangeBand()/2;u=h=function(t){return P(t)+I}}else u.rangeBand?u=h:g.call(t,h,u);m.call(t,u,h),v.call(t,h,h)})}var e,n=ns.scale.linear(),i=zl,o=6,r=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in jl?e+"":zl,t):i},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,r=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var zl="bottom",jl={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=e.selectAll(".resize").data(m,y);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,h=ns.transition(e),d=ns.transition(s);c&&(l=zo(c),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),u&&(l=zo(u),d.attr("y",l[0]).attr("height",l[1]-l[0]),o(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function o(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==ns.event.keyCode&&(A||(b=null,N[0]-=h[1],N[1]-=d[1],A=2),_())}function m(){32==ns.event.keyCode&&2==A&&(N[0]+=h[1],N[1]+=d[1],A=0,_())}function g(){var t=ns.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),A||(ns.event.altKey?(b||(b=[(h[0]+h[1])/2,(d[0]+d[1])/2]),N[0]=h[+(t[0]<b[0])],N[1]=d[+(t[1]<b[1])]):b=null),D&&v(t,c,0)&&(i(T),e=!0),M&&v(t,u,1)&&(o(T),e=!0),e&&(n(T),k({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var i,o,r=zo(e),l=r[0],c=r[1],u=N[n],m=n?d:h,g=m[1]-m[0];return A&&(l-=u,c-=g+u),i=(n?f:p)?Math.max(l,Math.min(c,t[n])):t[n],A?o=(i+=u)+g:(b&&(u=Math.max(l,Math.min(c,2*b[n]-i))),i>u?(o=i,i=u):o=u),m[0]!=i||m[1]!=o?(n?a=null:s=null,m[0]=i,m[1]=o,!0):void 0}function y(){g(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),k({type:"brushend"})}var b,w,x=this,C=ns.select(ns.event.target),k=l.of(x,arguments),T=ns.select(x),S=C.datum(),D=!/^(n|s)$/.test(S)&&c,M=!/^(e|w)$/.test(S)&&u,A=C.classed("extent"),E=K(x),N=ns.mouse(x),O=ns.select(e(x)).on("keydown.brush",r).on("keyup.brush",m);if(ns.event.changedTouches?O.on("touchmove.brush",g).on("touchend.brush",y):O.on("mousemove.brush",g).on("mouseup.brush",y),T.interrupt().selectAll("*").interrupt(),A)N[0]=h[0]-N[0],N[1]=d[0]-N[1];else if(S){var P=+/w$/.test(S),I=+/^n/.test(S);w=[h[1-P]-N[0],d[1-I]-N[1]],N[0]=h[P],N[1]=d[I]}else ns.event.altKey&&(b=N.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",C.style("cursor")),k({type:"brushstart"}),g()}var s,a,l=S(t,"brushstart","brush","brushend"),c=null,u=null,h=[0,0],d=[0,0],p=!0,f=!0,m=Wl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:s,j:a},n=this.__chart__||e;this.__chart__=e,Il?ns.select(this).transition().each("start.brush",function(){s=n.i,a=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(h,e.x),i=bi(d,e.y);return s=a=null,function(o){h=e.x=n(o),d=e.y=i(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(c=e,m=Wl[!c<<1|!u],t):c},t.y=function(e){return arguments.length?(u=e,m=Wl[!c<<1|!u],t):u},t.clamp=function(e){return arguments.length?(c&&u?(p=!!e[0],f=!!e[1]):c?p=!!e:u&&(f=!!e),t):c&&u?[p,f]:c?p:u?f:null},t.extent=function(e){var n,i,o,r,l;return arguments.length?(c&&(n=e[0],i=e[1],u&&(n=n[0],i=i[0]),s=[n,i],c.invert&&(n=c(n),i=c(i)),n>i&&(l=n,n=i,i=l),(n!=h[0]||i!=h[1])&&(h=[n,i])),u&&(o=e[0],r=e[1],c&&(o=o[1],r=r[1]),a=[o,r],u.invert&&(o=u(o),r=u(r)),o>r&&(l=o,o=r,r=l),(o!=d[0]||r!=d[1])&&(d=[o,r])),t):(c&&(s?(n=s[0],i=s[1]):(n=h[0],i=h[1],c.invert&&(n=c.invert(n),i=c.invert(i)),n>i&&(l=n,n=i,i=l))),u&&(a?(o=a[0],r=a[1]):(o=d[0],r=d[1],u.invert&&(o=u.invert(o),r=u.invert(r)),o>r&&(l=o,o=r,r=l))),c&&u?[[n,o],[i,r]]:c?[n,i]:u&&[o,r])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!c&&h[0]==h[1]||!!u&&d[0]==d[1]},ns.rebind(t,l,"on")};var Rl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yl=la.format=fa.timeFormat,Ul=Yl.utc,Bl=Ul("%Y-%m-%dT%H:%M:%S.%LZ");Yl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Gr:Bl,Gr.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Gr.toString=Bl.toString,la.second=zt(function(t){return new ca(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),la.seconds=la.second.range,la.seconds.utc=la.second.utc.range,la.minute=zt(function(t){return new ca(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),la.minutes=la.minute.range,la.minutes.utc=la.minute.utc.range,la.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ca(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),la.hours=la.hour.range,la.hours.utc=la.hour.utc.range,la.month=zt(function(t){return t=la.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),la.months=la.month.range,la.months.utc=la.month.utc.range;var ql=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[la.second,1],[la.second,5],[la.second,15],[la.second,30],[la.minute,1],[la.minute,5],[la.minute,15],[la.minute,30],[la.hour,1],[la.hour,3],[la.hour,6],[la.hour,12],[la.day,1],[la.day,2],[la.week,1],[la.month,1],[la.month,3],[la.year,1]],Vl=Yl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Kl={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Jr)},floor:y,ceil:y};Xl.year=la.year,la.scale=function(){return Zr(ns.scale.linear(),Xl,Vl)};var Ql=Xl.map(function(t){return[t[0].utc,t[1]]}),Gl=Ul.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Ql.year=la.year.utc,la.scale.utc=function(){return Zr(ns.scale.linear(),Ql,Gl)},ns.text=Dt(function(t){return t.responseText}),ns.json=function(t,e){return Mt(t,"application/json",ts,e)},ns.html=function(t,e){return Mt(t,"text/html",es,e)},ns.xml=Dt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)}(function(t){function e(r,s,a,u){function h(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",C.component.nodes(v.open),b.box),b.wrap),b.frame),b.holder)}function d(){w.data(s,C).addClass(b.input).val(w.data("value")?C.get("select",y.format):r.value).on("focus."+v.id+" click."+v.id,m),y.editable||w.on("keydown."+v.id,function(t){var e=t.keyCode,n=/^(8|46)$/.test(e);return 27==e?(C.close(),!1):void((32==e||n||!v.open&&C.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?C.clear().close():C.open()))}),o(r,{haspopup:!0,expanded:!1,readonly:!1,owns:r.id+"_root"+(C._hidden?" "+C._hidden.id:"")})}function p(){C.$root.on({focusin:function(t){C.$root.removeClass(b.focused),t.stopPropagation()},"mousedown click":function(e){var n=e.target;n!=C.$root.children()[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(n).is(":input")||"OPTION"==n.nodeName||(e.preventDefault(),r.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var n=t(this),i=n.data(),o=n.hasClass(b.navDisabled)||n.hasClass(b.disabled),s=document.activeElement;s=s&&(s.type||s.href)&&s,(o||s&&!t.contains(C.$root[0],s))&&r.focus(),i.nav&&!o?C.set("highlight",C.component.item.highlight,{nav:i.nav}):e._.isInteger(i.pick)&&!o?C.set("select",i.pick).close(!0):i.clear&&C.clear().close(!0)}).on("click","[data-close]",function(){C.close(!0)}),o(C.$root[0],"hidden",!0)}function f(){var e;y.hiddenName===!0?(e=r.name,r.name=""):(e=["string"==typeof y.hiddenPrefix?y.hiddenPrefix:"","string"==typeof y.hiddenSuffix?y.hiddenSuffix:"_submit"],e=e[0]+r.name+e[1]),C._hidden=t('<input type=hidden name="'+e+'"'+(r.id?'id="'+r.id+'_hidden"':"")+(w.data("value")||r.value?' value="'+C.get("select",y.formatSubmit)+'"':"")+">")[0],w.on("change."+v.id,function(){C._hidden.value=r.value?C.get("select",y.formatSubmit):""}).after(C._hidden)}function m(t){t.stopPropagation(),"focus"==t.type&&C.$root.addClass(b.focused),C.open()}if(!r)return e;var g=!1,v={id:r.id||"P"+Math.abs(~~(Math.random()*new Date))},y=a?t.extend(!0,{},a.defaults,u):u||{},b=t.extend({},e.klasses(),y.klass),w=t(r),x=function(){return this.start()},C=x.prototype={constructor:x,$node:w,start:function(){return v&&v.start?C:(v.methods={},v.start=!0,v.open=!1,v.type=r.type,r.autofocus=r==document.activeElement,r.readOnly=!y.editable,r.id=r.id||v.id,"text"!=r.type&&(r.type="text"),C.component=new a(C,y),C.$root=t(e._.node("div",h(),b.picker,'id="'+r.id+'_root"')),p(),y.formatSubmit&&f(),d(),y.container?t(y.container).append(C.$root):w.after(C.$root),C.on({start:C.component.onStart,render:C.component.onRender,stop:C.component.onStop,open:C.component.onOpen,close:C.component.onClose,set:C.component.onSet}).on({start:y.onStart,render:y.onRender,stop:y.onStop,open:y.onOpen,close:y.onClose,set:y.onSet}),g=n(C.$root.children()[0]),r.autofocus&&C.open(),C.trigger("start").trigger("render"))},render:function(t){return t?C.$root.html(h()):C.$root.find("."+b.box).html(C.component.nodes(v.open)),C.trigger("render")},stop:function(){return v.start?(C.close(),C._hidden&&C._hidden.parentNode.removeChild(C._hidden),C.$root.remove(),w.removeClass(b.input).removeData(s),setTimeout(function(){w.off("."+v.id)},0),r.type=v.type,r.readOnly=!1,C.trigger("stop"),v.methods={},v.start=!1,C):C},open:function(n){return v.open?C:(w.addClass(b.active),o(r,"expanded",!0),setTimeout(function(){C.$root.addClass(b.opened),o(C.$root[0],"hidden",!1)},0),n!==!1&&(v.open=!0,g&&c.css("overflow","hidden").css("padding-right","+="+i()),w.trigger("focus"),l.on("click."+v.id+" focusin."+v.id,function(t){var e=t.target;e!=r&&e!=document&&3!=t.which&&C.close(e===C.$root.children()[0])}).on("keydown."+v.id,function(n){var i=n.keyCode,o=C.component.key[i],s=n.target;27==i?C.close(!0):s!=r||!o&&13!=i?t.contains(C.$root[0],s)&&13==i&&(n.preventDefault(),s.click()):(n.preventDefault(),o?e._.trigger(C.component.key.go,C,[e._.trigger(o)]):C.$root.find("."+b.highlighted).hasClass(b.disabled)||C.set("select",C.component.item.highlight).close())})),C.trigger("open"))},close:function(t){return t&&(w.off("focus."+v.id).trigger("focus"),setTimeout(function(){w.on("focus."+v.id,m)},0)),w.removeClass(b.active),o(r,"expanded",!1),setTimeout(function(){C.$root.removeClass(b.opened+" "+b.focused),o(C.$root[0],"hidden",!0)},0),v.open?(v.open=!1,g&&c.css("overflow","").css("padding-right","-="+i()),l.off("."+v.id),C.trigger("close")):C},clear:function(t){return C.set("clear",null,t)},set:function(e,n,i){var o,r,s=t.isPlainObject(e),a=s?e:{};if(i=s&&t.isPlainObject(n)?n:i||{},e){s||(a[e]=n);for(o in a)r=a[o],o in C.component.item&&(void 0===r&&(r=null),C.component.set(o,r,i)),"select"!=o&&"clear"!=o||w.val("clear"==o?"":C.get(o,y.format)).trigger("change");C.render()}return i.muted?C:C.trigger("set",a)},get:function(t,n){if(t=t||"value",null!=v[t])return v[t];if("value"==t)return r.value;if(t in C.component.item){if("string"==typeof n){var i=C.component.get(t);return i?e._.trigger(C.component.formats.toString,C.component,[n,i]):""}return C.component.get(t)}},on:function(e,n,i){var o,r,s=t.isPlainObject(e),a=s?e:{};if(e){s||(a[e]=n);for(o in a)r=a[o],i&&(o="_"+o),v.methods[o]=v.methods[o]||[],v.methods[o].push(r)}return C},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;t<namesCount;t+=1)e=n[t],e in v.methods&&delete v.methods[e];return C},trigger:function(t,n){var i=function(t){var i=v.methods[t];i&&i.map(function(t){e._.trigger(t,C,[n])})};return i("_"+t),i(t),C}};return new x}function n(t){var e,n="position";return t.currentStyle?e=t.currentStyle[n]:window.getComputedStyle&&(e=getComputedStyle(t)[n]),"fixed"==e}function i(){if(c.height()<=a.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=e[0].offsetWidth;e.css("overflow","scroll");var i=t('<div style="width:100%" />').appendTo(e),o=i[0].offsetWidth;return e.remove(),n-o}function o(e,n,i){if(t.isPlainObject(n))for(var o in n)r(e,o,n[o]);else r(e,n,i)}function r(t,e,n){t.setAttribute(("role"==e?"":"aria-")+e,n)}function s(e,n){t.isPlainObject(e)||(e={attribute:n}),n="";for(var i in e){var o=("role"==i?"":"aria-")+i,r=e[i];n+=null==r?"":o+'="'+e[i]+'"'}return n}var a=t(window),l=t(document),c=t(document.documentElement);return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var n,i="",o=e._.trigger(t.min,t);o<=e._.trigger(t.max,t,[o]);o+=t.i)n=e._.trigger(t.item,t,[o]),i+=e._.node(t.node,n[0],n[1],n[2]);return i},node:function(e,n,i,o){return n?(n=t.isArray(n)?n.join(""):n,i=i?' class="'+i+'"':"",o=o?" "+o:"","<"+e+i+o+">"+n+"</"+e+">"):""},lead:function(t){return(t<10?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:s},e.extend=function(n,i){t.fn[n]=function(o,r){var s=this.data(n);return"picker"==o?s:s&&"string"==typeof o?e._.trigger(s[o],s,[r]):this.each(function(){var r=t(this);r.data(n)||new e(this,n,i,o)})},t.fn[n].defaults=i.defaults},e}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function n(t,e){var n=this,i=t.$node[0],o=i.value,r=t.$node.data("value"),s=r||o,a=r?e.formatSubmit:e.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};n.settings=e,n.$node=t.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(e.disable||[]).slice(0),n.item.enable=-function(t){return t[0]===!0?t.shift():-1}(n.item.disable),n.set("min",e.min).set("max",e.max).set("now"),s?n.set("select",s,{format:a}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(t){var e=n.item.highlight,i=new Date(e.year,e.month,e.date+t);n.set("highlight",[i.getFullYear(),i.getMonth(),i.getDate()],{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var n=this.value;n&&(t.set("highlight",[t.get("view").year,n,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var n=this.value;n&&(t.set("highlight",[n,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var i=7,o=6,r=t._;n.prototype.set=function(t,e,n){var i=this,o=i.item;return null===e?("clear"==t&&(t="select"),o[t]=e,i):(o["enable"==t?"disable":"flip"==t?"enable":t]=i.queue[t].split(" ").map(function(o){return e=i[o](t,e,n)}).pop(),"select"==t?i.set("highlight",o.select,n):"highlight"==t?i.set("view",o.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&i.disabled(o.select)&&i.set("select",o.select,n),o.highlight&&i.disabled(o.highlight)&&i.set("highlight",o.highlight,n)),i)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,i){var o,s=this;return n=void 0===n?t:n,n==-(1/0)||n==1/0?o=n:e.isPlainObject(n)&&r.isInteger(n.pick)?n=n.obj:e.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=r.isDate(n)?n:s.create().obj):n=r.isInteger(n)||r.isDate(n)?s.normalize(new Date(n),i):s.now(t,n,i),{year:o||n.getFullYear(),month:o||n.getMonth(),date:o||n.getDate(),day:o||n.getDay(),obj:o||n,pick:o||n.getTime()}},n.prototype.createRange=function(t,n){var i=this,o=function(t){return t===!0||e.isArray(t)||r.isDate(t)?i.create(t):t};return r.isInteger(t)||(t=o(t)),r.isInteger(n)||(n=o(n)),r.isInteger(t)&&e.isPlainObject(n)?t=[n.year,n.month,n.date+t]:r.isInteger(n)&&e.isPlainObject(t)&&(n=[t.year,t.month,t.date+n]),{from:o(t),to:o(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,n,i){var o,r,s,a,l=e.isArray(n),c=e.isPlainObject(n),u=this.item.view;if(l||c){for(c?(r=n.year,s=n.month,a=n.date):(r=+n[0],s=+n[1],a=+n[2]),i&&i.nav&&u&&u.month!==s&&(r=u.year,s=u.month),o=new Date(r,s+(i&&i.nav?i.nav:0),1),r=o.getFullYear(),s=o.getMonth();new Date(r,s,a).getMonth()!==s;)a-=1;n=[r,s,a]}return n},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){var n=this;return e?"string"==typeof e?e=n.parse(t,e):r.isInteger(e)&&(e=n.now(t,e,{rel:e})):e="min"==t?-(1/0):1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,i){var o,s,a,l,c=this,u=n,h=i&&i.interval?i.interval:1,d=c.item.enable===-1,p=c.item.min,f=c.item.max,m=d&&c.item.disable.filter(function(t){if(e.isArray(t)){var i=c.create(t).pick;i<n.pick?o=!0:i>n.pick&&(s=!0)}return r.isInteger(t)}).length;if((!i||!i.nav)&&(!d&&c.disabled(n)||d&&c.disabled(n)&&(m||o||s)||!d&&(n.pick<=p.pick||n.pick>=f.pick)))for(d&&!m&&(!s&&h>0||!o&&h<0)&&(h*=-1);c.disabled(n)&&(Math.abs(h)>1&&(n.month<u.month||n.month>u.month)&&(n=u,h=h>0?1:-1),n.pick<=p.pick?(a=!0,h=1,n=c.create([p.year,p.month,p.date+(n.pick===p.pick?0:-1)])):n.pick>=f.pick&&(l=!0,h=-1,n=c.create([f.year,f.month,f.date+(n.pick===f.pick?0:1)])),!a||!l);)n=c.create([n.year,n.month,n.date+h]);return n},n.prototype.disabled=function(t){var n=this,i=n.item.disable.filter(function(i){return r.isInteger(i)?t.day===(n.settings.firstDay?i:i-1)%7:e.isArray(i)||r.isDate(i)?t.pick===n.create(i).pick:e.isPlainObject(i)?n.withinRange(i,t):void 0});return i=i.length&&!i.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,n.item.enable===-1?!i:i||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(t,e,n){var i=this,o={};return e&&"string"==typeof e?(n&&n.format||(n=n||{},n.format=i.settings.format),i.formats.toArray(n.format).map(function(t){var n=i.formats[t],s=n?r.trigger(n,i,[e,o]):t.replace(/^!/,"").length;n&&(o[t]=e.substr(0,s)),e=e.substr(s)}),[o.yyyy||o.yy,+(o.mm||o.m)-1,o.dd||o.d]):e},n.prototype.formats=function(){function t(t,e,n){var i=t.match(/\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(i)+1),i.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?r.digits(t):e.date},dd:function(t,e){return t?2:r.lead(e.date)},ddd:function(t,n){return t?e(t):this.settings.weekdaysShort[n.day]},dddd:function(t,n){return t?e(t):this.settings.weekdaysFull[n.day]},m:function(t,e){return t?r.digits(t):e.month+1},mm:function(t,e){return t?2:r.lead(e.month+1)},mmm:function(e,n){var i=this.settings.monthsShort;return e?t(e,i,n):i[n.month]},mmmm:function(e,n){var i=this.settings.monthsFull;return e?t(e,i,n):i[n.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return r.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,n){var i=this;return r.isInteger(t)&&r.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(r.isDate(t)||e.isArray(t))&&(r.isDate(n)||e.isArray(n))?i.create(t).pick===i.create(n).pick:!(!e.isPlainObject(t)||!e.isPlainObject(n))&&(i.isDateExact(t.from,n.from)&&i.isDateExact(t.to,n.to))},n.prototype.isDateOverlap=function(t,n){var i=this,o=i.settings.firstDay?1:0;return r.isInteger(t)&&(r.isDate(n)||e.isArray(n))?(t=t%7+o,t===i.create(n).day+1):r.isInteger(n)&&(r.isDate(t)||e.isArray(t))?(n=n%7+o,n===i.create(t).day+1):!(!e.isPlainObject(t)||!e.isPlainObject(n))&&i.overlapRanges(t,n)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(e.enable==-1?1:-1)},n.prototype.deactivate=function(t,n){var i=this,o=i.item.disable.slice(0);return"flip"==n?i.flipEnable():n===!1?(i.flipEnable(1),o=[]):n===!0?(i.flipEnable(-1),o=[]):n.map(function(t){for(var n,s=0;s<o.length;s+=1)if(i.isDateExact(t,o[s])){n=!0;break}n||(r.isInteger(t)||r.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&o.push(t)}),o},n.prototype.activate=function(t,n){var i=this,o=i.item.disable,s=o.length;return"flip"==n?i.flipEnable():n===!0?(i.flipEnable(1),o=[]):n===!1?(i.flipEnable(-1),o=[]):n.map(function(t){var n,a,l,c;for(l=0;l<s;l+=1){if(a=o[l],i.isDateExact(a,t)){n=o[l]=null,c=!0;break}if(i.isDateOverlap(a,t)){e.isPlainObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[3]||n.push("inverted")):r.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(l=0;l<s;l+=1)if(i.isDateExact(o[l],t)){o[l]=null;break}if(c)for(l=0;l<s;l+=1)if(i.isDateOverlap(o[l],t)){o[l]=null;break}n&&o.push(n)}),o.filter(function(t){return null!=t})},n.prototype.nodes=function(t){var e=this,n=e.settings,s=e.item,a=s.now,l=s.select,c=s.highlight,u=s.view,h=s.disable,d=s.min,p=s.max,f=function(t,e){return n.firstDay&&(t.push(t.shift()),e.push(e.shift())),r.node("thead",r.node("tr",r.group({min:0,max:i-1,i:1,node:"th",item:function(i){return[t[i],n.klass.weekdays,'scope=col title="'+e[i]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),n.weekdaysFull.slice(0)),m=function(t){return r.node("div"," ",n.klass["nav"+(t?"Next":"Prev")]+(t&&u.year>=p.year&&u.month>=p.month||!t&&u.year<=d.year&&u.month<=d.month?" "+n.klass.navDisabled:""),"data-nav="+(t||-1)+" "+r.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+' title="'+(t?n.labelMonthNext:n.labelMonthPrev)+'"')},g=function(){var i=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?r.node("select",r.group({min:0,max:11,i:1,node:"option",item:function(t){return[i[t],0,"value="+t+(u.month==t?" selected":"")+(u.year==d.year&&t<d.month||u.year==p.year&&t>p.month?" disabled":"")]}}),n.klass.selectMonth,(t?"":"disabled")+" "+r.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):r.node("div",i[u.month],n.klass.month)},v=function(){var i=u.year,o=n.selectYears===!0?5:~~(n.selectYears/2);if(o){var s=d.year,a=p.year,l=i-o,c=i+o;if(s>l&&(c+=s-l,l=s),a<c){var h=l-s,f=c-a;l-=h>f?f:h,c=a}return r.node("select",r.group({min:l,max:c,i:1,node:"option",item:function(t){return[t,0,"value="+t+(i==t?" selected":"")]}}),n.klass.selectYear,(t?"":"disabled")+" "+r.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return r.node("div",i,n.klass.year)};return r.node("div",(n.selectYears?v()+g():g()+v())+m()+m(1),n.klass.header)+r.node("table",f+r.node("tbody",r.group({min:0,max:o-1,i:1,node:"tr",item:function(t){var o=n.firstDay&&0===e.create([u.year,u.month,1]).day?-7:0;return[r.group({min:i*t-u.day+o+1,max:function(){return this.min+i-1},i:1,node:"td",item:function(t){t=e.create([u.year,u.month,t+(n.firstDay?1:0)]);var i=l&&l.pick==t.pick,o=c&&c.pick==t.pick,s=h&&e.disabled(t)||t.pick<d.pick||t.pick>p.pick;return[r.node("div",t.date,function(e){return e.push(u.month==t.month?n.klass.infocus:n.klass.outfocus),a.pick==t.pick&&e.push(n.klass.now),i&&e.push(n.klass.selected),o&&e.push(n.klass.highlighted),s&&e.push(n.klass.disabled),e.join(" ")}([n.klass.day]),"data-pick="+t.pick+" "+r.ariaAttr({role:"gridcell",selected:!(!i||e.$node.val()!==r.trigger(e.formats.toString,e,[n.format,t]))||null,activedescendant:!!o||null,disabled:!!s||null})),"",r.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+e.$node[0].id+'_table" '+r.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0}))+r.node("div",r.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+a.pick+(t&&!e.disabled(a)?"":" disabled")+" "+r.ariaAttr({
controls:e.$node[0].id}))+r.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+r.ariaAttr({controls:e.$node[0].id}))+r.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(t?"":" disabled")+" "+r.ariaAttr({controls:e.$node[0].id})),n.klass.footer)},n.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",n)}),function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){function e(t){x=f(t),C=x.createSVGPoint(),document.body.appendChild(w)}function n(){return"n"}function i(){return[0,0]}function o(){return" "}function r(){var t=g();return{top:t.n.y-w.offsetHeight,left:t.n.x-w.offsetWidth/2}}function s(){var t=g();return{top:t.s.y,left:t.s.x-w.offsetWidth/2}}function a(){var t=g();return{top:t.e.y-w.offsetHeight/2,left:t.e.x}}function l(){var t=g();return{top:t.w.y-w.offsetHeight/2,left:t.w.x-w.offsetWidth}}function c(){var t=g();return{top:t.nw.y-w.offsetHeight,left:t.nw.x-w.offsetWidth}}function u(){var t=g();return{top:t.ne.y-w.offsetHeight,left:t.ne.x}}function h(){var t=g();return{top:t.sw.y,left:t.sw.x-w.offsetWidth}}function d(){var t=g();return{top:t.se.y,left:t.e.x}}function p(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,display:"none","pointer-events":"none","box-sizing":"border-box"}),e.node()}function f(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function m(){return null===w&&(w=p(),document.body.appendChild(w)),t.select(w)}function g(){for(var e=k||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},i=e.getScreenCTM(),o=e.getBBox(),r=o.width,s=o.height,a=o.x,l=o.y;return C.x=a,C.y=l,n.nw=C.matrixTransform(i),C.x+=r,n.ne=C.matrixTransform(i),C.y+=s,n.se=C.matrixTransform(i),C.x-=r,n.sw=C.matrixTransform(i),C.y-=s/2,n.w=C.matrixTransform(i),C.x+=r,n.e=C.matrixTransform(i),C.x-=r/2,C.y-=s/2,n.n=C.matrixTransform(i),C.y+=s,n.s=C.matrixTransform(i),n}var v=n,y=i,b=o,w=p(),x=null,C=null,k=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(k=t.pop());var n,i=b.apply(this,t),o=y.apply(this,t),r=v.apply(this,t),s=m(),a=T.length,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;for(s.html(i).style({display:"block","pointer-events":"all"}).attr("class","d3-tip"),s.append("div").attr("class","d3-tip-arrow");a--;)s.classed(T[a],!1);return n=_.get(r).apply(this),s.classed(r,!0).style({top:n.top+o[0]+l+"px",left:n.left+o[1]+c+"px"}),e},e.hide=function(){var t=m();return t.style({display:"none","pointer-events":"none"}),e},e.attr=function(n,i){if(arguments.length<2&&"string"==typeof n)return m().attr(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(m(),o),e},e.style=function(n,i){if(arguments.length<2&&"string"==typeof n)return m().style(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(m(),o),e},e.direction=function(n){return arguments.length?(v=null==n?n:t.functor(n),e):v},e.offset=function(n){return arguments.length?(y=null==n?n:t.functor(n),e):y},e.html=function(n){return arguments.length?(b=null==n?n:t.functor(n),e):b},e.destroy=function(){return w&&(m().remove(),w=null),e};var _=t.map({n:r,s:s,e:a,w:l,nw:c,ne:u,sw:h,se:d}),T=_.keys();return e}}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function o(t,e){return w.call(t,e)}function r(t,e){var n,i,o,r,s,a,l,c,u,h,d,p=e&&e.split("/"),f=y.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),s=t.length-1,y.nodeIdCompat&&C.test(t[s])&&(t[s]=t[s].replace(C,"")),t=p.slice(0,p.length-1).concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(h=p.length;h>0;h-=1)if(o=f[p.slice(0,h).join("/")],o&&(o=o[i])){r=o,a=u;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=u)}!r&&l&&(r=l,a=c),r&&(n.splice(0,a,r),t=n.join("/"))}return t}function s(t,n){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(o(v,t)){var n=v[t];delete v[t],b[t]=!0,d.apply(e,n)}if(!o(g,t)&&!o(b,t))throw new Error("No "+t);return g[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,p,f,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/;f=function(t,e){var n,i=u(t),o=i[0];return t=i[1],o&&(o=r(o,e),n=c(o)),o?t=n&&n.normalize?n.normalize(t,a(e)):r(t,e):(t=r(t,e),i=u(t),o=i[0],t=i[1],o&&(n=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},m={require:function(t){return s(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:h(t)}}},d=function(t,n,i,r){var a,u,h,d,p,y,w=[],x=typeof i;if(r=r||t,"undefined"===x||"function"===x){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(d=f(n[p],r),u=d.f,"require"===u)w[p]=m.require(t);else if("exports"===u)w[p]=m.exports(t),y=!0;else if("module"===u)a=w[p]=m.module(t);else if(o(g,u)||o(v,u)||o(b,u))w[p]=c(u);else{if(!d.p)throw new Error(t+" missing "+u);d.p.load(d.n,s(r,!0),l(u),{}),w[p]=g[u]}h=i?i.apply(g[t],w):void 0,t&&(a&&a.exports!==e&&a.exports!==g[t]?g[t]=a.exports:h===e&&y||(g[t]=h))}else t&&(g[t]=i)},t=n=p=function(t,n,i,o,r){if("string"==typeof t)return m[t]?m[t](n):c(f(t,n).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=o,o=r),o?d(e,t,n,i):setTimeout(function(){d(e,t,n,i)},4),p},p.config=function(t){return p(t)},t._defined=g,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),o(g,t)||o(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&void 0,e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){var o=e[i];"function"==typeof o&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,o=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),o=n.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=i}var r=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new o;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var o=n.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),o.apply(this,arguments)}}),u=0;u<r.length;u++){var h=r[u];i.prototype[h]=c(h)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];r=r.substring(0,1).toLowerCase()+r.substring(1),r in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),o=e.$results.find(".select2-results__option[aria-selected]");o.each(function(){var e=t(this),n=t.data(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(o,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var r=o.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):o.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var o in i){var r=i[o];n.setAttribute(o,r)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group",t(a),this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e,n){var i=this,o=e.id+"-results";this.$results.attr("id",o),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.hideMessages(),i.showLoading(t)}),e.on("select",function(){e.isOpen()&&i.setClasses()}),e.on("unselect",function(){e.isOpen()&&i.setClasses()}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(0!==n){var o=n-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var s=i.$results.offset().top,a=r.offset().top,l=i.$results.scrollTop()+(a-s);0===o?i.$results.scrollTop(0):0>a-s&&i.$results.scrollTop(l)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t),o=n+1;if(!(o>=e.length)){var r=e.eq(o);r.trigger("mouseenter");var s=i.$results.offset().top+i.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),l=i.$results.scrollTop()+a-s;0===o?i.$results.scrollTop(0):a>s&&i.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&n<=i.$results.height();o?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var n=t(this),o=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:o}):i.trigger("close",{})):void i.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var n=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,o=t.offset().top,r=this.$results.scrollTop()+(o-i),s=o-i;r-=2*t.outerHeight(!1),2>=n?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t,e){var i=this,o=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),o=t(".select2.select2-container--open");o.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("selection:update",function(t){n.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,n){var o=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var n=t(this),i=n.parent(),r=i.data("data");o.trigger("unselect",{originalEvent:e,data:r})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),s=this.display(o,r);r.append(s),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&void 0,this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var o=this;t.call(this,e,i),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(t){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var r=i.data("data");o.searchRemoveChoice(r),t.preventDefault()}}});var r=document.documentMode,s=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)return void o.$selection.off("input.search input.searchcheck");var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){n=n||{};var i=t.Event("select2:"+e,{params:n});o.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A"," ":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G"," ":"G","":"G"," ":"G","":"G","":"G","":"G","":"G"," ":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L"," ":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N"," ":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O"," ":"O","":"O","":"O"," ":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S"," ":"S"," ":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V"," ":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z",
"":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a"," ":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g"," ":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p"," ":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var o=[];t=[t],t.push.apply(t,i);for(var r=0;r<t.length;r++){var s=t[r].id;-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var o=[],r=0;r<i.length;r++){var s=i[r].id;s!==t.id&&-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")})},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],o=this,r=this.$element.children();r.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),s=o.matches(t,r);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),o=this._normalizeItem(t);return o.element=e,n.data(e,"data",o),i},i.prototype.item=function(t){var e={};if(e=n.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),o=[],r=0;r<i.length;r++){var s=n(i[r]),a=this.item(s);o.push(a)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var o=this,r=this.$element.find("option"),s=r.map(function(){return o.item(n(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=r.filter(i(c)),h=this.item(u),d=n.extend(!0,{},c,h),p=this.option(d);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(f,m)}a.push(f)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=r.transport(r,function(i){var r=o.processResults(i,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||void 0),e(r)},function(){o.trigger("results:message",{message:"errorLoading"})});o._request=i}var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,i),t.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,r){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0),u=l.text===e.term;if(u||c)return!r&&(t.data=s,void n(t))}if(r)return!0;var h=o.createTag(e);if(null!=h){var d=o.option(h);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(s,h)}t.results=s,n(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){var n=(this._lastTag,this.$element.find("option[data-select2-tag]"));n.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(t,e,n){function i(t){o.trigger("select",{data:t})}var o=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,i);r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,n)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,r)){var u=s.substr(0,a),h=t.extend({},n,{term:u}),d=l(h);null!=d?(o(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(o){var r=null!=o?o.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=o.showSearch(t);e?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),n.on("query",function(t){o.lastParams=t,o.loading=!0}),n.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){var n=o.$results.offset().top+o.$results.outerHeight(!1),i=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);n+50>=i&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(e){var n=t(this).data("select2-scroll-position");t(this).scrollTop(n.y)}),t(window).on(r+" "+s+" "+a,function(t){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.off(o),t(window).off(o+" "+r+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-a.height,u=l.bottom>r.bottom+a.height,h={left:r.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var p=d.offset();h.top-=p.top,h.left-=p.left,n||i||(o="below"),u||!c||n?!c&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(h.top=s.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(){i._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,C,k,_,T,S,D,M){function A(){this.reset()}A.prototype.apply=function(h){if(h=t.extend(!0,{},this.defaults,h),null==h.dataAdapter){if(null!=h.ajax?h.dataAdapter=f:null!=h.data?h.dataAdapter=p:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,m)),(null!=h.tokenSeparators||null!=h.tokenizer)&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null!=h.query){var M=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,M)}if(null!=h.initSelection){var A=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,A)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,k)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,S))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var E=c.Decorate(w,x);h.dropdownAdapter=E}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,T)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,D)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var N=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,N)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,_)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=o:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,r)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var O=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,O)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var P=h.language.split("-"),I=P[0];h.language=[h.language,I]}else h.language=[h.language];if(t.isArray(h.language)){var L=new u;h.language.push("en");for(var $=h.language,H=0;H<$.length;H++){var F=$[H],z={};try{z=u.loadPath(F)}catch(j){try{F=this.defaults.amdLanguageBase+F,z=u.loadPath(F)}catch(R){h.debug&&window.console&&console.warn&&void 0;continue}}L.extend(z)}h.translations=L}else{var W=u.loadPath(this.defaults.amdLanguageBase+"en"),Y=new u(h.language);Y.extend(W),h.translations=Y}return h},A.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),s=o.children.length-1;s>=0;s--){var a=o.children[s],l=n(i,a);null==l&&r.children.splice(s,1)}return r.children.length>0?r:n(i,r)}var c=e(o.text).toUpperCase(),u=e(i.term).toUpperCase();return c.indexOf(u)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:M,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"100%"}},A.prototype.set=function(e,n){var i=t.camelCase(e),o={};o[i]=n;var r=c._convertData(o);t.extend(this.defaults,r)};var E=new A;return E}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&void 0,t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&void 0,t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},o);r=i._convertData(r);for(var s in r)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;l>a;a+=1){var c=s[a].replace(/\s/g,""),u=c.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){-1===t.inArray(i,n)&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){
this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var r=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,r,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&void 0,(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&void 0;var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&void 0,null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,n,i){var o,r,s=[];o=t.trim(e.attr("class")),o&&(o=""+o,t(o.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),o=t.trim(n.attr("class")),o&&(o=""+o,t(o.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(r=i(this),null!=r&&s.push(r))})),e.attr("class",s.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("containerCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(r),o},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("dropdownCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var a=s;s=function(t){var e=a(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(r),o},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&void 0,this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;return this._isInitialized?void e.call(this,n):void this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&void 0,t.call(this,e,n)}return e.prototype.current=function(e,n){function i(e,n){var o=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,o.push(e)):e.selected=!1,e.children&&o.push.apply(o,i(e.children,n)),o}for(var o=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];o.push.apply(o,i(s,this.$element.val().split(this._valueSeparator)))}n(o)},e.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],o=0;o<t.length;o++){var r=t[o];e.id!=r.id&&i.push(r.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},e.prototype.query=function(t,e,n){for(var i=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o],s=this.matches(e,r);null!==s&&i.push(s)}n({results:i})},e.prototype.addOptions=function(e,n){var i=t.map(n,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,i)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function n(n,i){var o=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return o;if(i.children){for(var r=i.children.length-1;r>=0;r--){var s=i.children[r],a=e(n.term,s.text,s);a||o.children.splice(r,1)}if(o.children.length>0)return o}return e(n.term,i.text,i)?o:null}return n}return e}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&void 0,t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n;var i=this.options.get("query");i.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){var i=n.find(".dropdown-wrapper");i.append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(t){t.stopPropagation()})},t}),function(n){"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(t)}(function(t){function e(e){var s=e||window.event,a=l.call(arguments,1),c=0,h=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(h=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in s&&(d=-1*s.deltaY,c=d),"deltaX"in s&&(h=s.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,d*=v,h*=v}if(p=Math.max(Math.abs(d),Math.abs(h)),(!r||r>p)&&(r=p,i(s,p)&&(r/=40)),i(s,p)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/r),h=Math[h>=1?"floor":"ceil"](h/r),d=Math[d>=1?"floor":"ceil"](d/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=r,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,c,h,d),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){r=null}function i(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,r,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i;return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&void 0;var o=Array.prototype.slice.call(arguments,1);i=n[e].apply(n,o)}),t.inArray(e,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(){function t(e){var n=t.modules[e];if(!n)throw new Error('failed to require "'+e+'"');return"exports"in n||"function"!=typeof n.definition||(n.client=n.component=!0,n.definition.call(this,n.exports={},n),delete n.definition),n.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var n=t.version.split("."),i=e.version.split("."),o=0;o<n.length;++o){var r=parseInt(n[o],10),s=parseInt(i[o],10);if(r!==s)return r>s?1:-1;var a=n[o].substr((""+r).length),l=i[o].substr((""+s).length);if(""===a&&""!==l)return 1;if(""!==a&&""===l)return-1;if(""!==a&&""!==l)return a>l?1:-1}return 0},t.latest=function(e,n){function i(t){throw new Error('failed to find latest module of "'+t+'"')}var o=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,r=/(.*)~(.*)/;r.test(e)||i(e);for(var s=Object.keys(t.modules),a=[],l=[],c=0;c<s.length;c++){var u=s[c];if(new RegExp(e+"@").test(u)){var h=u.substr(e.length+1),d=o.exec(u);null!=d?a.push({version:h,name:u}):l.push({version:h,name:u})}}if(0===a.concat(l).length&&i(e),a.length>0){var p=a.sort(t.helper.semVerSort).pop().name;return n===!0?p:t(p)}var p=l.sort(function(t,e){return t.name>e.name})[0].name;return n===!0?p:t(p)},t.modules={},t.register=function(e,n){t.modules[e]={definition:n}},t.define=function(e,n){t.modules[e]={exports:n}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function n(t,e){return this instanceof n?(this.element=t,this.props=e||{},void this.init()):new n(t,e)}e.exports=n,n.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},n.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function n(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return n.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return n.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return n.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return n.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return n.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return n.prototype.onTouchCancel.apply(i,arguments)},n.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}n.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,n.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),n.prototype.deviceIsIOS4=n.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n.prototype.deviceIsIOSWithBadTarget=n.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},n.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,i,o,r,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(r=t.changedTouches[0],s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(e=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return!(!this.deviceIsIOS||this.deviceIsIOS4||(o=s.fastClickScrollParent,!o||o.fastClickLastScrollTop===o.scrollTop))||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},n.attach=function(t){"use strict";return new n(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):"undefined"!=typeof e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}}),t.register("component~classes@1.2.1",function(e,n){function i(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var o=t("component~indexof@0.0.3"),r=/\s+/,s=Object.prototype.toString;n.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=o(e,t);return~n||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if("[object RegExp]"==s.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=o(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},i.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(r);return""===e[0]&&e.shift(),e},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}}),t.register("component~event@0.1.4",function(t,e){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==n?"on":"";t.bind=function(t,e,i,r){return t[n](o+e,i,r||!1),i},t.unbind=function(t,e,n,r){return t[i](o+e,n,r||!1),n}}),t.register("component~query@0.0.3",function(t,e){function n(t,e){return e.querySelector(t)}t=e.exports=function(t,e){return e=e||document,n(t,e)},t.all=function(t,e){return e=e||document,e.querySelectorAll(t)},t.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return n=e.one,t.all=e.all,t}}),t.register("component~matches-selector@0.1.5",function(e,n){function i(t,e){if(!t||1!==t.nodeType)return!1;if(s)return s.call(t,e);for(var n=o.all(e,t.parentNode),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=t("component~query@0.0.3"),r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;n.exports=i}),t.register("component~closest@0.1.4",function(e,n){var i=t("component~matches-selector@0.1.5");n.exports=function(t,e,n,o){for(t=n?{parentNode:t}:t,o=o||document;(t=t.parentNode)&&t!==document;){if(i(t,e))return t;if(t===o)return}}}),t.register("component~delegate@0.2.3",function(e,n){var i=t("component~closest@0.1.4"),o=t("component~event@0.1.4");e.bind=function(t,e,n,r,s){return o.bind(t,n,function(n){var o=n.target||n.srcElement;n.delegateTarget=i(o,e,!0,t),n.delegateTarget&&r.call(t,n)},s)},e.unbind=function(t,e,n,i){o.unbind(t,e,n,i)}}),t.register("component~events@1.0.9",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(!t)throw new Error("element required");if(!e)throw new Error("object required");this.el=t,this.obj=e,this._events={}}function o(t){var e=t.split(/ +/);return{name:e.shift(),selector:e.join(" ")}}var r=t("component~event@0.1.4"),s=t("component~delegate@0.2.3");n.exports=i,i.prototype.sub=function(t,e,n){this._events[t]=this._events[t]||{},this._events[t][e]=n},i.prototype.bind=function(t,e){function n(){var t=[].slice.call(arguments).concat(u);l[e].apply(l,t)}var i=o(t),a=this.el,l=this.obj,c=i.name,e=e||"on"+c,u=[].slice.call(arguments,2);return i.selector?n=s.bind(a,i.selector,c,n):r.bind(a,c,n),this.sub(c,e,n),n},i.prototype.unbind=function(t,e){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(t);var n=this._events[t];if(n){var i=n[e];i&&r.unbind(this.el,t,i)}},i.prototype.unbindAll=function(){for(var t in this._events)this.unbindAllOf(t)},i.prototype.unbindAllOf=function(t){var e=this._events[t];if(e)for(var n in e)this.unbind(t,n)}}),t.register("switchery",function(e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);this.element=t,this.options=e||{};for(var n in l)null==this.options[n]&&(this.options[n]=l[n]);null!=this.element&&"checkbox"==this.element.type&&this.init(),this.isDisabled()===!0&&this.disable()}var o=t("abpetkov~transitionize@0.0.3"),r=t("ftlabs~fastclick@v0.6.11"),s=t("component~classes@1.2.1"),a=t("component~events@1.0.9");n.exports=i;var l={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};i.prototype.hide=function(){this.element.style.display="none"},i.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},i.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=a(this.switcher,this),this.switcher},i.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},i.prototype.setPosition=function(t){var e=this.isChecked(),n=this.switcher,i=this.jack;t&&e?e=!1:t&&!e&&(e=!0),e===!0?(this.element.checked=!0,window.getComputedStyle?i.style.left=parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":i.style.left=parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==l.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor,this.setSpeed())},i.prototype.setSpeed=function(){var t={},e={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},o(this.switcher,t),o(this.jack,e)},i.prototype.setSize=function(){var t="switchery-small",e="switchery-default",n="switchery-large";switch(this.options.size){case"small":s(this.switcher).add(t);break;case"large":s(this.switcher).add(n);break;default:s(this.switcher).add(e)}},i.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},i.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},i.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},i.prototype.handleClick=function(){var t=this.switcher;r(t),this.events.bind("click","bindClick")},i.prototype.bindClick=function(){var t=this.element.parentNode.tagName.toLowerCase(),e="label"!==t;this.setPosition(e),this.handleOnchange(this.element.checked)},i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},i.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},i.prototype.isChecked=function(){return this.element.checked},i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},i.prototype.destroy=function(){this.events.unbind()},i.prototype.enable=function(){this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick")},i.prototype.disable=function(){this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy()}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=!1,n=!1,i=0,o=2e3,r=0,s=["webkit","ms","moz","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in s){var u=s[c];a||(a=window[u+"RequestAnimationFrame"]),l||(l=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"])}var h=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},p=!1,f=function(){if(p)return p;var t=document.createElement("DIV"),e=t.style,n=navigator.userAgent,i=navigator.platform,o={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document
};o.isopera="opera"in window,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),o.isie="all"in document&&"attachEvent"in t&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in document)||7==document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in window&&9<=document.documentMode,o.isie10=o.isie&&"performance"in window&&10==document.documentMode,o.isie11="msRequestFullscreen"in t&&11<=document.documentMode,o.isie9mobile=/iemobile.9/i.test(n),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(n),o.ismozilla="MozAppearance"in e,o.iswebkit="WebkitAppearance"in e,o.ischrome="chrome"in window,o.ischrome22=o.ischrome&&o.haspointerlock,o.ischrome26=o.ischrome&&"transition"in e,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,o.hasmstouch=window.MSPointerEvent||!1,o.hasw3ctouch=window.PointerEvent||!1,o.ismac=/^mac$/i.test(i),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(i),o.isios4=o.isios&&!("seal"in Object),o.isios7=o.isios&&"webkitHidden"in document,o.isandroid=/android/i.test(n),o.haseventlistener="addEventListener"in t,o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(n=0;n<i.length;n++)if("undefined"!=typeof e[i[n]]){o.trstyle=i[n];break}o.hastransform=!!o.trstyle,o.hastransform&&(e[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),r=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),s="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),n=0;n<i.length;n++)if(i[n]in e){o.transitionstyle=i[n],o.prefixstyle=r[n],o.transitionend=s[n];break}o.ischrome26&&(o.prefixstyle=r[1]),o.hastransition=o.transitionstyle;t:{for(n=["-webkit-grab","-moz-grab","grab"],(o.ischrome&&!o.ischrome22||o.isie)&&(n=[]),i=0;i<n.length;i++)if(r=n[i],e.cursor=r,e.cursor==r){e=r;break t}e="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}return o.cursorgrabvalue=e,o.hasmousecapture="setCapture"in t,o.hasMutationObserver=!1!==h,p=o},m=function(s,c){function u(){var t=b.doc.css(x.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function p(){var t=b.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function m(t,e,n){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=T[e]||0,n=3==t?n?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&t&&(t+=1),n?t:0):t}function v(t,e,n,i){b._bind(t,e,function(i){i=i?i:window.event;var o={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==e?(o.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(o.deltaX=-.025*i.wheelDeltaX)):o.deltaY=i.detail,n.call(t,o)},i)}function y(t,e,n){var i,o;if(0==t.deltaMode?(i=-Math.floor(b.opt.mousescrollstep/54*t.deltaX),o=-Math.floor(b.opt.mousescrollstep/54*t.deltaY)):1==t.deltaMode&&(i=-Math.floor(t.deltaX*b.opt.mousescrollstep),o=-Math.floor(t.deltaY*b.opt.mousescrollstep)),e&&b.opt.oneaxismousemode&&0==i&&o&&(i=o,o=0,n&&(0>i?b.getScrollLeft()>=b.page.maxw:0>=b.getScrollLeft())&&(o=i,i=0)),i&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=i,b.debounced("mousewheelx",function(){var t=b.lastdeltax;b.lastdeltax=0,b.rail.drag||b.doScrollLeftBy(t)},15)),o){if(b.opt.nativeparentscrolling&&n&&!b.ispage&&!b.zoomactive)if(0>o){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop(),b.lastdeltay+=o,b.debounced("mousewheely",function(){var t=b.lastdeltay;b.lastdeltay=0,b.rail.drag||b.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var b=this;if(this.version="3.6.0",this.name="nicescroll",this.me=c,this.opt={doc:t("body"),win:!1},t.extend(this.opt,d),this.opt.snapbackspeed=80,s)for(var w in b.opt)"undefined"!=typeof s[w]&&(b.opt[w]=s[w]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==b.opt.win,this.win=b.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+o++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=b.opt.overflowx,this.overflowy=b.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var x=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=x.hastransform&&b.opt.hwacceleration)&&b.haswrapper,this.hasreversehr=this.isrtlmode&&!x.iswebkit,this.istouchcapable=!1,!x.cantouch||x.isios||x.isandroid||!x.iswebkit&&!x.ismozilla||(this.istouchcapable=!0,x.cantouch=!1),b.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.debounced=function(t,e,n){var i=b.delaylist[t];b.delaylist[t]=e,i||setTimeout(function(){if(b){var e=b.delaylist[t];b.delaylist[t]=!1,e.call(b)}},n)};var C=!1;this.synched=function(t,e){return b.synclist[t]=e,function(){C||(a(function(){C=!1;for(var t in b.synclist){var e=b.synclist[t];e&&e.call(b),b.synclist[t]=!1}}),C=!0)}(),t},this.unsynched=function(t){b.synclist[t]&&(b.synclist[t]=!1)},this.css=function(t,e){for(var n in e)b.saved.css.push([t,n,t.css(n)]),t.css(n,e[n])},this.scrollTop=function(t){return"undefined"==typeof t?b.getScrollTop():b.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?b.getScrollLeft():b.setScrollLeft(t)};var k=function(t,e,n,i,o,r,s){this.st=t,this.ed=e,this.spd=n,this.p1=i||0,this.p2=o||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(k.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){if(t=u())return 16==t.length?-t[13]:-t[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=u())return 16==t.length?-t[12]:-t[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,t.dispatchEvent(e)};var _=this.isrtlmode?1:-1;x.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(x.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*_+"px",b.doc.css(x.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),e||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(x.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*_+"px",b.doc.css(x.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(t){return b.docscroll.scrollTop(t)},this.getScrollLeft=function(){return b.detected.ismozilla&&b.isrtlmode?Math.abs(b.docscroll.scrollLeft()):b.docscroll.scrollLeft()},this.setScrollLeft=function(t){return b.docscroll.scrollLeft(b.detected.ismozilla&&b.isrtlmode?-t:t)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var n=t.target||t.srcElement||t||!1;n&&n.id!=e;)n=n.parentNode||!1;return!1!==n};var T={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(b.isfixed){var t=b.win.offset(),e=b.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}return t=b.win.offset(),b.viewport?(e=b.viewport.offset(),{top:t.top-e.top,left:t.left-e.left}):t},this.updateScrollBar=function(t){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()-(b.opt.railpadding.top+b.opt.railpadding.bottom)}),b.railh&&b.railh.css({width:b.win.innerWidth()-(b.opt.railpadding.left+b.opt.railpadding.right)});else{var e=b.getOffset(),n=e.top,i=e.left-(b.opt.railpadding.left+b.opt.railpadding.right),n=n+m(b.win,"border-top-width",!0),i=i+(b.rail.align?b.win.outerWidth()-m(b.win,"border-right-width")-b.rail.width:m(b.win,"border-left-width")),o=b.opt.railoffset;o&&(o.top&&(n+=o.top),b.rail.align&&o.left&&(i+=o.left)),b.railslocked||b.rail.css({top:n,left:i,height:(t?t.h:b.win.innerHeight())-(b.opt.railpadding.top+b.opt.railpadding.bottom)}),b.zoom&&b.zoom.css({top:n+1,left:1==b.rail.align?i-20:i+b.rail.width+4}),b.railh&&!b.railslocked&&(n=e.top,i=e.left,(o=b.opt.railhoffset)&&(o.top&&(n+=o.top),o.left&&(i+=o.left)),t=b.railh.align?n+m(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:n+m(b.win,"border-top-width",!0),i+=m(b.win,"border-left-width"),b.railh.css({top:t-(b.opt.railpadding.top+b.opt.railpadding.bottom),left:i,width:b.railh.width}))}},this.doRailClick=function(t,e,n){var i;b.railslocked||(b.cancelEvent(t),e?(e=n?b.doScrollLeft:b.doScrollTop,i=n?(t.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(t.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,e(i)):(e=n?b.doScrollLeftBy:b.doScrollBy,i=n?b.scroll.x:b.scroll.y,t=n?t.pageX-b.railh.offset().left:t.pageY-b.rail.offset().top,n=n?b.view.w:b.view.h,e(i>=t?n:-n)))},b.hasanimationframe=a,b.hascancelanimationframe=l,b.hasanimationframe?b.hascancelanimationframe||(l=function(){b.cancelAnimationFrame=!0}):(a=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(b.saved.css=[],x.isie7mobile||x.isoperamini)return!0;if(x.hasmstouch&&b.css(b.ispage?t("html"):b.win,{"-ms-touch-action":"none"}),b.zindex="auto",b.zindex=b.ispage||"auto"!=b.opt.zindex?b.opt.zindex:p()||"auto",!b.ispage&&"auto"!=b.zindex&&b.zindex>r&&(r=b.zindex),b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto"),!b.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var o=b.docscroll;b.ispage&&(o=b.haswrapper?b.win:b.doc),x.isie9mobile||b.css(o,{"overflow-y":"hidden"}),b.ispage&&x.isie7&&("BODY"==b.doc[0].nodeName?b.css(t("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(t("body"),{"overflow-y":"hidden"})),!x.isios||b.ispage||b.haswrapper||b.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var s=t(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),s.addClass("nicescroll-cursors"),b.cursor=s;var a=t(document.createElement("div"));a.attr("id",b.id),a.addClass("nicescroll-rails nicescroll-rails-vr");var l,c,u,d=["left","right","top","bottom"];for(u in d)c=d[u],(l=b.opt.railpadding[c])?a.css("padding-"+c,l+"px"):b.opt.railpadding[c]=0;a.append(s),a.width=Math.max(parseFloat(b.opt.cursorwidth),s.outerWidth()),a.css({width:a.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==b.opt.railalign?0:1,b.rail=a,s=b.rail.drag=!1,!b.opt.boxzoom||b.ispage||x.isieold||(s=document.createElement("div"),b.bind(s,"click",b.doZoom),b.bind(s,"mouseenter",function(){b.zoom.css("opacity",b.opt.cursoropacitymax)}),b.bind(s,"mouseleave",function(){b.zoom.css("opacity",b.opt.cursoropacitymin)}),b.zoom=t(s),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+b.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),x.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(t){return 1.5<t.scale&&b.doZoomIn(t),.8>t.scale&&b.doZoomOut(t),b.cancelEvent(t)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1;var f;if(b.opt.horizrailenabled&&(b.css(o,{"overflow-x":"hidden"}),s=t(document.createElement("div")),s.css({position:"absolute",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),x.isieold&&s.css({overflow:"hidden"}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),s.addClass("nicescroll-cursors"),b.cursorh=s,f=t(document.createElement("div")),f.attr("id",b.id+"-hr"),f.addClass("nicescroll-rails nicescroll-rails-hr"),f.height=Math.max(parseFloat(b.opt.cursorwidth),s.outerHeight()),f.css({height:f.height+"px",zIndex:b.zindex,background:b.opt.background}),f.append(s),f.visibility=!0,f.scrollable=!0,f.align="top"==b.opt.railvalign?0:1,b.railh=f,b.railh.drag=!1),b.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),b.body.append(a),b.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),b.body.append(f))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),o="HTML"==b.win[0].nodeName?b.body:b.win,t(o).scrollTop(0).scrollLeft(0),b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),o.append(b.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),o.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),o.append(f))):(b.isfixed="fixed"==b.win.css("position"),o=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,0==/fixed|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),a.css({position:o}),b.zoom&&b.zoom.css({position:o}),b.updateScrollBar(),b.body.append(a),b.zoom&&b.body.append(b.zoom),b.railh&&(f.css({position:o}),b.body.append(f))),x.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),x.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"})),!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode||"leave"===b.opt.autohidemode?(b.autohidedom=t().add(b.rail),x.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&x.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=t().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=t().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.railslocked=!1),x.isie9mobile)b.scrollmom=new g(b),b.onmangotouch=function(){var t=b.getScrollTop(),e=b.getScrollLeft();if(t==b.scrollmom.lastscrolly&&e==b.scrollmom.lastscrollx)return!0;var n=t-b.mangotouch.sy,i=e-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2)))){var o=0>n?-1:1,r=0>i?-1:1,s=+new Date;b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy),80<s-b.mangotouch.tm||b.mangotouch.dry!=o||b.mangotouch.drx!=r?(b.scrollmom.stop(),b.scrollmom.reset(e,t),b.mangotouch.sy=t,b.mangotouch.ly=t,b.mangotouch.sx=e,b.mangotouch.lx=e,b.mangotouch.dry=o,b.mangotouch.drx=r,b.mangotouch.tm=s):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-i,b.mangotouch.sy-n),b.mangotouch.tm=s,n=Math.max(Math.abs(b.mangotouch.ly-t),Math.abs(b.mangotouch.lx-e)),b.mangotouch.ly=t,b.mangotouch.lx=e,2<n&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1,b.mangotouch.dry=0,b.mangotouch.drx=0,b.mangotouch.tm=0,b.scrollmom.doMomentum(30)},100)))}},a=b.getScrollTop(),f=b.getScrollLeft(),b.mangotouch={sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(x.cantouch||b.istouchcapable||b.opt.touchbehavior||x.hasmstouch){b.scrollmom=new g(b),b.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(b.hasmoving=!1,!b.railslocked){var n;if(x.hasmstouch)for(n=!!e.target&&e.target;n;){var i=t(n).getNiceScroll();if(0<i.length&&i[0].me==b.me)break;if(0<i.length)return!1;if("DIV"==n.nodeName&&n.id==b.id)break;n=!!n.parentNode&&n.parentNode}if(b.cancelScroll(),(n=b.getTarget(e))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return b.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),b.forcescreen&&(i=e,e={original:e.original?e.original:e},e.clientX=i.screenX,e.clientY=i.screenY),b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1},b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var i=t(window).width(),o=t(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),o=Math.max(0,s-o),i=Math.max(0,r-i);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?0<o&&"v":!(!b.rail.scrollable||b.railh.scrollable)&&(0<i&&"h"),b.rail.drag.ck||(b.rail.drag.dl="f")}if(b.opt.touchbehavior&&b.isiframe&&x.isie&&(i=b.win.position(),b.rail.drag.x+=i.left,b.rail.drag.y+=i.top),b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(e.clientX,e.clientY),!x.cantouch&&!this.istouchcapable&&!e.pointerType){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!b.ispage&&x.hasmousecapture&&n.setCapture(),b.opt.touchbehavior?(n.onclick&&!n._onclick&&(n._onclick=n.onclick,n.onclick=function(t){return!b.hasmoving&&void n._onclick.call(this,t)}),b.cancelEvent(e)):b.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(n).attr("type"))&&(pc={tg:n,click:!1},b.preventclick=pc)}}},b.ontouchend=function(t){if(!b.rail.drag)return!0;if(2==b.rail.drag.pt){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.lastmouseup=!0,b.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))return b.cancelEvent(t)}else if(1==b.rail.drag.pt)return b.onmouseup(t)};var m=b.opt.touchbehavior&&b.isiframe&&!x.hasmousecapture;b.ontouchmove=function(e,n){if(!b.rail.drag||e.targetTouches&&b.opt.preventmultitouchscrolling&&1<e.targetTouches.length||e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==b.rail.drag.pt){if(x.cantouch&&x.isios&&"undefined"==typeof e.original)return!0;if(b.hasmoving=!0,b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),b.forcescreen){var i=e;e={original:e.original?e.original:e},e.clientX=i.screenX,e.clientY=i.screenY}var o,i=o=0;m&&!n&&(o=b.win.position(),i=-o.left,o=-o.top);var r=e.clientY+o;o=r-b.rail.drag.y;var s=e.clientX+i,a=s-b.rail.drag.x,l=b.rail.drag.st-o;b.ishwscroll&&b.opt.bouncescroll?0>l?l=Math.round(l/2):l>b.page.maxh&&(l=b.page.maxh+Math.round((l-b.page.maxh)/2)):(0>l&&(r=l=0),l>b.page.maxh&&(l=b.page.maxh,r=0));var c;if(b.railh&&b.railh.scrollable&&(c=b.isrtlmode?a-b.rail.drag.sl:b.rail.drag.sl-a,b.ishwscroll&&b.opt.bouncescroll?0>c?c=Math.round(c/2):c>b.page.maxw&&(c=b.page.maxw+Math.round((c-b.page.maxw)/2)):(0>c&&(s=c=0),c>b.page.maxw&&(c=b.page.maxw,s=0))),i=!1,b.rail.drag.dl)i=!0,"v"==b.rail.drag.dl?c=b.rail.drag.sl:"h"==b.rail.drag.dl&&(l=b.rail.drag.st);else{o=Math.abs(o);var a=Math.abs(a),u=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(o>u&&a<=.3*o)return b.rail.drag=!1,!0;a>u&&(b.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(a>u&&o<=.3*a)return b.rail.drag=!1,!0;o>u&&(b.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(l),b.scrollmom.update(s,r),b.railh&&b.railh.scrollable?(b.setScrollLeft(c),b.showCursor(l,c)):b.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&b.istouchcapable&&(i=!1),i)return b.cancelEvent(e)}else if(1==b.rail.drag.pt)return b.onmousemove(e)}}if(b.onmousedown=function(t,e){if(!b.rail.drag||1==b.rail.drag.pt){if(b.railslocked)return b.cancelEvent(t);b.cancelScroll(),b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!e};var n=b.getTarget(t);return!b.ispage&&x.hasmousecapture&&n.setCapture(),b.isiframe&&!x.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.hasmoving=!1,b.cancelEvent(t)}},b.onmouseup=function(t){if(b.rail.drag)return 1!=b.rail.drag.pt||(x.hasmousecapture&&document.releaseCapture(),b.isiframe&&!x.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),b.rail.drag=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(t))},b.onmousemove=function(t){if(b.rail.drag&&1==b.rail.drag.pt){if(x.ischrome&&0==t.which)return b.onmouseup(t);if(b.cursorfreezed=!0,b.hasmoving=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(t.clientX-b.rail.drag.x),0>b.scroll.x&&(b.scroll.x=0);var e=b.scrollvaluemaxw;b.scroll.x>e&&(b.scroll.x=e)}else b.scroll.y=b.rail.drag.sy+(t.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),e=b.scrollvaluemax,b.scroll.y>e&&(b.scroll.y=e);return b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.hasreversehr?b.doScrollLeft(b.scrollvaluemaxw-Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))}),b.cancelEvent(t)}},x.cantouch||b.opt.touchbehavior)b.onpreventclick=function(t){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(t)},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=!x.isios&&function(t){return!b.lastmouseup||(b.lastmouseup=!1,b.cancelEvent(t))},b.opt.grabcursorenabled&&x.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:x.cursorgrabvalue}),b.css(b.rail,{cursor:x.cursorgrabvalue}));else{var v=function(t){if(b.selectiondrag){if(t){var e=b.win.outerHeight();t=t.pageY-b.selectiondrag.top,0<t&&t<e&&(t=0),t>=e&&(t-=e),b.selectiondrag.df=t}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){v()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},b.onselectionstart=function(t){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(t){b.selectiondrag=!1},b.onselectiondrag=function(t){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){v(t)},250)}}x.hasw3ctouch?(b.css(b.rail,{"touch-action":"none"}),b.css(b.cursor,{"touch-action":"none"}),b.bind(b.win,"pointerdown",b.ontouchstart),b.bind(document,"pointerup",b.ontouchend),b.bind(document,"pointermove",b.ontouchmove)):x.hasmstouch?(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(t){t.preventDefault()}),b.bind(b.cursor,"contextmenu",function(t){t.preventDefault()})):this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove)),(b.opt.cursordragontouch||!x.cantouch&&!b.opt.touchbehavior)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){return!(!b.ispage&&!b.win.is(":visible"))&&(b.canshowonmouseevent&&b.showCursor(),void(b.rail.active=!0))}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(t){b.doRailClick(t,!1,!1)}),b.bind(b.rail,"dblclick",function(t){b.doRailClick(t,!0,!1)}),b.bind(b.cursor,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursor,"dblclick",function(t){b.cancelEvent(t)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){return!(!b.ispage&&!b.win.is(":visible"))&&(b.canshowonmouseevent&&b.showCursor(),void(b.rail.active=!0))}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(t){b.doRailClick(t,!1,!0)}),b.bind(b.railh,"dblclick",function(t){b.doRailClick(t,!0,!0)}),b.bind(b.cursorh,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursorh,"dblclick",function(t){b.cancelEvent(t)})))),x.cantouch||b.opt.touchbehavior?(b.bind(x.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.cursorh&&b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onmouseup))):(b.bind(x.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup)),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),b.opt.enablemousewheel&&(b.isiframe||b.bind(x.isie&&b.ispage?document:b.win,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr)),b.ispage||x.cantouch||/HTML|^BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:i++}),b.jqbind(b.win,"focus",function(t){e=b.getTarget(t).id||!0,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(t){e=!1,b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(t){n=b.getTarget(t).id||!0,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){n=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()}))}if(b.onkeypress=function(i){if(b.railslocked&&0==b.page.maxh)return!0;i=i?i:window.e;var o=b.getTarget(i);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp)||t(o).attr("contenteditable"))return!0;if(b.hasfocus||b.hasmousefocus&&!e||b.ispage&&!e&&!n){if(o=i.keyCode,b.railslocked&&27!=o)return b.cancelEvent(i);var r=i.ctrlKey||!1,s=i.shiftKey||!1,a=!1;switch(o){case 38:case 63233:b.doScrollBy(72),a=!0;break;case 40:case 63235:b.doScrollBy(-72),a=!0;break;case 37:case 63232:b.railh&&(r?b.doScrollLeft(0):b.doScrollLeftBy(72),a=!0);break;case 39:case 63234:b.railh&&(r?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),a=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),a=!0;break;case 36:case 63273:b.railh&&r?b.doScrollPos(0,0):b.doScrollTo(0),a=!0;break;case 35:case 63275:b.railh&&r?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),a=!0;break;case 32:b.opt.spacebarenabled&&(s?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),a=!0);break;case 27:b.zoomactive&&(b.doZoom(),a=!0)}if(a)return b.cancelEvent(i)}},b.opt.enablekeyboard&&b.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",b.onkeypress),b.bind(document,"keydown",function(t){t.ctrlKey&&(b.wheelprevented=!0)}),b.bind(document,"keyup",function(t){t.ctrlKey||(b.wheelprevented=!1)}),b.bind(window,"blur",function(t){b.wheelprevented=!1}),b.bind(window,"resize",b.lazyResize),b.bind(window,"orientationchange",b.lazyResize),b.bind(window,"load",b.lazyResize),x.ischrome&&!b.ispage&&!b.haswrapper){var y=b.win.attr("style"),a=parseFloat(b.win.css("width"))+1;b.win.css("width",a),b.synched("chromefix",function(){b.win.attr("style",y)})}b.onAttributeChange=function(t){b.lazyResize(b.isieold?250:30)},!1!==h&&(b.observerbody=new h(function(e){if(e.forEach(function(e){if("attributes"==e.type)return t("body").hasClass("modal-open")?b.hide():b.show()}),document.body.scrollHeight!=b.page.maxh)return b.lazyResize(30)}),b.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),b.ispage||b.haswrapper||(!1!==h?(b.observer=new h(function(t){t.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new h(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(b&&t.removedNodes[e]==b.win[0])return b.remove();
})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),x.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(t){t.target==b.win[0]&&b.remove()}))),!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom),b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize),b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(){b.iframexd=!1;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(n){b.iframexd=!0,e=!1}if(b.iframexd)return"console"in window&&void 0,!0;if(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:t(e),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=t(b.iframe.body)),!x.isios&&b.opt.iframeautoresize&&!b.isiframe){b.win.scrollTop(0),b.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);b.doc.height(i)}b.lazyResize(30),x.isie7&&b.css(t(b.iframe.html),{"overflow-y":"hidden"}),b.css(t(b.iframe.body),{"overflow-y":"hidden"}),x.isios&&b.haswrapper&&b.css(t(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(e,"scroll",b.onscroll),b.opt.enablemousewheel&&b.bind(e,"mousewheel",b.onmousewheel),b.opt.enablekeyboard&&b.bind(e,x.isopera?"keypress":"keydown",b.onkeypress),(x.cantouch||b.opt.touchbehavior)&&(b.bind(e,"mousedown",b.ontouchstart),b.bind(e,"mousemove",function(t){return b.ontouchmove(t,!0)}),b.opt.grabcursorenabled&&x.cursorgrabvalue&&b.css(t(e.body),{cursor:x.cursorgrabvalue})),b.bind(e,"mouseup",b.ontouchend),b.zoom&&(b.opt.dblclickzoom&&b.bind(e,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(e,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){w.call(b.doc[0],!1)},500),b.bind(this.doc,"load",w)}},this.showCursor=function(t,e){if(b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail){if(b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(b.scroll.y=Math.round(1*t/b.scrollratio.y)),"undefined"!=typeof e&&(b.scroll.x=Math.round(1*e/b.scrollratio.x))),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh){var n=b.hasreversehr?b.scrollvaluemaxw-b.scroll.x:b.scroll.x;!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:n+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:n}),b.cursoractive=!0}b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}},this.hideCursor=function(t){b.cursortimeout||!b.rail||!b.autohidedom||b.hasmousefocus&&"leave"==b.opt.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},t||b.opt.hidecursordelay))},this.noticeCursor=function(t,e,n){b.showCursor(e,n),b.rail.active||b.hideCursor(t)},this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!b||!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;b.hidden||b.visibility||b.showRail().showRailHr()}var n=b.page.maxh,i=b.page.maxw,o=b.view.h,r=b.view.w;if(b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)},b.page=e?e:b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==n&&b.page.maxw==i&&b.view.w==r&&b.view.h==o){if(b.ispage)return b;if(n=b.win.offset(),b.lastposition&&(i=b.lastposition,i.top==n.top&&i.left==n.left))return b;b.lastposition=n}return 0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):(b.page.maxh-=b.opt.railpadding.top+b.opt.railpadding.bottom,b.rail.scrollable=!0),0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):(b.page.maxw-=b.opt.railpadding.left+b.opt.railpadding.right,b.railh.scrollable=!0),b.railslocked=b.locked||0==b.page.maxh&&0==b.page.maxw,b.railslocked?(b.ispage||b.updateScrollBar(b.view),!1):(b.hidden||b.visibility?b.hidden||b.railh.visibility||b.showRailHr():b.showRail().showRailHr(),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h/b.page.h*b.view.h)),b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w/b.page.w*b.view.w)),b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder-(b.opt.railpadding.top+b.opt.railpadding.bottom),b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder-(b.opt.railpadding.left+b.opt.railpadding.right)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax},b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor()),b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y)),b)},this.resize=b.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,b.debounced("resize",b.resize,t),b},this.jqbind=function(e,n,i){b.events.push({e:e,n:n,f:i,q:!0}),t(e).bind(n,i)},this.bind=function(t,e,n,i){var o="jquery"in t?t[0]:t;"mousewheel"==e?window.addEventListener||"onwheel"in document?b._bind(o,"wheel",n,i||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(o,t,n,i||!1),"DOMMouseScroll"==t&&v(o,"MozMousePixelScroll",n,i||!1)):o.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&b._bind(o,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,n.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,n.call(this,e))},i||!1),b._bind(o,e,n,i||!1),x.cantouch&&"mouseup"==e&&b._bind(o,"touchcancel",n,i||!1)):b._bind(o,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==n.call(o,t)&&!1!==i||b.cancelEvent(t)})},x.haseventlistener?(this._bind=function(t,e,n,i){b.events.push({e:t,n:e,f:n,b:i,q:!1}),t.addEventListener(e,n,i||!1)},this.cancelEvent=function(t){return!!t&&(t=t.original?t.original:t,t.preventDefault(),t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),!1)},this.stopPropagation=function(t){return!!t&&(t=t.original?t.original:t,t.stopPropagation(),!1)},this._unbind=function(t,e,n,i){t.removeEventListener(e,n,i)}):(this._bind=function(t,e,n,i){b.events.push({e:t,n:e,f:n,b:i,q:!1}),t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},this.cancelEvent=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},this.stopPropagation=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,!1)},this._unbind=function(t,e,n,i){t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=!1}),this.unbindAll=function(){for(var t=0;t<b.events.length;t++){var e=b.events[t];e.q?e.e.unbind(e.n,e.f):b._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh?(0==b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block")),b):b},this.hideRail=function(){return b.visibility=!1,b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh?(b.railh.visibility=!1,b.railh.css("display","none"),b):b},this.show=function(){return b.hidden=!1,b.railslocked=!1,b.showRail().showRailHr()},this.hide=function(){return b.hidden=!0,b.railslocked=!0,b.hideRail().hideRailHr()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.doZoomOut(),b.unbindAll(),x.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),!1!==b.observerbody&&b.observerbody.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var e=0;e<b.saved.css.length;e++){var n=b.saved.css[e];n[0].css(n[1],"undefined"==typeof n[2]?"":n[2])}b.saved=!1,b.me.data("__nicescroll","");var i=t.nicescroll;i.each(function(t){if(this&&this.id===b.id){delete i[t];for(var e=++t;e<i.length;e++,t++)i[t]=i[e];i.length--,i.length&&delete i[i.length]}});for(var o in b)b[o]=null,delete b[o];b=null},this.scrollstart=function(t){return this.onscrollstart=t,b},this.scrollend=function(t){return this.onscrollend=t,b},this.scrollcancel=function(t){return this.onscrollcancel=t,b},this.zoomin=function(t){return this.onzoomin=t,b},this.zoomout=function(t){return this.onzoomout=t,b},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var n=t(e),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var n=t(e);if(/fixed|absolute/.test(n.css("position")))return n;var i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i)&&e.clientHeight!=e.scrollHeight||0<n.getNiceScroll().length)return n;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollEnd=function(){if(b.onscrollend){var t=b.getScrollLeft(),e=b.getScrollTop();b.onscrollend.call(b,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!b.wheelprevented){if(b.railslocked)return b.debounced("checkunlock",b.resize,250),!0;if(b.rail.drag)return b.cancelEvent(t);if("auto"==b.opt.oneaxismousemode&&0!=t.deltaX&&(b.opt.oneaxismousemode=!1),b.opt.oneaxismousemode&&0==t.deltaX&&!b.rail.scrollable)return!b.railh||!b.railh.scrollable||b.onmousewheelhr(t);var e=+new Date,n=!1;return b.opt.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),n=!0),b.checkarea=e,!!b.nativescrollingarea||((t=y(t,!1,n))&&(b.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!b.wheelprevented){if(b.railslocked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(t);var e=+new Date,n=!1;return b.opt.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),n=!0),b.checkarea=e,!!b.nativescrollingarea||(b.railslocked?b.cancelEvent(t):y(t,!0,n))}},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(t){var e=Math.round(10*b.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*b.opt.scrollspeed)),20<t?t:0},b.opt.smoothscroll?b.ishwscroll&&x.hastransition&&b.opt.usetransition&&b.opt.smoothscroll?(this.prepareTransition=function(t,e){var n=e?20<t?t:0:b.getTransitionSpeed(t),i=n?x.prefixstyle+"transform "+n+"ms ease-out":"";return b.lasttransitionstyle&&b.lasttransitionstyle==i||(b.lasttransitionstyle=i,b.doc.css(x.transitionstyle,i)),n},this.doScrollLeft=function(t,e){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,n,e)},this.doScrollTop=function(t,e){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,t,e)},this.doScrollPos=function(t,e,n){var i=b.getScrollTop(),o=b.getScrollLeft();return(0>(b.newscrolly-i)*(e-i)||0>(b.newscrollx-o)*(t-o))&&b.cancelScroll(),0==b.opt.bouncescroll&&(0>e?e=0:e>b.page.maxh&&(e=b.page.maxh),0>t?t=0:t>b.page.maxw&&(t=b.page.maxw)),(!b.scrollrunning||t!=b.newscrollx||e!=b.newscrolly)&&(b.newscrolly=e,b.newscrollx=t,b.newscrollspeed=n||!1,!b.timer&&void(b.timer=setTimeout(function(){var n,i,o=b.getScrollTop(),r=b.getScrollLeft();n=t-r,i=e-o,n=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2))),n=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(n),b.newscrollspeed&&1>=b.newscrollspeed&&(n*=b.newscrollspeed),b.prepareTransition(n,!0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),0<n&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:r,y:o},request:{x:t,y:e},end:{x:b.newscrollx,y:b.newscrolly},speed:n}),x.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,x.transitionend,b.onScrollTransitionEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,n)),b.timerscroll={bz:new k(o,b.newscrolly,n,0,0,.58,1),bh:new k(r,b.newscrollx,n,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60))),b.synched("doScroll-set",function(){b.timer=0,b.scrollendtrapped&&(b.scrollrunning=!0),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx),b.scrollendtrapped||b.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var t=b.getScrollTop(),e=b.getScrollLeft();return b.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),b.scrollendtrapped=!1,b._unbind(b.doc[0],x.transitionend,b.onScrollTransitionEnd),b.prepareTransition(0),b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.showCursor(t,e),b},this.onScrollTransitionEnd=function(){b.scrollendtrapped&&b._unbind(b.doc[0],x.transitionend,b.onScrollTransitionEnd),b.scrollendtrapped=!1,b.prepareTransition(0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1;var t=b.getScrollTop(),e=b.getScrollLeft();return b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.noticeCursor(!1,t,e),b.cursorfreezed=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw),t!=b.newscrolly||e!=b.newscrollx?b.doScrollPos(e,t,b.opt.snapbackspeed):(b.onscrollend&&b.scrollrunning&&b.triggerScrollEnd(),void(b.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,n,e)},this.doScrollTop=function(t,e){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,t,e)},this.doScrollPos=function(t,e,n){function i(){if(b.cancelAnimationFrame)return!0;if(b.scrollrunning=!0,h=1-h)return b.timer=a(i)||1;var t,e,n=0,o=e=b.getScrollTop();b.dst.ay?(o=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,t=o-e,(0>t&&o<b.newscrolly||0<t&&o>b.newscrolly)&&(o=b.newscrolly),b.setScrollTop(o),o==b.newscrolly&&(n=1)):n=1,e=t=b.getScrollLeft(),b.dst.ax?(e=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx,t=e-t,(0>t&&e<b.newscrollx||0<t&&e>b.newscrollx)&&(e=b.newscrollx),b.setScrollLeft(e),e==b.newscrollx&&(n+=1)):n+=1,2==n?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>o?o=0:o>b.page.maxh&&(o=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw),e!=b.newscrollx||o!=b.newscrolly?b.doScrollPos(e,o):b.onscrollend&&b.triggerScrollEnd()):b.timer=a(i)||1}if(e="undefined"==typeof e||!1===e?b.getScrollTop(!0):e,b.timer&&b.newscrolly==e&&b.newscrollx==t)return!0;b.timer&&l(b.timer),b.timer=0;var o=b.getScrollTop(),r=b.getScrollLeft();(0>(b.newscrolly-o)*(e-o)||0>(b.newscrollx-r)*(t-r))&&b.cancelScroll(),b.newscrolly=e,b.newscrollx=t,b.bouncescroll&&b.rail.visibility||(0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh)),b.bouncescroll&&b.railh.visibility||(0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw)),b.dst={},b.dst.x=t-r,b.dst.y=e-o,b.dst.px=r,b.dst.py=o;var s=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/s,b.dst.ay=b.dst.y/s;var c=0,u=s;if(0==b.dst.x?(c=o,u=e,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(c=r,u=t,b.dst.ax=1,b.dst.px=0),s=b.getTransitionSpeed(s),n&&1>=n&&(s*=n),b.bzscroll=0<s&&(b.bzscroll?b.bzscroll.update(u,s):new k(c,u,s,0,1,0,1)),!b.timer){(o==b.page.maxh&&e>=b.page.maxh||r==b.page.maxw&&t>=b.page.maxw)&&b.checkContentSize();var h=1;b.cancelAnimationFrame=!1,b.timer=1,b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:r,y:o},request:{x:t,y:e},end:{x:b.newscrollx,y:b.newscrolly},speed:s}),i(),(o==b.page.maxh&&e>=o||r==b.page.maxw&&t>=r)&&b.checkContentSize(),b.noticeCursor()}},this.cancelScroll=function(){return b.timer&&l(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b}):(this.doScrollLeft=function(t,e){var n=b.getScrollTop();b.doScrollPos(t,n,e)},this.doScrollTop=function(t,e){var n=b.getScrollLeft();b.doScrollPos(n,t,e)},this.doScrollPos=function(t,e,n){var i=t>b.page.maxw?b.page.maxw:t;0>i&&(i=0);var o=e>b.page.maxh?b.page.maxh:e;0>o&&(o=0),b.synched("scroll",function(){b.setScrollTop(o),b.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var n=0,n=e?Math.floor((b.scroll.y-t)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-t;if(b.bouncescroll){var i=Math.round(b.view.h/2);n<-i?n=-i:n>b.page.maxh+i&&(n=b.page.maxh+i)}return b.cursorfreezed=!1,i=b.getScrollTop(!0),0>n&&0>=i?b.noticeCursor():n>b.page.maxh&&i>=b.page.maxh?(b.checkContentSize(),b.noticeCursor()):void b.doScrollTop(n)},this.doScrollLeftBy=function(t,e){var n=0,n=e?Math.floor((b.scroll.x-t)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-t;if(b.bouncescroll){var i=Math.round(b.view.w/2);n<-i?n=-i:n>b.page.maxw+i&&(n=b.page.maxw+i)}return b.cursorfreezed=!1,i=b.getScrollLeft(!0),0>n&&0>=i||n>b.page.maxw&&i>=b.page.maxw?b.noticeCursor():void b.doScrollLeft(n)},this.doScrollTo=function(t,e){e&&Math.round(t*b.scrollratio.y),b.cursorfreezed=!1,b.doScrollTop(t)},this.checkContentSize=function(){var t=b.getContentSize();t.h==b.page.h&&t.w==b.page.w||b.resize(!1,t)},b.onscroll=function(t){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x))),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(e){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var n,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=b.win[0].style;for(n in i){var s=i[n];b.zoomrestore.style[s]="undefined"!=typeof o[s]?o[s]:""}return b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},x.isios4&&(b.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),b.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),i=b.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&b.win.css("backgroundColor","#fff"),b.rail.css({"z-index":r+101}),b.zoom.css({"z-index":r+102}),b.zoom.css("backgroundPosition","0px -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(e)}},this.doZoomOut=function(e){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),x.isios4&&t(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(e)},this.doZoom=function(t){return b.zoomactive?b.doZoomOut(t):b.doZoomIn(t)},this.resizeZoom=function(){if(b.zoomactive){var e=b.getScrollTop();b.win.css({width:t(window).width()-b.zoomrestore.padding.w+"px",height:t(window).height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,e))}},this.init(),t.nicescroll.push(this)},g=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,n){e.stop();var i=e.time();e.steptime=0,e.lasttime=i,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=n,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,n){var i=e.time();e.steptime=i-e.lasttime,e.lasttime=i;var i=n-e.lasty,o=t-e.lastx,r=e.nc.getScrollTop(),s=e.nc.getScrollLeft(),r=r+i,s=s+o;e.snapx=0>s||s>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=o,e.speedy=i,e.lastx=t,e.lasty=n},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,n){var i=!1;0>n?(n=0,i=!0):n>e.nc.page.maxh&&(n=e.nc.page.maxh,i=!0),0>t?(t=0,i=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,i=!0),i?e.nc.doScrollPos(t,n,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var n=e.time(),i=t?n+t:e.lasttime;t=e.nc.getScrollLeft();var o=e.nc.getScrollTop(),r=e.nc.page.maxh,s=e.nc.page.maxw;if(e.speedx=0<s?Math.min(60,e.speedx):0,e.speedy=0<r?Math.min(60,e.speedy):0,i=i&&60>=n-i,(0>o||o>r||0>t||t>s)&&(i=!1),t=!(!e.speedx||!i)&&e.speedx,e.speedy&&i&&e.speedy||t){var a=Math.max(16,e.steptime);50<a&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,u=function(){var t=600<e.time()-n?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>s)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>r)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(u,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};u()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},v=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,n,i){return(n=t.data(e,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():v.call(e)},set:function(e,n){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(n)):v.call(e,n),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var n=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return n&&n.ishwscroll?n.getScrollTop():v.call(this)}return this.each(function(){var n=t.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(e)):v.call(t(this),e)})};var y=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,n,i){return(n=t.data(e,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():y.call(e)},set:function(e,n){var i=t.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(n)):y.call(e,n),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var n=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return n&&n.ishwscroll?n.getScrollLeft():y.call(this)}return this.each(function(){var n=t.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(e)):y.call(t(this),e)})};var b=function(e){var n=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,i=0;e<n.length;e++)t.call(n[e],i++);return n},this.push=function(t){n[n.length]=t,n.length++},this.eq=function(t){return n[t]},e)for(var i=0;i<e.length;i++){var o=t.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,n){for(var i=0;i<e.length;i++)n(t,e[i])}(b.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new b(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return!!t.data(e,"__nicescroll")}}),t.fn.niceScroll=function(e,n){"undefined"!=typeof n||"object"!=typeof e||"jquery"in e||(n=e,e=!1),n=t.extend({},n);var i=new b;"undefined"==typeof n&&(n={}),e&&(n.doc=t(e),n.win=t(this));var o=!("doc"in n);return o||"win"in n||(n.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(n.doc=o?t(this):n.doc,e=new m(n,t(this)),t(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new b,t.nicescroll.options=d)}),$(function(){function t(){$("body").hasClass("sidebar-xs")&&$(".sidebar-main.sidebar-fixed .sidebar-content").on("mouseenter",function(){$("body").hasClass("sidebar-xs")&&$("body").removeClass("sidebar-xs").addClass("sidebar-fixed-expanded")}).on("mouseleave",function(){$("body").hasClass("sidebar-fixed-expanded")&&$("body").removeClass("sidebar-fixed-expanded").addClass("sidebar-xs")})}function e(){$(".sidebar-fixed .sidebar-content").niceScroll({mousescrollstep:100,cursorcolor:"#ccc",cursorborder:"",cursorwidth:3,hidecursordelay:100,autohidemode:"scroll",horizrailenabled:!1,preservenativescrolling:!1,railpadding:{right:.5,top:1.5,bottom:1.5}})}function n(){$(".sidebar-fixed .sidebar-content").getNiceScroll().remove(),$(".sidebar-fixed .sidebar-content").removeAttr("style").removeAttr("tabindex")}t(),$(".sidebar-main-toggle").on("click",function(e){t()}),e(),$(window).on("resize",function(){setTimeout(function(){$(window).width()<=768?n():e()},100)}).resize()});var AnyTime={version:"5.0.5",pad:function(t,e){for(var n=String(Math.abs(t));n.length<e;)n="0"+n;return 0>t&&(n="-"+n),n}};!function(t){var e=[31,28,31,30,31,30,31,31,30,31,30,31],n=!1,o=[];t.fn.AnyTime_picker=function(t){return this.each(function(){AnyTime.picker(this.id,t)})},t.fn.AnyTime_noPicker=function(){return this.each(function(){AnyTime.noPicker(this.id)})},t.fn.AnyTime_setEarliest=function(t){return this.each(function(){AnyTime.setEarliest(this.id,t)})},t.fn.AnyTime_setLatest=function(t){return this.each(function(){AnyTime.setLatest(this.id,t)})},t.fn.AnyTime_current=function(t,e){t?(this.removeClass("AnyTime-out-btn ui-state-default ui-state-disabled ui-state-highlight"),this.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight")):(this.removeClass("AnyTime-cur-btn ui-state-highlight"),e?this.removeClass("AnyTime-out-btn ui-state-disabled"):this.addClass("AnyTime-out-btn ui-state-disabled"))},t.fn.AnyTime_clickCurrent=function(){this.find(".AnyTime-cur-btn").triggerHandler("click")},t(document).ready(function(){for(var t in o)Array.prototype[t]||o[t].onReady();n=!0}),AnyTime.Converter=function(e){var n=0,i=9,o=9,r=6,s=3,a=Number.MIN_VALUE,l=Number.MIN_VALUE,c=Number.MIN_VALUE,u=-1,h=Number.MIN_VALUE,d=-1,p=!1;this.fmt="%Y-%m-%d %T",this.dAbbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.dNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.eAbbr=["BCE","CE"],this.mAbbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.mNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.baseYear=null,this.dAt=function(t,e){return t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0)},this.format=function(t){var e=new Date(t.getTime());a==Number.MIN_VALUE&&c!=Number.MIN_VALUE&&e.setTime(e.getTime()+6e4*e.getTimezoneOffset()+6e4*c);for(var i,o="",r=0;n>r;r++)if("%"!=this.fmt.charAt(r))o+=this.fmt.charAt(r);else{var s=this.fmt.charAt(r+1);switch(s){case"a":o+=this.dAbbr[e.getDay()];break;case"B":e.getFullYear()<0&&(o+=this.eAbbr[0]);break;case"b":o+=this.mAbbr[e.getMonth()];break;case"C":e.getFullYear()>0&&(o+=this.eAbbr[1]);break;case"c":o+=e.getMonth()+1;break;case"d":i=e.getDate(),10>i&&(o+="0"),o+=String(i);break;case"D":if(i=String(e.getDate()),o+=i,2==i.length&&"1"==i.charAt(0))o+="th";else switch(i.charAt(i.length-1)){case"1":o+="st";break;case"2":o+="nd";break;case"3":o+="rd";break;default:o+="th"}break;case"E":o+=this.eAbbr[e.getFullYear()<0?0:1];break;case"e":o+=e.getDate();break;case"H":i=e.getHours(),10>i&&(o+="0"),o+=String(i);break;case"h":case"I":i=e.getHours()%12,0==i?o+="12":(10>i&&(o+="0"),o+=String(i));break;case"i":i=e.getMinutes(),10>i&&(o+="0"),o+=String(i);break;case"k":o+=e.getHours();break;case"l":i=e.getHours()%12,o+=0==i?"12":String(i);break;case"M":o+=this.mNames[e.getMonth()];break;case"m":i=e.getMonth()+1,10>i&&(o+="0"),o+=String(i);break;case"p":o+=e.getHours()<12?"AM":"PM";break;case"r":i=e.getHours()%12,0==i?o+="12:":(10>i&&(o+="0"),o+=String(i)+":"),i=e.getMinutes(),10>i&&(o+="0"),o+=String(i)+":",i=e.getSeconds(),10>i&&(o+="0"),o+=String(i),o+=e.getHours()<12?"AM":"PM";break;case"S":case"s":i=e.getSeconds(),10>i&&(o+="0"),o+=String(i);break;case"T":i=e.getHours(),10>i&&(o+="0"),o+=String(i)+":",i=e.getMinutes(),10>i&&(o+="0"),o+=String(i)+":",i=e.getSeconds(),10>i&&(o+="0"),o+=String(i);break;case"W":o+=this.dNames[e.getDay()];break;case"w":o+=e.getDay();break;case"Y":o+=AnyTime.pad(e.getFullYear(),4);break;case"y":i=e.getFullYear()%100,o+=AnyTime.pad(i,2);break;case"Z":o+=AnyTime.pad(Math.abs(e.getFullYear()),4);break;case"z":o+=Math.abs(e.getFullYear());break;case"%":o+="%";break;case"#":i=a!=Number.MIN_VALUE?a:c==Number.MIN_VALUE?0-e.getTimezoneOffset():c,i>=0&&(o+="+"),o+=i;break;case"@":if(i=a!=Number.MIN_VALUE?a:c==Number.MIN_VALUE?0-e.getTimezoneOffset():c,AnyTime.utcLabel&&AnyTime.utcLabel[i]){o+=u>0&&u<AnyTime.utcLabel[i].length?AnyTime.utcLabel[i][u]:AnyTime.utcLabel[i][0];break}o+="UTC",s=":";case"+":case"-":case":":case";":i=a!=Number.MIN_VALUE?a:c==Number.MIN_VALUE?0-e.getTimezoneOffset():c,o+=0>i?"-":"+",i=Math.abs(i),o+="+"==s||":"==s?AnyTime.pad(Math.floor(i/60),2):Math.floor(i/60),(":"==s||";"==s)&&(o+=":"),o+=AnyTime.pad(i%60,2);break;case"f":case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+s+" not implemented by AnyTime.Converter";default:o+=this.fmt.substr(r,2)}r++}return o},this.getUtcParseOffsetCaptured=function(){return l},this.getUtcParseOffsetSubIndex=function(){return d},this.parse=function(t){l=h,d=-1;for(var e,a,c,u,f,m=1,g=new Date(4,0,1,0,0,0,0),v=t.length,y=0,b=1,w=h,x=0;n>x;x++)if("%"==this.fmt.charAt(x)){var C=this.fmt.charAt(x+1);switch(C){case"a":for(a=!1,u=0;v>y+u;u++){for(c=t.substr(y,u),e=0;12>e;e++)if(this.dAbbr[e]==c){a=!0,y+=u;break}if(a)break}if(!a)throw"unknown weekday: "+t.substr(y);break;case"B":u=this.eAbbr[0].length,v>=y+u&&t.substr(y,u)==this.eAbbr[0]&&(m=-1,y+=u);break;case"b":for(a=!1,u=0;v>y+u;u++){
for(c=t.substr(y,u),e=0;12>e;e++)if(this.mAbbr[e]==c){g.setMonth(e),a=!0,y+=u;break}if(a)break}if(!a)throw"unknown month: "+t.substr(y);break;case"C":u=this.eAbbr[1].length,v>=y+u&&t.substr(y,u)==this.eAbbr[1]&&(y+=u);break;case"c":v>y+1&&this.dAt(t,y+1)?(g.setMonth((Number(t.substr(y,2))-1)%12),y+=2):(g.setMonth((Number(t.substr(y,1))-1)%12),y++);break;case"D":v>y+1&&this.dAt(t,y+1)?(g.setDate(Number(t.substr(y,2))),y+=4):(g.setDate(Number(t.substr(y,1))),y+=3);break;case"d":g.setDate(Number(t.substr(y,2))),y+=2;break;case"E":if(u=this.eAbbr[0].length,v>=y+u&&t.substr(y,u)==this.eAbbr[0])m=-1,y+=u;else{if(!(y+(u=this.eAbbr[1].length)<=v&&t.substr(y,u)==this.eAbbr[1]))throw"unknown era: "+t.substr(y);y+=u}break;case"e":v>y+1&&this.dAt(t,y+1)?(g.setDate(Number(t.substr(y,2))),y+=2):(g.setDate(Number(t.substr(y,1))),y++);break;case"f":y+=6;break;case"H":g.setHours(Number(t.substr(y,2))),y+=2;break;case"h":case"I":g.setHours(Number(t.substr(y,2))),y+=2;break;case"i":g.setMinutes(Number(t.substr(y,2))),y+=2;break;case"k":v>y+1&&this.dAt(t,y+1)?(g.setHours(Number(t.substr(y,2))),y+=2):(g.setHours(Number(t.substr(y,1))),y++);break;case"l":v>y+1&&this.dAt(t,y+1)?(g.setHours(Number(t.substr(y,2))),y+=2):(g.setHours(Number(t.substr(y,1))),y++);break;case"M":for(a=!1,u=s;v>=y+u&&!(u>o);u++){for(c=t.substr(y,u),e=0;12>e;e++)if(this.mNames[e]==c){g.setMonth(e),a=!0,y+=u;break}if(a)break}break;case"m":g.setMonth((Number(t.substr(y,2))-1)%12),y+=2;break;case"p":12==g.getHours()?"A"==t.charAt(y)&&g.setHours(0):"P"==t.charAt(y)&&g.setHours(g.getHours()+12),y+=2;break;case"r":g.setHours(Number(t.substr(y,2))),g.setMinutes(Number(t.substr(y+3,2))),g.setSeconds(Number(t.substr(y+6,2))),12==g.getHours()?"A"==t.charAt(y+8)&&g.setHours(0):"P"==t.charAt(y+8)&&g.setHours(g.getHours()+12),y+=10;break;case"S":case"s":g.setSeconds(Number(t.substr(y,2))),y+=2;break;case"T":g.setHours(Number(t.substr(y,2))),g.setMinutes(Number(t.substr(y+3,2))),g.setSeconds(Number(t.substr(y+6,2))),y+=8;break;case"W":for(a=!1,u=r;v>=y+u&&!(u>i);u++){for(c=t.substr(y,u),e=0;7>e;e++)if(this.dNames[e]==c){a=!0,y+=u;break}if(a)break}break;case"w":y+=1;break;case"Y":e=4,"-"==t.substr(y,1)&&e++,g.setFullYear(Number(t.substr(y,e))),y+=e;break;case"y":e=2,"-"==t.substr(y,1)&&e++,f=Number(t.substr(y,e)),f+="number"==typeof this.baseYear?this.baseYear:70>f?2e3:1900,g.setFullYear(f),y+=e;break;case"Z":g.setFullYear(Number(t.substr(y,4))),y+=4;break;case"z":for(e=0;v>y&&this.dAt(t,y);)e=10*e+Number(t.charAt(y++));g.setFullYear(e);break;case"#":for("-"==t.charAt(y++)&&(b=-1),w=0;v>y&&String(e=Number(t.charAt(y)))==t.charAt(y);y++)w=10*w+e;w*=b;break;case"@":if(d=-1,AnyTime.utcLabel){a=!1;for(w in AnyTime.utcLabel)if(!Array.prototype[w]){for(e=0;e<AnyTime.utcLabel[w].length;e++)if(c=AnyTime.utcLabel[w][e],u=c.length,v>=y+u&&t.substr(y,u)==c){y+=u,a=!0;break}if(a)break}if(a){d=e,w=Number(w);break}}if(v>y+9||"UTC"!=t.substr(y,3))throw"unknown time zone: "+t.substr(y);y+=3,C=":";case"-":case"+":case":":case";":"-"==t.charAt(y++)&&(b=-1),w=Number(t.charAt(y)),("+"==C||":"==C||v>y+3&&String(Number(t.charAt(y+3)))!==t.charAt(y+3))&&(w=10*w+Number(t.charAt(++y))),w*=60,(":"==C||";"==C)&&y++,w=(w+Number(t.substr(++y,2)))*b,y+=2;break;case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+this.fmt.charAt(x+1)+" not implemented by AnyTime.Converter";case"%":default:throw"%"+this.fmt.charAt(x+1)+" reserved for future use"}x++}else{if(this.fmt.charAt(x)!=t.charAt(y))throw t+' is not in "'+this.fmt+'" format';y++}return 0>m&&g.setFullYear(0-g.getFullYear()),w!=Number.MIN_VALUE&&(p?l=w:g.setTime(g.getTime()-6e4*w-6e4*g.getTimezoneOffset())),g},this.setUtcFormatOffsetAlleged=function(t){var e=a;return a=t,e},this.setUtcFormatOffsetSubIndex=function(t){var e=u;return u=t,e},function(a){var l,u;if(e=jQuery.extend(!0,{},e||{}),e.baseYear&&(a.baseYear=Number(e.baseYear)),e.format&&(a.fmt=e.format),n=a.fmt.length,e.dayAbbreviations&&(a.dAbbr=t.makeArray(e.dayAbbreviations)),e.dayNames)for(a.dNames=t.makeArray(e.dayNames),i=1,r=1e3,l=0;7>l;l++)u=a.dNames[l].length,u>i&&(i=u),r>u&&(r=u);if(e.eraAbbreviations&&(a.eAbbr=t.makeArray(e.eraAbbreviations)),e.monthAbbreviations&&(a.mAbbr=t.makeArray(e.monthAbbreviations)),e.monthNames)for(a.mNames=t.makeArray(e.monthNames),o=1,s=1e3,l=0;12>l;l++)u=a.mNames[l].length,u>o&&(o=u),s>u&&(s=u);"undefined"!=typeof e.utcFormatOffsetImposed&&(c=e.utcFormatOffsetImposed),"undefined"!=typeof e.utcParseOffsetAssumed&&(h=e.utcParseOffsetAssumed),e.utcParseOffsetCapture&&(p=!0)}(this)},AnyTime.noPicker=function(t){o[t]&&(o[t].cleanup(),delete o[t])},AnyTime.picker=function(r,s){if(o[r])throw'Cannot create another AnyTime.picker for "'+r+'"';var a=null;o[r]={twelveHr:!1,ajaxOpts:null,denyTab:!0,askEra:!1,cloak:null,conv:null,div:null,dB:null,dD:null,dY:null,dMo:null,dDoM:null,hDoM:null,hMo:null,hTitle:null,hY:null,dT:null,dH:null,dM:null,dS:null,dO:null,earliest:null,fBtn:null,fDOW:0,hBlur:null,hClick:null,hFocus:null,hKeydown:null,hKeypress:null,hResize:null,id:null,inp:null,latest:null,lastAjax:null,lostFocus:!1,lX:"X",lY:"Year",lO:"Time Zone",oBody:null,oConv:null,oCur:null,oDiv:null,oLab:null,oList:null,oSel:null,offMin:Number.MIN_VALUE,offSI:-1,offStr:"",pop:!0,ro:!1,time:null,url:null,yAhead:null,y0XXX:null,yCur:null,yDiv:null,yLab:null,yNext:null,yPast:null,yPrior:null,initialize:function(i){if(a=this,this.id="AnyTime--"+i.replace(/[^-_.A-Za-z0-9]/g,"--AnyTime--"),s=jQuery.extend(!0,{},s||{}),s.utcParseOffsetCapture=!0,this.conv=new AnyTime.Converter(s),s.placement)if("inline"==s.placement)this.pop=!1;else if("popup"!=s.placement)throw"unknown placement: "+s.placement;if(s.ajaxOptions&&(this.ajaxOpts=jQuery.extend({},s.ajaxOptions),this.ajaxOpts.success||(this.ajaxOpts.success=function(t){a.updVal(t)})),s.earliest&&(this.earliest="function"==typeof s.earliest.getTime?s.earliest.getTime():this.conv.parse(s.earliest.toString())),s.firstDOW){if(s.firstDOW<0||s.firstDOW>6)throw new Exception("illegal firstDOW: "+s.firstDOW);this.fDOW=s.firstDOW}s.latest&&(this.latest="function"==typeof s.latest.getTime?s.latest.getTime():this.conv.parse(s.latest.toString())),this.lX=s.labelDismiss||"X",this.lY=s.labelYear||"Year",this.lO=s.labelTimeZone||"Time Zone";var o,r,l,c=0,u=this.conv.fmt;this.askEra="undefined"!=typeof s.askEra?s.askEra:u.indexOf("%B")>=0||u.indexOf("%C")>=0||u.indexOf("%E")>=0;var h=u.indexOf("%Y")>=0||u.indexOf("%y")>=0||u.indexOf("%Z")>=0||u.indexOf("%z")>=0,d=u.indexOf("%b")>=0||u.indexOf("%c")>=0||u.indexOf("%M")>=0||u.indexOf("%m")>=0,p=u.indexOf("%D")>=0||u.indexOf("%d")>=0||u.indexOf("%e")>=0,f=h||d||p;this.twelveHr=u.indexOf("%h")>=0||u.indexOf("%I")>=0||u.indexOf("%l")>=0||u.indexOf("%r")>=0;var m=this.twelveHr||u.indexOf("%H")>=0||u.indexOf("%k")>=0||u.indexOf("%T")>=0,g=u.indexOf("%i")>=0||u.indexOf("%r")>=0||u.indexOf("%T")>=0,v=u.indexOf("%r")>=0||u.indexOf("%S")>=0||u.indexOf("%s")>=0||u.indexOf("%T")>=0;v&&"undefined"!=typeof s.askSecond&&(v=s.askSecond);var y=u.indexOf("%#")>=0||u.indexOf("%+")>=0||u.indexOf("%-")>=0||u.indexOf("%:")>=0||u.indexOf("%;")>=0||u.indexOf("%<")>=0||u.indexOf("%>")>=0||u.indexOf("%@")>=0,b=m||g||v||y;y&&(this.oConv=new AnyTime.Converter({format:s.formatUtcOffset||u.match(/\S*%[-+:;<>#@]\S*/g).join(" ")})),this.inp=t(document.getElementById(i)),this.ro=this.inp.prop("readonly"),this.inp.prop("readonly",!0),this.div=t('<div class="AnyTime-win AnyTime-pkr ui-widget ui-widget-content ui-corner-all" id="'+this.id+'" aria-live="off"></div>'),this.inp.after(this.div),this.hTitle=t('<h5 class="AnyTime-hdr ui-widget-header ui-corner-top"/>'),this.div.append(this.hTitle),this.dB=t('<div class="AnyTime-body"></div>'),this.div.append(this.dB),s.hideInput&&this.inp.css({border:0,height:"1px",margin:0,padding:0,width:"1px"}),r=null;var w=null;if(this.pop&&(w=t('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>"),this.hTitle.append(w),w.click(function(t){a.dismiss(t)})),l="",f){if(this.dD=t('<div class="AnyTime-date"></div>'),this.dB.append(this.dD),h&&(this.yLab=t('<h6 class="AnyTime-lbl AnyTime-lbl-yr">'+this.lY+"</h6>"),this.dD.append(this.yLab),this.dY=t('<ul class="AnyTime-yrs ui-helper-reset" />'),this.dD.append(this.dY),this.yPast=this.btn(this.dY,"&lt;",this.newYear,["yrs-past"],"- "+this.lY),this.yPrior=this.btn(this.dY,"1",this.newYear,["yr-prior"],"-1 "+this.lY),this.yCur=this.btn(this.dY,"2",this.newYear,["yr-cur"],this.lY),this.yCur.removeClass("ui-state-default"),this.yCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.yNext=this.btn(this.dY,"3",this.newYear,["yr-next"],"+1 "+this.lY),this.yAhead=this.btn(this.dY,"&gt;",this.newYear,["yrs-ahead"],"+ "+this.lY),c++),d){for(l=s.labelMonth||"Month",this.hMo=t('<h6 class="AnyTime-lbl AnyTime-lbl-month">'+l+"</h6>"),this.dD.append(this.hMo),this.dMo=t('<ul class="AnyTime-mons" />'),this.dD.append(this.dMo),o=0;12>o;o++){var x=this.btn(this.dMo,this.conv.mAbbr[o],function(n){var i=t(n.target);if(!i.hasClass("AnyTime-out-btn")){var o=n.target.AnyTime_month,r=new Date(this.time.getTime());r.getDate()>e[o]&&r.setDate(e[o]),r.setMonth(o),this.set(r),this.upd(i)}},["mon","mon"+String(o+1)],l+" "+this.conv.mNames[o]);x[0].AnyTime_month=o}c++}if(p){l=s.labelDayOfMonth||"Day of Month",this.hDoM=t('<h6 class="AnyTime-lbl AnyTime-lbl-dom">'+l+"</h6>"),this.dD.append(this.hDoM),this.dDoM=t('<table border="0" cellpadding="0" cellspacing="0" class="AnyTime-dom-table"/>'),this.dD.append(this.dDoM),r=t('<thead class="AnyTime-dom-head"/>'),this.dDoM.append(r);var C=t('<tr class="AnyTime-dow"/>');for(r.append(C),o=0;7>o;o++)C.append('<th class="AnyTime-dow AnyTime-dow'+String(o+1)+'">'+this.conv.dAbbr[(this.fDOW+o)%7]+"</th>");var k=t('<tbody class="AnyTime-dom-body" />');this.dDoM.append(k);for(var _=0;6>_;_++)for(C=t('<tr class="AnyTime-wk AnyTime-wk'+String(_+1)+'"/>'),k.append(C),o=0;7>o;o++)this.btn(C,"x",function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=Number(n.html());if(i){var o=new Date(this.time.getTime());o.setDate(i),this.set(o),this.upd(n)}}},["dom"],l);c++}}if(b){var T,S;if(this.dT=t('<div class="AnyTime-time"></div>'),this.dB.append(this.dT),m){this.dH=t('<div class="AnyTime-hrs"></div>'),this.dT.append(this.dH),l=s.labelHour||"Hour",this.dH.append(t('<h6 class="AnyTime-lbl AnyTime-lbl-hr">'+l+"</h6>"));var D=t('<ul class="AnyTime-hrs-am"/>');this.dH.append(D);var M=t('<ul class="AnyTime-hrs-pm"/>');for(this.dH.append(M),o=0;12>o;o++)r=this.twelveHr?0==o?"12am":String(o)+"am":AnyTime.pad(o,2),this.btn(D,r,this.newHour,["hr","hr"+String(o)],l+" "+r),r=this.twelveHr?0==o?"12pm":String(o)+"pm":o+12,this.btn(M,r,this.newHour,["hr","hr"+String(o+12)],l+" "+r);c++}if(g){for(this.dM=t('<div class="AnyTime-mins"></div>'),this.dT.append(this.dM),l=s.labelMinute||"Minute",this.dM.append(t('<h6 class="AnyTime-lbl AnyTime-lbl-min">'+l+"</h6>")),T=t('<ul class="AnyTime-mins-tens"/>'),this.dM.append(T),o=0;6>o;o++)this.btn(T,o,function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setMinutes(10*Number(n.text())+this.time.getMinutes()%10),this.set(i),this.upd(n)}},["min-ten","min"+o+"0"],l+" "+o+"0");for(;12>o;o++)this.btn(T,"&#160;",t.noop,["min-ten","min"+o+"0"],l+" "+o+"0").addClass("AnyTime-min-ten-btn-empty ui-state-default ui-state-disabled");for(S=t('<ul class="AnyTime-mins-ones"/>'),this.dM.append(S),o=0;10>o;o++)this.btn(S,o,function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setMinutes(10*Math.floor(this.time.getMinutes()/10)+Number(n.text())),this.set(i),this.upd(n)}},["min-one","min"+o],l+" "+o);for(;12>o;o++)this.btn(S,"&#160;",t.noop,["min-one","min"+o+"0"],l+" "+o).addClass("AnyTime-min-one-btn-empty ui-state-default ui-state-disabled");c++}if(v){for(this.dS=t('<div class="AnyTime-secs"></div>'),this.dT.append(this.dS),l=s.labelSecond||"Second",this.dS.append(t('<h6 class="AnyTime-lbl AnyTime-lbl-sec">'+l+"</h6>")),T=t('<ul class="AnyTime-secs-tens"/>'),this.dS.append(T),o=0;6>o;o++)this.btn(T,o,function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setSeconds(10*Number(n.text())+this.time.getSeconds()%10),this.set(i),this.upd(n)}},["sec-ten","sec"+o+"0"],l+" "+o+"0");for(;12>o;o++)this.btn(T,"&#160;",t.noop,["sec-ten","sec"+o+"0"],l+" "+o+"0").addClass("AnyTime-sec-ten-btn-empty ui-state-default ui-state-disabled");for(S=t('<ul class="AnyTime-secs-ones"/>'),this.dS.append(S),o=0;10>o;o++)this.btn(S,o,function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=new Date(this.time.getTime());i.setSeconds(10*Math.floor(this.time.getSeconds()/10)+Number(n.text())),this.set(i),this.upd(n)}},["sec-one","sec"+o],l+" "+o);for(;12>o;o++)this.btn(S,"&#160;",t.noop,["sec-one","sec"+o+"0"],l+" "+o).addClass("AnyTime-sec-one-btn-empty ui-state-default ui-state-disabled");c++}y&&(this.dO=t('<div class="AnyTime-offs" ></div>'),this.dT.append("<br />"),this.dT.append(this.dO),this.oList=t('<ul class="AnyTime-off-list ui-helper-reset" />'),this.dO.append(this.oList),this.oCur=this.btn(this.oList,"",this.newOffset,["off","off-cur"],l),this.oCur.removeClass("ui-state-default"),this.oCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.oSel=this.btn(this.oList,"&#177;",this.newOffset,["off","off-select"],"+/- "+this.lO),this.oMinW=this.dO.outerWidth(!0),this.oLab=t('<h6 class="AnyTime-lbl AnyTime-lbl-off">'+this.lO+"</h6>"),this.dO.prepend(this.oLab),c++)}s.labelTitle?this.hTitle.append(s.labelTitle):c>1?this.hTitle.append("Select a "+(f?b?"Date and Time":"Date":"Time")):this.hTitle.append("Select");try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex()}catch(A){this.time=new Date}this.lastAjax=this.time,this.pop&&(this.div.hide(),this.div.css("position","absolute")),this.inp.blur(this.hBlur=function(t){a.inpBlur(t)}),this.inp.click(this.hClick=function(t){a.showPkr(t)}),this.inp.focus(this.hFocus=function(t){a.lostFocus&&a.showPkr(t),a.lostFocus=!1}),this.inp.keydown(this.hKeydown=function(t){a.key(t)}),this.inp.keypress(this.hKeypress=function(){}),this.div.click(function(){a.lostFocus=!1,a.inp.focus()}),t(window).resize(this.hResize=function(t){a.pos(t)}),n&&this.onReady()},ajax:function(){if(this.ajaxOpts&&this.time.getTime()!=this.lastAjax.getTime())try{var e=jQuery.extend({},this.ajaxOpts);if("object"==typeof e.data)e.data[this.inp[0].name||this.inp[0].id]=this.inp.val();else{var n=(this.inp[0].name||this.inp[0].id)+"="+encodeURI(this.inp.val());e.data?e.data+="&"+n:e.data=n}t.ajax(e),this.lastAjax=this.time}catch(i){}},askOffset:function(e){if(this.oDiv)this.cloak.show(),this.oDiv.show();else{this.makeCloak(),this.oDiv=t('<div class="AnyTime-win AnyTime-off-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.oDiv);var n=t('<h5 class="AnyTime-hdr AnyTime-hdr-off-selector ui-widget-header ui-corner-top" />');this.oDiv.append(n),this.oBody=t('<div class="AnyTime-body AnyTime-body-off-selector"></div>'),this.oDiv.append(this.oBody);var i=t('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");n.append(i),i.click(function(t){a.dismissODiv(t)}),n.append(this.lO);var o=t('<ul class="AnyTime-off-off" />'),r=null;this.oBody.append(o);var s=this.oConv.fmt.indexOf("%@")>=0;if(AnyTime.utcLabel)for(var l=-720;720>l;l++)if(AnyTime.utcLabel[l]){this.oConv.setUtcFormatOffsetAlleged(l);for(var c=0;c<AnyTime.utcLabel[l].length&&(this.oConv.setUtcFormatOffsetSubIndex(c),r=this.btn(o,this.oConv.format(this.time),this.newOPos,["off-off"],l),r[0].AnyTime_offMin=l,r[0].AnyTime_offSI=c,s);c++);}if(r&&r.addClass("AnyTime-off-off-last-btn"),this.oDiv.outerHeight(!0)>this.div.height()){var u=this.oBody.width();this.oBody.css("height","0"),this.oBody.css({height:String(this.div.height()-(this.oDiv.outerHeight(!0)+this.oBody.outerHeight(!1)))+"px",width:String(u+20)+"px"})}this.oDiv.outerWidth(!0)>this.div.width()&&(this.oBody.css("width","0"),this.oBody.css("width",String(this.div.width()-(this.oDiv.outerWidth(!0)+this.oBody.outerWidth(!1)))+"px"))}this.pos(e),this.updODiv(null);var h=this.oDiv.find(".AnyTime-off-off-btn.AnyTime-cur-btn:first");h.length||(h=this.oDiv.find(".AnyTime-off-off-btn:first")),this.setFocus(h)},askYear:function(e){if(this.yDiv)this.cloak.show(),this.yDiv.show();else{this.makeCloak(),this.yDiv=t('<div class="AnyTime-win AnyTime-yr-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.yDiv);var n=t('<h5 class="AnyTime-hdr AnyTime-hdr-yr-selector ui-widget-header ui-corner-top" />');this.yDiv.append(n);var o=t('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");n.append(o),o.click(function(t){a.dismissYDiv(t)}),n.append(this.lY);var r=t('<div class="AnyTime-body AnyTime-body-yr-selector" ></div>');for(this.yDiv.append(r),cont=t('<ul class="AnyTime-yr-mil" />'),r.append(cont),this.y0XXX=this.btn(cont,0,this.newYPos,["mil","mil0"],this.lY+" 0000"),i=1;10>i;i++)this.btn(cont,i,this.newYPos,["mil","mil"+i],this.lY+" "+i+"000");for(cont=t('<ul class="AnyTime-yr-cent" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["cent","cent"+i],this.lY+" "+i+"00");for(cont=t('<ul class="AnyTime-yr-dec" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["dec","dec"+i],this.lY+" "+i+"0");for(cont=t('<ul class="AnyTime-yr-yr" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["yr","yr"+i],this.lY+" "+i);this.askEra&&(cont=t('<ul class="AnyTime-yr-era" />'),r.append(cont),this.btn(cont,this.conv.eAbbr[0],function(e){var n=new Date(this.time.getTime()),i=n.getFullYear();i>0&&n.setFullYear(0-i),this.set(n),this.updYDiv(t(e.target))},["era","bce"],this.conv.eAbbr[0]),this.btn(cont,this.conv.eAbbr[1],function(e){var n=new Date(this.time.getTime()),i=n.getFullYear();0>i&&n.setFullYear(0-i),this.set(n),this.updYDiv(t(e.target))},["era","ce"],this.conv.eAbbr[1]))}this.pos(e),this.updYDiv(null),this.setFocus(this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn:first"))},inpBlur:function(t){return this.oDiv&&this.oDiv.is(":visible")?void a.inp.focus():(this.lostFocus=!0,void setTimeout(function(){a.lostFocus&&(a.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),a.pop?a.dismiss(t):a.ajax())},334))},btn:function(e,n,i,o,r){for(var s="ul"==e[0].nodeName.toLowerCase()?"li":"td",l="<"+s+' class="AnyTime-btn',c=0;c<o.length;c++)l+=" AnyTime-"+o[c]+"-btn";var u=t(l+' ui-state-default">'+n+"</"+s+">");return e.append(u),u.AnyTime_title=r,u.click(function(t){a.tempFunc=i,a.tempFunc(t)}),u.dblclick(function(e){var n=t(this);n.is(".AnyTime-off-off-btn")?a.dismissODiv(e):n.is(".AnyTime-mil-btn")||n.is(".AnyTime-cent-btn")||n.is(".AnyTime-dec-btn")||n.is(".AnyTime-yr-btn")||n.is(".AnyTime-era-btn")?a.dismissYDiv(e):a.pop&&a.dismiss(e)}),u},cleanup:function(){this.inp.prop("readonly",this.ro).off("blur",this.hBlur).off("click",this.hClick).off("focus",this.hFocus).off("keydown",this.hKeydown).off("keypress",this.hKeypress),t(window).off("resize",this.hResize),this.div.remove()},dismiss:function(){this.ajax(),this.yDiv&&this.dismissYDiv(),this.oDiv&&this.dismissODiv(),this.div.hide(),this.lostFocus=!0},dismissODiv:function(){this.oDiv.hide(),this.cloak.hide(),this.setFocus(this.oCur)},dismissYDiv:function(){this.yDiv.hide(),this.cloak.hide(),this.setFocus(this.yCur)},setFocus:function(t){if(t.hasClass("AnyTime-focus-btn")||(this.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),this.fBtn=t,t.removeClass("ui-state-default ui-state-highlight"),t.addClass("AnyTime-focus-btn ui-state-default ui-state-highlight ui-state-focus")),t.hasClass("AnyTime-off-off-btn")){var e=this.oBody.offset().top,n=t.offset().top,i=t.outerHeight(!0);e>n-i?this.oBody.scrollTop(n+this.oBody.scrollTop()-(this.oBody.innerHeight()+e)+2*i):n+i>e+this.oBody.innerHeight()&&this.oBody.scrollTop(n+this.oBody.scrollTop()-(e+i))}},key:function(t){var n,i=null,o=this,r=(this.div.find(".AnyTime-focus-btn"),t.keyCode||t.which);if(this.denyTab=!0,16==r);else if(10==r||13==r||27==r)this.oDiv&&this.oDiv.is(":visible")?this.dismissODiv(t):this.yDiv&&this.yDiv.is(":visible")?this.dismissYDiv(t):this.pop&&this.dismiss(t);else if(33==r||9==r&&t.shiftKey){if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==r&&this.dismissODiv(t);else if(this.fBtn.hasClass("AnyTime-mil-btn"))9==r&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-mil-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-era-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.parents(".AnyTime-yrs").length){if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn")){if(9==r&&t.shiftKey)return void(this.denyTab=!1);i=new Date(this.time.getTime()),t.shiftKey?i.setFullYear(i.getFullYear()-1):(n=i.getMonth()-1,i.getDate()>e[n]&&i.setDate(e[n]),i.setMonth(n)),this.keyDateChange(i)}else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(i=this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn")){if(i=this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-one-btn"))this.dM.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-sec-ten-btn")){if(i=this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-sec-one-btn"))this.dS.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-off-btn"))if(i=this.dS?this.dS.find(".AnyTime-secs-ones"):this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)i.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(34==r||9==r){if(this.fBtn.hasClass("AnyTime-mil-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))i=this.yDiv.find(".AnyTime-era-btn.AnyTime-cur-btn"),i.length?i.triggerHandler("click"):9==r&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-era-btn"))9==r&&this.dismissYDiv(t);else if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==r&&this.dismissODiv(t);else if(this.fBtn.parents(".AnyTime-yrs").length){if(i=this.dDoM||this.dMo||this.dH||this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(i=this.dDoM||this.dH||this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn"))if(9==r){if(i=this.dH||this.dM||this.dS||this.dO,!i)return void(this.denyTab=!1);i.AnyTime_clickCurrent()}else i=new Date(this.time.getTime()),t.shiftKey?i.setFullYear(i.getFullYear()+1):(n=i.getMonth()+1,i.getDate()>e[n]&&i.setDate(e[n]),i.setMonth(n)),this.keyDateChange(i);else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(i=this.dM||this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn"))this.dM.find(".AnyTime-mins-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-min-one-btn")){if(i=this.dS||this.dO)i.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-sec-ten-btn"))this.dS.find(".AnyTime-secs-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-sec-one-btn")){if(this.dO)this.dO.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-off-btn")&&9==r)return void(this.denyTab=!1)}else if(35==r)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?(i=this.yDiv.find(".AnyTime-ce-btn"),i.length||(i=this.yDiv.find(".AnyTime-yr9-btn")),i.triggerHandler("click")):this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(1),i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t.ctrlKey&&i.setMonth(11),this.keyDateChange(i)):this.dS?this.dS.find(".AnyTime-sec9-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:last").triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yAhead.triggerHandler("click");else if(36==r)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?this.yDiv.find(".AnyTime-mil0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(1),t.ctrlKey&&i.setMonth(0),this.keyDateChange(i)):this.dY?this.yCur.triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:first").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click");else if(37==r)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()-1),this.keyDateChange(i)):this.keyBack();else if(38==r)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()-7),this.keyDateChange(i)):this.keyBack();else if(39==r)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()+1),this.keyDateChange(i)):this.keyAhead();else if(40==r)this.fBtn.hasClass("AnyTime-dom-btn")?(i=new Date(this.time.getTime()),i.setDate(i.getDate()+7),this.keyDateChange(i)):this.keyAhead();else{if((86==r||118==r)&&t.ctrlKey)return this.updVal(""),void setTimeout(function(){o.showPkr(null)},100);this.showPkr(null)}t.preventDefault()},keyAhead:function(){this.fBtn.hasClass("AnyTime-mil9-btn")?this.yDiv.find(".AnyTime-cent0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-cent9-btn")?this.yDiv.find(".AnyTime-dec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec9-btn")?this.yDiv.find(".AnyTime-yr0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr9-btn")?this.yDiv.find(".AnyTime-bce-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec9-btn")||(this.fBtn.hasClass("AnyTime-sec50-btn")?this.dS.find(".AnyTime-sec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min9-btn")?this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min50-btn")?this.dM.find(".AnyTime-min0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr23-btn")?this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr11-btn")?this.dH.find(".AnyTime-hr12-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon12-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yrs-ahead-btn")?this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yNext.triggerHandler("click"):this.fBtn.next().triggerHandler("click"))},keyBack:function(){this.fBtn.hasClass("AnyTime-cent0-btn")?this.yDiv.find(".AnyTime-mil9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec0-btn")?this.yDiv.find(".AnyTime-cent9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr0-btn")?this.yDiv.find(".AnyTime-dec9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-bce-btn")?this.yDiv.find(".AnyTime-yr9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yPrior.triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon1-btn")?this.dY&&this.yCur.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr0-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr12-btn")?this.dH.find(".AnyTime-hr11-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min00-btn")?this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-min0-btn")?this.dM.find(".AnyTime-min50-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec00-btn")?this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec0-btn")?this.dS.find(".AnyTime-sec50-btn").triggerHandler("click"):this.fBtn.prev().triggerHandler("click")},keyDateChange:function(t){this.fBtn.hasClass("AnyTime-dom-btn")&&(this.set(t),this.upd(null),this.setFocus(this.dDoM.find(".AnyTime-cur-btn")))},makeCloak:function(){this.cloak?this.cloak.show():(this.cloak=t('<div class="AnyTime-cloak"></div>'),this.div.append(this.cloak),this.cloak.click(function(t){a.oDiv&&a.oDiv.is(":visible")?a.dismissODiv(t):a.dismissYDiv(t)}))},newHour:function(e){var n,i,o=t(e.target);if(!o.hasClass("AnyTime-out-btn")){if(this.twelveHr){var r=o.text();i=r.indexOf("a"),0>i?(i=Number(r.substr(0,r.indexOf("p"))),n=12==i?12:i+12):(i=Number(r.substr(0,i)),n=12==i?0:i)}else n=Number(o.text());i=new Date(this.time.getTime()),i.setHours(n),this.set(i),this.upd(o)}},newOffset:function(t){t.target==this.oSel[0]?this.askOffset(t):this.upd(this.oCur)},newOPos:function(e){var n=t(e.target);this.offMin=n[0].AnyTime_offMin,this.offSI=n[0].AnyTime_offSI;var i=new Date(this.time.getTime());this.set(i),this.updODiv(n)},newYear:function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=n.text();if("<"==i||"&lt;"==i)this.askYear(e);else if(">"==i||"&gt;"==i)this.askYear(e);else{var o=new Date(this.time.getTime());o.setFullYear(Number(i)),this.set(o),this.upd(this.yCur)}}},newYPos:function(e){var n=t(e.target);if(!n.hasClass("AnyTime-out-btn")){var i=1,o=this.time.getFullYear();0>o&&(i=-1,o=0-o),o=AnyTime.pad(o,4),o=n.hasClass("AnyTime-mil-btn")?n.html()+o.substring(1,4):n.hasClass("AnyTime-cent-btn")?o.substring(0,1)+n.html()+o.substring(2,4):n.hasClass("AnyTime-dec-btn")?o.substring(0,2)+n.html()+o.substring(3,4):o.substring(0,3)+n.html(),
"0000"==o&&(o=1);var r=new Date(this.time.getTime());r.setFullYear(i*o),this.set(r),this.updYDiv(n)}},onReady:function(){this.lostFocus=!0,this.pop?this.div.parent()!=document.body&&this.div.appendTo(document.body):this.upd(null)},pos:function(){if(this.pop){var e=this.inp.offset(),n=t(document.body).outerWidth(!0),i=this.div.outerWidth(!0),o=e.left;o+i>n-20&&(o=n-(i+20));var r=e.top-this.div.outerHeight(!0);0>r&&(r=e.top+this.inp.outerHeight(!0)),this.div.css({top:String(r)+"px",left:String(0>o?0:o)+"px"})}var s=this.div.offset();if(this.oDiv&&this.oDiv.is(":visible")){var a=this.oLab.offset();"absolute"==this.div.css("position")&&(a.top-=s.top,a.left=a.left-s.left,s={top:0,left:0});var l=this.oDiv.outerWidth(!0),c=this.div.outerWidth(!0);a.left+l>s.left+c&&(a.left=s.left+c-l,a.left<2&&(a.left=2));var u=this.oDiv.outerHeight(!0),h=this.div.outerHeight(!0);a.top+=this.oLab.outerHeight(!0),a.top+u>s.top+h&&(a.top=a.top-u),a.top<s.top&&(a.top=s.top),this.oDiv.css({top:a.top+"px",left:a.left+"px"})}else if(this.yDiv&&this.yDiv.is(":visible")){var d=this.yLab.offset();"absolute"==this.div.css("position")&&(d.top-=s.top,d.left=d.left-s.left,s={top:0,left:0}),d.left+=(this.yLab.outerWidth(!0)-this.yDiv.outerWidth(!0))/2,this.yDiv.css({top:d.top+"px",left:d.left+"px"})}this.cloak&&this.cloak.css({top:s.top+"px",left:s.left+"px",height:String(this.div.outerHeight(!0)-2)+"px",width:String(this.div.outerWidth(!0)-2)+"px"})},set:function(t){var e=t.getTime();this.time=this.earliest&&e<this.earliest?new Date(this.earliest):this.latest&&e>this.latest?new Date(this.latest):t},setEarliest:function(t){this.earliest=t,this.set(this.time)},setLatest:function(t){this.latest=t,this.set(this.time)},showPkr:function(t){try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex()}catch(e){this.time=new Date}this.set(this.time),this.upd(null),fBtn=null;var n=".AnyTime-cur-btn:first";this.dDoM?fBtn=this.dDoM.find(n):this.yCur?fBtn=this.yCur:this.dMo?fBtn=this.dMo.find(n):this.dH?fBtn=this.dH.find(n):this.dM?fBtn=this.dM.find(n):this.dS&&(fBtn=this.dS.find(n)),this.setFocus(fBtn),this.pos(t)},upd:function(e){var n=new Date(this.time.getTime());n.setMonth(0,1),n.setHours(0,0,0,0);var i=new Date(this.time.getTime());i.setMonth(11,31),i.setHours(23,59,59,999);var o=this.time.getFullYear();this.earliest&&this.yPast&&(i.setYear(o-2),i.getTime()<this.earliest?this.yPast.addClass("AnyTime-out-btn ui-state-disabled"):this.yPast.removeClass("AnyTime-out-btn ui-state-disabled")),this.yPrior&&(this.yPrior.text(AnyTime.pad(1==o?-1:o-1,4)),this.earliest&&(i.setYear(o-1),i.getTime()<this.earliest?this.yPrior.addClass("AnyTime-out-btn ui-state-disabled"):this.yPrior.removeClass("AnyTime-out-btn ui-state-disabled"))),this.yCur&&this.yCur.text(AnyTime.pad(o,4)),this.yNext&&(this.yNext.text(AnyTime.pad(-1==o?1:o+1,4)),this.latest&&(n.setYear(o+1),n.getTime()>this.latest?this.yNext.addClass("AnyTime-out-btn ui-state-disabled"):this.yNext.removeClass("AnyTime-out-btn ui-state-disabled"))),this.latest&&this.yAhead&&(n.setYear(o+2),n.getTime()>this.latest?this.yAhead.addClass("AnyTime-out-btn ui-state-disabled"):this.yAhead.removeClass("AnyTime-out-btn ui-state-disabled")),n.setFullYear(this.time.getFullYear()),i.setFullYear(this.time.getFullYear());var r=0;o=this.time.getMonth(),t("#"+this.id+" .AnyTime-mon-btn").each(function(){n.setMonth(r),i.setDate(1),i.setMonth(r+1),i.setDate(0),t(this).AnyTime_current(r==o,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),r++}),n.setFullYear(this.time.getFullYear()),i.setFullYear(this.time.getFullYear()),n.setMonth(this.time.getMonth()),i.setMonth(this.time.getMonth(),1),o=this.time.getDate();var s=this.time.getMonth(),l=-1,c=n.getDay();this.fDOW>c&&(c+=7);var u=0,h=0;t("#"+this.id+" .AnyTime-wk").each(function(){h=a.fDOW,t(this).children().each(function(){if(h-a.fDOW<7){var e=t(this);0==u&&c>h||n.getMonth()!=s?(e.html("&#160;"),e.removeClass("AnyTime-dom-btn-filled AnyTime-cur-btn ui-state-default ui-state-highlight"),e.addClass("AnyTime-dom-btn-empty"),u?(1==n.getDate()&&0!=h?e.addClass("AnyTime-dom-btn-empty-after-filled"):e.removeClass("AnyTime-dom-btn-empty-after-filled"),n.getDate()<=7?e.addClass("AnyTime-dom-btn-empty-below-filled"):e.removeClass("AnyTime-dom-btn-empty-below-filled"),n.setDate(n.getDate()+1),i.setDate(i.getDate()+1)):(e.addClass("AnyTime-dom-btn-empty-above-filled"),h==c-1?e.addClass("AnyTime-dom-btn-empty-before-filled"):e.removeClass("AnyTime-dom-btn-empty-before-filled")),e.addClass("ui-state-default ui-state-disabled")):((r=n.getDate())==l&&n.setDate(++r),l=r,e.text(r),e.removeClass("AnyTime-dom-btn-empty AnyTime-dom-btn-empty-above-filled AnyTime-dom-btn-empty-before-filled AnyTime-dom-btn-empty-after-filled AnyTime-dom-btn-empty-below-filled ui-state-default ui-state-disabled"),e.addClass("AnyTime-dom-btn-filled ui-state-default"),e.AnyTime_current(r==o,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),n.setDate(r+1),i.setDate(r+1))}h++}),u++}),n.setFullYear(this.time.getFullYear()),i.setFullYear(this.time.getFullYear()),n.setMonth(this.time.getMonth(),this.time.getDate()),i.setMonth(this.time.getMonth(),this.time.getDate());var d=!this.twelveHr,p=this.time.getHours();t("#"+this.id+" .AnyTime-hr-btn").each(function(){var e,o=this.innerHTML;d?e=Number(o):(e=Number(o.substring(0,o.length-2)),"a"==o.charAt(o.length-2)?12==e&&(e=0):12>e&&(e+=12)),n.setHours(e),i.setHours(e),t(this).AnyTime_current(p==e,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),23>e&&n.setHours(n.getHours()+1)}),n.setHours(this.time.getHours()),i.setHours(this.time.getHours(),9);var f=this.time.getMinutes(),m=String(Math.floor(f/10)),g=String(f%10);if(t("#"+this.id+" .AnyTime-min-ten-btn:not(.AnyTime-min-ten-btn-empty)").each(function(){t(this).AnyTime_current(this.innerHTML==m,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),n.getMinutes()<50&&(n.setMinutes(n.getMinutes()+10),i.setMinutes(i.getMinutes()+10))}),n.setMinutes(10*Math.floor(this.time.getMinutes()/10)),i.setMinutes(10*Math.floor(this.time.getMinutes()/10)),t("#"+this.id+" .AnyTime-min-one-btn:not(.AnyTime-min-one-btn-empty)").each(function(){t(this).AnyTime_current(this.innerHTML==g,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),n.setMinutes(n.getMinutes()+1),i.setMinutes(i.getMinutes()+1)}),n.setMinutes(this.time.getMinutes()),i.setMinutes(this.time.getMinutes(),9),f=this.time.getSeconds(),m=String(Math.floor(f/10)),g=String(f%10),t("#"+this.id+" .AnyTime-sec-ten-btn:not(.AnyTime-sec-ten-btn-empty)").each(function(){t(this).AnyTime_current(this.innerHTML==m,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),n.getSeconds()<50&&(n.setSeconds(n.getSeconds()+10),i.setSeconds(i.getSeconds()+10))}),n.setSeconds(10*Math.floor(this.time.getSeconds()/10)),i.setSeconds(10*Math.floor(this.time.getSeconds()/10)),t("#"+this.id+" .AnyTime-sec-one-btn:not(.AnyTime-sec-one-btn-empty)").each(function(){t(this).AnyTime_current(this.innerHTML==g,(!a.earliest||i.getTime()>=a.earliest)&&(!a.latest||n.getTime()<=a.latest)),n.setSeconds(n.getSeconds()+1),i.setSeconds(i.getSeconds()+1)}),this.oConv){this.oConv.setUtcFormatOffsetAlleged(this.offMin),this.oConv.setUtcFormatOffsetSubIndex(this.offSI);var v=this.oConv.format(this.time);this.oCur.html(v)}if(e&&this.setFocus(e),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.div.show(),this.dO){this.oCur.css("width","0");var y=this.dT.width()-this.oMinW;40>y&&(y=40),this.oCur.css("width",String(y)+"px")}this.pop||this.ajax()},updODiv:function(e){var n=!1,i=null;this.oDiv.find(".AnyTime-off-off-btn").each(function(){this.AnyTime_offMin==a.offMin?this.AnyTime_offSI==a.offSI?t(this).AnyTime_current(n=!0,!0):(t(this).AnyTime_current(!1,!0),null==i&&(i=t(this))):t(this).AnyTime_current(!1,!0)}),n||null==i||i.AnyTime_current(!0,!0),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(e)},updYDiv:function(e){var n,i,o=1,r=this.time.getFullYear();0>r&&(o=-1,r=0-r),r=AnyTime.pad(r,4);var s=a.earliest&&new Date(a.earliest).getFullYear(),l=a.latest&&new Date(a.latest).getFullYear();n=0,this.yDiv.find(".AnyTime-mil-btn").each(function(){i=(!a.earliest||o*(n+(0>o?0:999))>=s)&&(!a.latest||l>=o*(n+(o>0?0:999))),t(this).AnyTime_current(this.innerHTML==r.substring(0,1),i),n+=1e3}),n=1e3*Math.floor(r/1e3),this.yDiv.find(".AnyTime-cent-btn").each(function(){i=(!a.earliest||o*(n+(0>o?0:99))>=s)&&(!a.latest||l>=o*(n+(o>0?0:99))),t(this).AnyTime_current(this.innerHTML==r.substring(1,2),i),n+=100}),n=100*Math.floor(r/100),this.yDiv.find(".AnyTime-dec-btn").each(function(){i=(!a.earliest||o*(n+(0>o?0:9))>=s)&&(!a.latest||l>=o*(n+(o>0?0:9))),t(this).AnyTime_current(this.innerHTML==r.substring(2,3),i),n+=10}),n=10*Math.floor(r/10),this.yDiv.find(".AnyTime-yr-btn").each(function(){i=(!a.earliest||o*n>=s)&&(!a.latest||l>=o*n),t(this).AnyTime_current(this.innerHTML==r.substring(3),i),n+=1}),this.yDiv.find(".AnyTime-bce-btn").each(function(){t(this).AnyTime_current(0>o,!a.earliest||a.earliest<0)}),this.yDiv.find(".AnyTime-ce-btn").each(function(){t(this).AnyTime_current(o>0,!a.latest||a.latest>0)}),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(e)},updVal:function(t){this.inp.val()!=t&&(this.inp.val(t),this.inp.change())}},o[r].initialize(r)},AnyTime.setEarliest=function(t,e){o[t].setEarliest(e)},AnyTime.setLatest=function(t,e){o[t].setLatest(e)}}(jQuery),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return In.apply(null,arguments)}function e(t){In=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return Mt(t,e,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(t){return null==t._pf&&(t._pf=l()),t._pf}function u(t){if(null==t._isValid){var e=c(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?s(c(e),t):c(e).userInvalidated=!0,e}function d(t,e){var n,i,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=c(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),$n.length>0)for(n in $n)i=$n[n],o=e[i],"undefined"!=typeof o&&(t[i]=o);return t}function p(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Hn===!1&&(Hn=!0,t.updateOffset(this),Hn=!1)}function f(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function v(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&g(t[i])!==g(e[i]))&&s++;return s+r}function y(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,i,o,r=0;r<t.length;){for(o=b(t[r]).split("-"),e=o.length,n=b(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=x(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&v(o,n,!0)>=e-1)break;e--}r++}return null}function x(t){var e=null;if(!Fn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ln._abbr,require("./locale/"+t),C(e)}catch(n){}return Fn[t]}function C(t,e){var n;return t&&(n="undefined"==typeof e?_(t):k(t,e),n&&(Ln=n)),Ln._abbr}function k(t,e){return null!==e?(e.abbr=t,Fn[t]=Fn[t]||new y,Fn[t].set(e),C(t),Fn[t]):(delete Fn[t],null)}function _(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ln;if(!n(t)){if(e=x(t))return e;t=[t]}return w(t)}function T(t,e){var n=t.toLowerCase();zn[n]=zn[n+"s"]=zn[e]=t}function S(t){return"string"==typeof t?zn[t]||zn[t.toLowerCase()]:void 0}function D(t){var e,n,i={};for(n in t)r(t,n)&&(e=S(n),e&&(i[e]=t[n]));return i}function M(e,n){return function(i){return null!=i?(E(this,e,i),t.updateOffset(this,n),this):A(this,e)}}function A(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function E(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function N(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=S(t),"function"==typeof this[t])return this[t](e);return this}function O(t,e,n){var i=""+Math.abs(t),o=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function P(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Yn[t]=o),e&&(Yn[e[0]]=function(){return O(o.apply(this,arguments),e[1],e[2])}),n&&(Yn[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,n,i=t.match(jn);for(e=0,n=i.length;n>e;e++)Yn[i[e]]?i[e]=Yn[i[e]]:i[e]=I(i[e]);return function(o){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}function $(t,e){return t.isValid()?(e=H(e,t.localeData()),Wn[e]=Wn[e]||L(e),Wn[e](t)):t.localeData().invalidDate()}function H(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Rn.lastIndex=0;i>=0&&Rn.test(t);)t=t.replace(Rn,n),Rn.lastIndex=0,i-=1;return t}function F(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function z(t,e,n){oi[t]=F(e)?e:function(t){return t&&n?n:e}}function j(t,e){return r(oi,t)?oi[t](e._strict,e._locale):new RegExp(R(t))}function R(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)ri[t[n]]=i}function Y(t,e){W(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function U(t,e,n){null!=e&&r(ri,t)&&ri[t](e,n._a,n,t)}function B(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t){return this._months[t.month()]}function X(t){return this._monthsShort[t.month()]}function V(t,e,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function K(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),B(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function Q(e){return null!=e?(K(this,e),t.updateOffset(this,!0),this):A(this,"Month")}function G(){return B(this.year(),this.month())}function Z(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[ai]<0||n[ai]>11?ai:n[li]<1||n[li]>B(n[si],n[ai])?li:n[ci]<0||n[ci]>24||24===n[ci]&&(0!==n[ui]||0!==n[hi]||0!==n[di])?ci:n[ui]<0||n[ui]>59?ui:n[hi]<0||n[hi]>59?hi:n[di]<0||n[di]>999?di:-1,c(t)._overflowDayOfYear&&(si>e||e>li)&&(e=li),c(t).overflow=e),t}function J(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&void 0}function tt(t,e){var n=!0;return s(function(){return n&&(J(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){mi[t]||(J(e),mi[t]=!0)}function nt(t){var e,n,i=t._i,o=gi.exec(i);if(o){for(c(t).iso=!0,e=0,n=vi.length;n>e;e++)if(vi[e][1].exec(i)){t._f=vi[e][0];break}for(e=0,n=yi.length;n>e;e++)if(yi[e][1].exec(i)){t._f+=(o[6]||" ")+yi[e][0];break}i.match(ei)&&(t._f+="Z"),xt(t)}else t._isValid=!1}function it(e){var n=bi.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ot(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return 1970>t&&a.setFullYear(t),a}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return at(this.year())}function ct(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=At(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ut(t){return ct(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function dt(){return this._week.doy}function pt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,n,i,o){var r,s=6+o-i,a=rt(t,0,1+s),l=a.getUTCDay();return o>l&&(l+=7),n=null!=n?1*n:o,r=1+s+7*(e-1)-l+n,{year:r>0?t:t-1,dayOfYear:r>0?r:st(t-1)+r}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,n){return null!=t?t:null!=e?e:n}function yt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bt(t){var e,n,i,o,r=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[li]&&null==t._a[ai]&&wt(t),t._dayOfYear&&(o=vt(t._a[si],i[si]),t._dayOfYear>st(o)&&(c(t)._overflowDayOfYear=!0),n=rt(o,0,t._dayOfYear),t._a[ai]=n.getUTCMonth(),t._a[li]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ci]&&0===t._a[ui]&&0===t._a[hi]&&0===t._a[di]&&(t._nextDay=!0,t._a[ci]=0),t._d=(t._useUTC?rt:ot).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ci]=24)}}function wt(t){var e,n,i,o,r,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,s=4,n=vt(e.GG,t._a[si],ct(At(),1,4).year),i=vt(e.W,1),o=vt(e.E,1)):(r=t._locale._week.dow,s=t._locale._week.doy,n=vt(e.gg,t._a[si],ct(At(),r,s).year),i=vt(e.w,1),null!=e.d?(o=e.d,r>o&&++i):o=null!=e.e?e.e+r:r),a=mt(n,i,o,s,r),t._a[si]=a.year,t._dayOfYear=a.dayOfYear}function xt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],c(e).empty=!0;var n,i,o,r,s,a=""+e._i,l=a.length,u=0;for(o=H(e._f,e._locale).match(jn)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(j(r,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&c(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Yn[r]?(i?c(e).empty=!1:c(e).unusedTokens.push(r),U(r,i,e)):e._strict&&!i&&c(e).unusedTokens.push(r);c(e).charsLeftOver=l-u,a.length>0&&c(e).unusedInput.push(a),c(e).bigHour===!0&&e._a[ci]<=12&&e._a[ci]>0&&(c(e).bigHour=void 0),e._a[ci]=Ct(e._locale,e._a[ci],e._meridiem),bt(e),Z(e)}function Ct(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function kt(t){var e,n,i,o,r;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],xt(e),u(e)&&(r+=c(e).charsLeftOver,r+=10*c(e).unusedTokens.length,c(e).score=r,(null==i||i>r)&&(i=r,n=e));s(t,n||e)}function _t(t){if(!t._d){var e=D(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],bt(t)}}function Tt(t){var e=new p(Z(St(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function St(t){var e=t._i,o=t._f;return t._locale=t._locale||_(t._l),null===e||void 0===o&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),f(e)?new p(Z(e)):(n(o)?kt(t):o?xt(t):i(e)?t._d=e:Dt(t),t))}function Dt(e){var r=e._i;void 0===r?e._d=new Date:i(r)?e._d=new Date((+r)):"string"==typeof r?it(e):n(r)?(e._a=o(r.slice(0),function(t){return parseInt(t,10)}),bt(e)):"object"==typeof r?_t(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function Mt(t,e,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=t,r._f=e,r._strict=i,Tt(r)}function At(t,e,n,i){return Mt(t,e,n,i,!1)}function Et(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return At();for(i=e[0],o=1;o<e.length;++o)(!e[o].isValid()||e[o][t](i))&&(i=e[o]);return i}function Nt(){var t=[].slice.call(arguments,0);return Et("isBefore",t)}function Ot(){var t=[].slice.call(arguments,0);return Et("isAfter",t)}function Pt(t){var e=D(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=_(),this._bubble()}function It(t){return t instanceof Pt}function Lt(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+O(~~(t/60),2)+e+O(~~t%60,2)})}function $t(t){var e=(t||"").match(ei)||[],n=e[e.length-1]||[],i=(n+"").match(_i)||["-",0,0],o=+(60*i[1])+g(i[2]);return"+"===i[0]?o:-o}function Ht(e,n){var o,r;return n._isUTC?(o=n.clone(),r=(f(e)||i(e)?+e:+At(e))-+o,o._d.setTime(+o._d+r),t.updateOffset(o,!1),o):At(e).local()}function Ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function zt(e,n){var i,o=this._offset||0;return null!=e?("string"==typeof e&&(e=$t(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Ft(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?ee(this,Qt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Ft(this)}function jt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Rt(t){return this.utcOffset(0,t)}function Wt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ft(this),"m")),this}function Yt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset($t(this._i)),this}function Ut(t){return t=t?At(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Bt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(d(t,this),t=St(t),t._a){var e=t._isUTC?a(t._a):At(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xt(){return!this._isUTC}function Vt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Qt(t,e){var n,i,o,s=t,a=null;return It(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Ti.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:g(a[li])*n,h:g(a[ci])*n,m:g(a[ui])*n,s:g(a[hi])*n,ms:g(a[di])*n}):(a=Si.exec(t))?(n="-"===a[1]?-1:1,s={y:Gt(a[2],n),M:Gt(a[3],n),d:Gt(a[4],n),h:Gt(a[5],n),m:Gt(a[6],n),s:Gt(a[7],n),w:Gt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Jt(At(s.from),At(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new Pt(s),It(t)&&r(t,"_locale")&&(i._locale=t._locale),i}function Gt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Zt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Jt(t,e){var n;return e=Ht(e,t),t.isBefore(e)?n=Zt(t,e):(n=Zt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var o,r;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Qt(n,i),ee(this,o,t),this}}function ee(e,n,i,o){var r=n._milliseconds,s=n._days,a=n._months;o=null==o||o,r&&e._d.setTime(+e._d+r*i),s&&E(e,"Date",A(e,"Date")+s*i),a&&K(e,A(e,"Month")+a*i),o&&t.updateOffset(e,s||a)}function ne(t,e){var n=t||At(),i=Ht(n,this).startOf("day"),o=this.diff(i,"days",!0),r=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(e&&e[r]||this.localeData().calendar(r,this,At(n)))}function ie(){return new p(this)}function oe(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:At(t),+this>+t):(n=f(t)?+t:+At(t),n<+this.clone().startOf(e))}function re(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:At(t),+t>+this):(n=f(t)?+t:+At(t),+this.clone().endOf(e)<n)}function se(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ae(t,e){var n;return e=S(e||"millisecond"),"millisecond"===e?(t=f(t)?t:At(t),+this===+t):(n=+At(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function le(t,e,n){var i,o,r=Ht(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=S(e),"year"===e||"month"===e||"quarter"===e?(o=ce(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:m(o)}function ce(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(n=t.clone().add(o-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(o+1,"months"),i=(e-r)/(n-r)),-(o+i)}function ue(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=$(this,e||t.defaultFormat);return this.localeData().postformat(n)}function pe(t,e){return this.isValid()?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(At(),t)}function me(t,e){return this.isValid()?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(At(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=_(t),null!=e&&(this._locale=e),this)}function ye(){return this._locale}function be(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=S(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function xe(){return+this._d-6e4*(this._offset||0)}function Ce(){return Math.floor(+this/1e3)}function ke(){return this._offset?new Date((+this)):this._d}function _e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Te(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Se(){return u(this)}function De(){return s({},c(this))}function Me(){return c(this).overflow}function Ae(t,e){P(0,[t,t.length],0,e)}function Ee(t,e,n){return ct(At([t,11,31+e-n]),e,n).week}function Ne(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Oe(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Pe(){return Ee(this.year(),1,4)}function Ie(){var t=this.localeData()._week;return Ee(this.year(),t.dow,t.doy)}function Le(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function $e(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function He(t){return this._weekdays[t.day()]}function Fe(t){return this._weekdaysShort[t.day()]}function ze(t){return this._weekdaysMin[t.day()]}function je(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=At([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Re(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=$e(t,this.localeData()),this.add(t-e,"d")):e}function We(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ye(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ue(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Be(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ve(t,e){e[di]=g(1e3*("0."+t))}function Ke(){return this._isUTC?"UTC":""}function Qe(){return this._isUTC?"Coordinated Universal Time":""}function Ge(t){return At(1e3*t)}function Ze(){return At.apply(null,arguments).parseZone()}function Je(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function on(t){return t}function rn(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)}function sn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function an(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(t,e,n,i){var o=_(),r=a().set(i,e);return o[n](r,t)}function cn(t,e,n,i,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ln(t,e,n,o);var r,s=[];for(r=0;i>r;r++)s[r]=ln(t,r,n,o);return s}function un(t,e){return cn(t,e,"months",12,"month")}function hn(t,e){return cn(t,e,"monthsShort",12,"month")}function dn(t,e){return cn(t,e,"weekdays",7,"day")}function pn(t,e){return cn(t,e,"weekdaysShort",7,"day")}function fn(t,e){return cn(t,e,"weekdaysMin",7,"day")}function mn(){var t=this._data;return this._milliseconds=Ki(this._milliseconds),this._days=Ki(this._days),this._months=Ki(this._months),t.milliseconds=Ki(t.milliseconds),t.seconds=Ki(t.seconds),t.minutes=Ki(t.minutes),t.hours=Ki(t.hours),t.months=Ki(t.months),t.years=Ki(t.years),this}function gn(t,e,n,i){var o=Qt(e,n);return t._milliseconds+=i*o._milliseconds,
t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function vn(t,e){return gn(this,t,e,1)}function yn(t,e){return gn(this,t,e,-1)}function bn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,i,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||0>=r&&0>=s&&0>=a||(r+=864e5*bn(Cn(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=m(r/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,s+=m(n/24),o=m(xn(s)),a+=o,s-=bn(Cn(o)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function xn(t){return 4800*t/146097}function Cn(t){return 146097*t/4800}function kn(t){var e,n,i=this._milliseconds;if(t=S(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+xn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Cn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function _n(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Tn(t){return function(){return this.as(t)}}function Sn(t){return t=S(t),this[t+"s"]()}function Dn(t){return function(){return this._data[t]}}function Mn(){return m(this.days()/7)}function An(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function En(t,e,n){var i=Qt(t).abs(),o=ho(i.as("s")),r=ho(i.as("m")),s=ho(i.as("h")),a=ho(i.as("d")),l=ho(i.as("M")),c=ho(i.as("y")),u=o<po.s&&["s",o]||1===r&&["m"]||r<po.m&&["mm",r]||1===s&&["h"]||s<po.h&&["hh",s]||1===a&&["d"]||a<po.d&&["dd",a]||1===l&&["M"]||l<po.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,An.apply(null,u)}function Nn(t,e){return void 0!==po[t]&&(void 0===e?po[t]:(po[t]=e,!0))}function On(t){var e=this.localeData(),n=En(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Pn(){var t,e,n,i=fo(this._milliseconds)/1e3,o=fo(this._days),r=fo(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60,n=m(r/12),r%=12;var s=n,a=r,l=o,c=e,u=t,h=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||h?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var In,Ln,$n=t.momentProperties=[],Hn=!1,Fn={},zn={},jn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Yn={},Un=/\d/,Bn=/\d\d/,qn=/\d{3}/,Xn=/\d{4}/,Vn=/[+-]?\d{6}/,Kn=/\d\d?/,Qn=/\d{1,3}/,Gn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Jn=/\d+/,ti=/[+-]?\d+/,ei=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oi={},ri={},si=0,ai=1,li=2,ci=3,ui=4,hi=5,di=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),z("M",Kn),z("MM",Kn,Bn),z("MMM",ii),z("MMMM",ii),W(["M","MM"],function(t,e){e[ai]=g(t)-1}),W(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[ai]=o:c(n).invalidMonth=t});var pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mi={};t.suppressDeprecationWarnings=!1;var gi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),T("year","y"),z("Y",ti),z("YY",Kn,Bn),z("YYYY",Gn,Xn),z("YYYYY",Zn,Vn),z("YYYYYY",Zn,Vn),W(["YYYYY","YYYYYY"],si),W("YYYY",function(e,n){n[si]=2===e.length?t.parseTwoDigitYear(e):g(e)}),W("YY",function(e,n){n[si]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var wi=M("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),z("w",Kn),z("ww",Kn,Bn),z("W",Kn),z("WW",Kn,Bn),Y(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=g(t)});var xi={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),z("DDD",Qn),z("DDDD",qn),W(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),t.ISO_8601=function(){};var Ci=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return this>t?this:t}),ki=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return t>this?this:t});Lt("Z",":"),Lt("ZZ",""),z("Z",ei),z("ZZ",ei),W(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=$t(t)});var _i=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ti=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Si=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Pt.prototype;var Di=te(1,"add"),Mi=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ai=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ae("gggg","weekYear"),Ae("ggggg","weekYear"),Ae("GGGG","isoWeekYear"),Ae("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),z("G",ti),z("g",ti),z("GG",Kn,Bn),z("gg",Kn,Bn),z("GGGG",Gn,Xn),z("gggg",Gn,Xn),z("GGGGG",Zn,Vn),z("ggggg",Zn,Vn),Y(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=g(t)}),Y(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),P("Q",0,0,"quarter"),T("quarter","Q"),z("Q",Un),W("Q",function(t,e){e[ai]=3*(g(t)-1)}),P("D",["DD",2],"Do","date"),T("date","D"),z("D",Kn),z("DD",Kn,Bn),z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),W(["D","DD"],li),W("Do",function(t,e){e[li]=g(t.match(Kn)[0],10)});var Ei=M("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),z("d",Kn),z("e",Kn),z("E",Kn),z("dd",ii),z("ddd",ii),z("dddd",ii),Y(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:c(n).invalidWeekday=t}),Y(["d","e","E"],function(t,e,n,i){e[i]=g(t)});var Ni="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Ue("a",!0),Ue("A",!1),T("hour","h"),z("a",Be),z("A",Be),z("H",Kn),z("h",Kn),z("HH",Kn,Bn),z("hh",Kn,Bn),W(["H","HH"],ci),W(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),W(["h","hh"],function(t,e,n){e[ci]=g(t),c(n).bigHour=!0});var Ii=/[ap]\.?m?\.?/i,Li=M("Hours",!0);P("m",["mm",2],0,"minute"),T("minute","m"),z("m",Kn),z("mm",Kn,Bn),W(["m","mm"],ui);var $i=M("Minutes",!1);P("s",["ss",2],0,"second"),T("second","s"),z("s",Kn),z("ss",Kn,Bn),W(["s","ss"],hi);var Hi=M("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),z("S",Qn,Un),z("SS",Qn,Bn),z("SSS",Qn,qn);var Fi;for(Fi="SSSS";Fi.length<=9;Fi+="S")z(Fi,Jn);for(Fi="S";Fi.length<=9;Fi+="S")W(Fi,Ve);var zi=M("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var ji=p.prototype;ji.add=Di,ji.calendar=ne,ji.clone=ie,ji.diff=le,ji.endOf=we,ji.format=de,ji.from=pe,ji.fromNow=fe,ji.to=me,ji.toNow=ge,ji.get=N,ji.invalidAt=Me,ji.isAfter=oe,ji.isBefore=re,ji.isBetween=se,ji.isSame=ae,ji.isValid=Se,ji.lang=Ai,ji.locale=ve,ji.localeData=ye,ji.max=ki,ji.min=Ci,ji.parsingFlags=De,ji.set=N,ji.startOf=be,ji.subtract=Mi,ji.toArray=_e,ji.toObject=Te,ji.toDate=ke,ji.toISOString=he,ji.toJSON=he,ji.toString=ue,ji.unix=Ce,ji.valueOf=xe,ji.year=wi,ji.isLeapYear=lt,ji.weekYear=Ne,ji.isoWeekYear=Oe,ji.quarter=ji.quarters=Le,ji.month=Q,ji.daysInMonth=G,ji.week=ji.weeks=pt,ji.isoWeek=ji.isoWeeks=ft,ji.weeksInYear=Ie,ji.isoWeeksInYear=Pe,ji.date=Ei,ji.day=ji.days=Re,ji.weekday=We,ji.isoWeekday=Ye,ji.dayOfYear=gt,ji.hour=ji.hours=Li,ji.minute=ji.minutes=$i,ji.second=ji.seconds=Hi,ji.millisecond=ji.milliseconds=zi,ji.utcOffset=zt,ji.utc=Rt,ji.local=Wt,ji.parseZone=Yt,ji.hasAlignedHourOffset=Ut,ji.isDST=Bt,ji.isDSTShifted=qt,ji.isLocal=Xt,ji.isUtcOffset=Vt,ji.isUtc=Kt,ji.isUTC=Kt,ji.zoneAbbr=Ke,ji.zoneName=Qe,ji.dates=tt("dates accessor is deprecated. Use date instead.",Ei),ji.months=tt("months accessor is deprecated. Use month instead",Q),ji.years=tt("years accessor is deprecated. Use year instead",wi),ji.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",jt);var Ri=ji,Wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Yi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ui="Invalid date",Bi="%d",qi=/\d{1,2}/,Xi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vi=y.prototype;Vi._calendar=Wi,Vi.calendar=Je,Vi._longDateFormat=Yi,Vi.longDateFormat=tn,Vi._invalidDate=Ui,Vi.invalidDate=en,Vi._ordinal=Bi,Vi.ordinal=nn,Vi._ordinalParse=qi,Vi.preparse=on,Vi.postformat=on,Vi._relativeTime=Xi,Vi.relativeTime=rn,Vi.pastFuture=sn,Vi.set=an,Vi.months=q,Vi._months=pi,Vi.monthsShort=X,Vi._monthsShort=fi,Vi.monthsParse=V,Vi.week=ut,Vi._week=xi,Vi.firstDayOfYear=dt,Vi.firstDayOfWeek=ht,Vi.weekdays=He,Vi._weekdays=Ni,Vi.weekdaysMin=ze,Vi._weekdaysMin=Pi,Vi.weekdaysShort=Fe,Vi._weekdaysShort=Oi,Vi.weekdaysParse=je,Vi.isPM=qe,Vi._meridiemParse=Ii,Vi.meridiem=Xe,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",C),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",_);var Ki=Math.abs,Qi=Tn("ms"),Gi=Tn("s"),Zi=Tn("m"),Ji=Tn("h"),to=Tn("d"),eo=Tn("w"),no=Tn("M"),io=Tn("y"),oo=Dn("milliseconds"),ro=Dn("seconds"),so=Dn("minutes"),ao=Dn("hours"),lo=Dn("days"),co=Dn("months"),uo=Dn("years"),ho=Math.round,po={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,mo=Pt.prototype;mo.abs=mn,mo.add=vn,mo.subtract=yn,mo.as=kn,mo.asMilliseconds=Qi,mo.asSeconds=Gi,mo.asMinutes=Zi,mo.asHours=Ji,mo.asDays=to,mo.asWeeks=eo,mo.asMonths=no,mo.asYears=io,mo.valueOf=_n,mo._bubble=wn,mo.get=Sn,mo.milliseconds=oo,mo.seconds=ro,mo.minutes=so,mo.hours=ao,mo.days=lo,mo.weeks=Mn,mo.months=co,mo.years=uo,mo.humanize=On,mo.toISOString=Pn,mo.toString=Pn,mo.toJSON=Pn,mo.locale=ve,mo.localeData=ye,mo.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),mo.lang=Ai,P("X",0,0,"unix"),P("x",0,0,"valueOf"),z("x",ti),z("X",ni),W("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),W("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.10.6",e(At),t.fn=Ri,t.min=Nt,t.max=Ot,t.utc=a,t.unix=Ge,t.months=un,t.isDate=i,t.locale=C,t.invalid=h,t.duration=Qt,t.isMoment=f,t.weekdays=dn,t.parseZone=Ze,t.localeData=_,t.isDuration=It,t.monthsShort=hn,t.weekdaysMin=fn,t.defineLocale=k,t.weekdaysShort=pn,t.normalizeUnits=S,t.relativeTimeThreshold=Nn;var go=t;return go}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,o){t.daterangepicker=e(t,o,n,i)});else if("undefined"!=typeof exports){var n=require("moment"),i=window.jQuery;if(void 0===i)try{i=require("jquery")}catch(o){if(!i)throw new Error("jQuery dependency not found")}e(t,exports,n,i)}else t.daterangepicker=e(t,{},t.moment||moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){var o=function(t,e,o){if(this.parentEl="body",this.element=i(t),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.timeZone=n().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",startLabel:"Start date:",endLabel:"End date:",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),e=i.extend(this.element.data(),e),"string"!=typeof e.template&&(e.template='<div class="daterangepicker dropdown-menu"><div class="calendars"><div class="calendar left"><div class="calendar-table"></div><div class="daterangepicker_input"><div class="calendar-time"><div></div></div></div></div><div class="calendar right"><div class="calendar-table"></div><div class="daterangepicker_input"><div class="calendar-time"><div></div></div></div></div></div><div class="ranges"><div class="daterangepicker-inputs"><div class="daterangepicker_input"><span class="start-date-label"></span><input class="form-control" type="text" name="daterangepicker_start" value="" /><i class="icon-calendar3"></i></div><div class="daterangepicker_input"><span class="end-date-label"></span><input class="form-control" type="text" name="daterangepicker_end" value="" /><i class="icon-calendar3"></i></div></div><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=i(e.parentEl&&i(e.parentEl).length?e.parentEl:this.parentEl),this.container=i(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.startLabel&&(this.locale.startLabel=e.locale.startLabel),"string"==typeof e.locale.endLabel&&(this.locale.endLabel=e.locale.endLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.startDate&&(this.startDate=n(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=n(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=n(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=n(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=n(e.startDate)),"object"==typeof e.endDate&&(this.endDate=n(e.endDate)),"object"==typeof e.minDate&&(this.minDate=n(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=n(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var s,a,l;if("undefined"==typeof e.startDate&&"undefined"==typeof e.endDate&&i(this.element).is("input[type=text]")){var c=i(this.element).val(),u=c.split(this.locale.separator);s=a=null,2==u.length?(s=n(u[0],this.locale.format),a=n(u[1],this.locale.format)):this.singleDatePicker&&""!==c&&(s=n(c,this.locale.format),a=n(c,this.locale.format)),null!==s&&null!==a&&(this.setStartDate(s),this.setEndDate(a))}if("string"==typeof e.timeZone||"number"==typeof e.timeZone?("string"==typeof e.timeZone&&"undefined"!=typeof n.tz?this.timeZone=n.tz.zone(e.timeZone).parse(new Date)*-1:this.timeZone=e.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=n(this.startDate).utcOffset(),"object"==typeof e.ranges){for(l in e.ranges){s="string"==typeof e.ranges[l][0]?n(e.ranges[l][0],this.locale.format):n(e.ranges[l][0]),a="string"==typeof e.ranges[l][1]?n(e.ranges[l][1],this.locale.format):n(e.ranges[l][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h=this.maxDate;this.dateLimit&&s.clone().add(this.dateLimit).isAfter(h)&&(h=s.clone().add(this.dateLimit)),h&&a.isAfter(h)&&(a=h.clone()),this.minDate&&a.isBefore(this.minDate)||h&&s.isAfter(h)||(this.ranges[l]=[s,a])}var d="<ul>";for(l in this.ranges)d+="<li>"+l+"</li>";d+="<li>"+this.locale.customRangeLabel+"</li>",d+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(d)}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),"undefined"!=typeof e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".start-date-label").html(this.locale.startLabel),this.container.find(".end-date-label").html(this.locale.endLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",i.proxy(this.showCalendars,this)).on("keyup.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.updateFormInputs,this)),this.container.find(".daterangepicker-inputs").on("click.daterangepicker",".daterangepicker_input input",i.proxy(this.showCalendars,this)).on("keyup.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.updateFormInputs,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.controlChanged,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};o.prototype={constructor:o,setStartDate:function(t){"string"==typeof t&&(this.startDate=n(t,this.locale.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=n(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=n(t,this.locale.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=n(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.updateMonthsInView()},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){this.endDate?(this.leftCalendar.month=this.startDate.clone().date(2),this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year()?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")):this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}if(this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate){var o=!0,r=0;for(var s in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[s][0])&&this.endDate.isSame(this.ranges[s][1])){o=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[s][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[s][1].format("YYYY-MM-DD")){o=!1,this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").html();break}r++}o&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())}},renderCalendar:function(t){var e="left"==t?this.leftCalendar:this.rightCalendar,o=e.month.month(),r=e.month.year(),s=e.month.hour(),a=e.month.minute(),l=e.month.second(),c=n([r,o]).daysInMonth(),u=n([r,o,1]),h=n([r,o,c]),d=n(u).subtract(1,"month").month(),p=n(u).subtract(1,"month").year(),f=n([p,d]).daysInMonth(),m=u.day(),e=[];e.firstDay=u,e.lastDay=h;for(var g=0;g<6;g++)e[g]=[];var v=f-m+this.locale.firstDay+1;v>f&&(v-=7),m==this.locale.firstDay&&(v=f-6);for(var y,b,w=n([p,d,v,12,a,l]),g=0,y=0,b=0;g<42;g++,y++,w=n(w).add(24,"hour"))g>0&&y%7===0&&(y=0,b++),e[b][y]=w.clone().hour(s).minute(a).second(l),w.hour(12),this.minDate&&e[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[b][y].isBefore(this.minDate)&&"left"==t&&(e[b][y]=this.minDate.clone()),this.maxDate&&e[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[b][y].isAfter(this.maxDate)&&"right"==t&&(e[b][y]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var x="left"==t?this.minDate:this.startDate,C=this.maxDate,k=("left"==t?this.startDate:this.endDate,'<table class="table-condensed">');k+="<thead>",k+="<tr>",this.showWeekNumbers&&(k+="<th></th>"),k+=!x||x.isBefore(e.firstDay)?'<th class="prev available"><i class="icon-arrow-left32"></i></th>':"<th></th>";var _=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var T=e[1][1].month(),S=e[1][1].year(),D=C&&C.year()||S+5,M=x&&x.year()||S-50,A=S==M,E=S==D,N='<select class="monthselect form-control input-sm">',O=0;O<12;O++)(!A||O>=x.month())&&(!E||O<=C.month())&&(N+="<option value='"+O+"'"+(O===T?" selected='selected'":"")+">"+this.locale.monthNames[O]+"</option>");N+="</select>";for(var P='<select class="yearselect  form-control input-sm">',I=M;I<=D;I++)P+='<option value="'+I+'"'+(I===S?' selected="selected"':"")+">"+I+"</option>";P+="</select>",_=N+P}if(k+='<th colspan="5" class="month">'+_+"</th>",k+=!C||C.isAfter(e.lastDay)?'<th class="next available"><i class="icon-arrow-right32"></i></th>':"<th></th>",k+="</tr>",k+="<tr>",this.showWeekNumbers&&(k+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(t,e){k+="<th>"+e+"</th>"}),k+="</tr>",k+="</thead>",k+="<tbody>",null==this.endDate&&this.dateLimit){var L=this.startDate.clone().add(this.dateLimit).endOf("day");C&&!L.isBefore(C)||(C=L)}for(var b=0;b<6;b++){k+="<tr>",this.showWeekNumbers&&(k+='<td class="week">'+e[b][0].week()+"</td>");for(var y=0;y<7;y++){var $=[];e[b][y].isSame(new Date,"day")&&$.push("today"),e[b][y].isoWeekday()>5&&$.push("weekend"),e[b][y].month()!=e[1][1].month()&&$.push("off"),this.minDate&&e[b][y].isBefore(this.minDate,"day")&&$.push("off","disabled"),C&&e[b][y].isAfter(C,"day")&&$.push("off","disabled"),e[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&$.push("active","start-date"),null!=this.endDate&&e[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&$.push("active","end-date"),null!=this.endDate&&e[b][y]>this.startDate&&e[b][y]<this.endDate&&$.push("in-range");for(var H="",F=!1,g=0;g<$.length;g++)H+=$[g]+" ","disabled"==$[g]&&(F=!0);F||(H+="available"),k+='<td class="'+H.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+e[b][y].date()+"</td>"}k+="</tr>"}k+="</tbody>",k+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(k)},renderTimePicker:function(t){var e,n,i=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==t?(e=this.startDate.clone(),n=this.minDate):"right"==t&&(e=this.endDate?this.endDate.clone():this.startDate.clone(),n=this.startDate),html='<select class="hourselect form-control input-sm">';for(var o=this.timePicker24Hour?0:1,r=this.timePicker24Hour?23:12,s=o;s<=r;s++){var a=s;this.timePicker24Hour||(a=e.hour()>=12?12==s?12:s+12:12==s?0:s);var l=e.clone().hour(a),c=!1;n&&l.minute(59).isBefore(n)&&(c=!0),i&&l.minute(0).isAfter(i)&&(c=!0),
a!=e.hour()||c?c?html+='<option value="'+s+'" disabled="disabled" class="disabled">'+s+"</option>":html+='<option value="'+s+'">'+s+"</option>":html+='<option value="'+s+'" selected="selected">'+s+"</option>"}html+="</select> ",html+=': <select class="minuteselect form-control input-sm">';for(var s=0;s<60;s+=this.timePickerIncrement){var u=s<10?"0"+s:s,l=e.clone().minute(s),c=!1;n&&l.second(59).isBefore(n)&&(c=!0),i&&l.second(0).isAfter(i)&&(c=!0),e.minute()!=s||c?c?html+='<option value="'+s+'" disabled="disabled" class="disabled">'+u+"</option>":html+='<option value="'+s+'">'+u+"</option>":html+='<option value="'+s+'" selected="selected">'+u+"</option>"}if(html+="</select> ",this.timePickerSeconds){html+=': <select class="secondselect form-control input-sm">';for(var s=0;s<60;s++){var u=s<10?"0"+s:s,l=e.clone().second(s),c=!1;n&&l.isBefore(n)&&(c=!0),i&&l.isAfter(i)&&(c=!0),e.second()!=s||c?c?html+='<option value="'+s+'" disabled="disabled" class="disabled">'+u+"</option>":html+='<option value="'+s+'">'+u+"</option>":html+='<option value="'+s+'" selected="selected">'+u+"</option>"}html+="</select> "}if(!this.timePicker24Hour){html+='<select class="ampmselect form-control input-sm">';var h="",d="";n&&e.clone().hour(12).minute(0).second(0).isBefore(n)&&(h=' disabled="disabled" class="disabled"'),i&&e.clone().hour(0).minute(0).second(0).isAfter(i)&&(d=' disabled="disabled" class="disabled"'),e.hour()>=12?html+='<option value="AM"'+h+'>AM</option><option value="PM" selected="selected"'+d+">PM</option>":html+='<option value="AM" selected="selected"'+h+'>AM</option><option value="PM"'+d+">PM</option>",html+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(html)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var t,e={top:0,left:0},n=i(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=i.proxy(function(t){this.outsideClick(t)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0,i(".daterange-custom").addClass("is-opened"))},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change")),i(document).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1,i(".daterange-custom").removeClass("is-opened"))},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=i(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var e=i(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){if(i(t.target).hasClass("available")){var e=i(t.target).attr("data-title"),n=e.substr(1,1),o=e.substr(3,1),r=i(t.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o];this.endDate?this.container.find("input[name=daterangepicker_start]").val(s.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(s.format(this.locale.format));var a=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,e){if(!i(e).hasClass("week")){var n=i(e).attr("data-title"),o=n.substr(1,1),r=n.substr(3,1),u=i(e).parents(".calendar"),h=u.hasClass("left")?a.calendar[o][r]:l.calendar[o][r];h.isAfter(c)&&h.isBefore(s)?i(e).addClass("in-range"):i(e).removeClass("in-range")}})}},clickDate:function(t){if(i(t.target).hasClass("available")){var e=i(t.target).attr("data-title"),n=e.substr(1,1),o=e.substr(3,1),r=i(t.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o];if(this.endDate||s.isBefore(this.startDate)){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=r.find(".ampmselect").val();"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}var c=parseInt(this.container.find(".left .minuteselect").val(),10),u=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;s=s.clone().hour(a).minute(c).second(u)}this.endDate=null,this.setStartDate(s.clone())}else{if(this.timePicker){var a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}var c=parseInt(this.container.find(".right .minuteselect").val(),10),u=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;s=s.clone().hour(a).minute(c).second(u)}this.setEndDate(s.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=i(t.target).closest(".calendar").hasClass("left"),n=e?"left":"right",o=this.container.find(".calendar."+n),r=parseInt(o.find(".monthselect").val(),10),s=o.find(".yearselect").val();e||(s<this.startDate.year()||s==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),s=this.maxDate.year()),this[n+"Calendar"].month.month(r).year(s),this.updateCalendars()},timeChanged:function(t){var e=i(t.target).closest(".calendar"),n=e.hasClass("left"),o=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=e.find(".ampmselect").val();"PM"===a&&o<12&&(o+=12),"AM"===a&&12===o&&(o=0)}if(n){var l=this.startDate.clone();l.hour(o),l.minute(r),l.second(s),this.setStartDate(l),this.singleDatePicker&&(this.endDate=this.startDate.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(o),c.minute(r),c.second(s),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var e=i(t.target).closest(".calendar").hasClass("right"),o=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);o.isValid()&&r.isValid()&&(e&&r.isBefore(o)&&(o=r.clone()),this.setStartDate(o),this.setEndDate(r),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},controlChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),e=null,i=null;2===t.length&&(e=n(t[0],this.locale.format).utcOffset(this.timeZone),i=n(t[1],this.locale.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===i)&&(e=n(this.element.val(),this.locale.format).utcOffset(this.timeZone),i=e),this.setStartDate(e),this.setEndDate(i),this.updateView()}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},i.fn.daterangepicker=function(t,e){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new o(n,t,e))}),this}}),!function(t,e){"use strict";function n(t){this.callback=t,this.ticking=!1}function i(e){return e&&"undefined"!=typeof t&&(e===t||e.nodeType)}function o(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,n,r=t||{};for(n=1;n<arguments.length;n++){var s=arguments[n]||{};for(e in s)r[e]="object"!=typeof r[e]||i(r[e])?r[e]||s[e]:o(r[e],s[e])}return r}function r(t){return t===Object(t)?t:{down:t,up:t}}function s(t,e){e=o(e,s.options),this.lastKnownScrollY=0,this.elem=t,this.debouncer=new n(this.update.bind(this)),this.tolerance=r(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop}var a={bind:!!function(){}.bind,classList:"classList"in e.documentElement,rAF:!!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame)};t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,n.prototype={constructor:n,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},s.prototype={constructor:s,init:function(){return s.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;(t.contains(e.pinned)||!t.contains(e.unpinned))&&(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(e.documentElement||e.body.parentNode||e.body).scrollTop},getViewportHeight:function(){return t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight},getDocumentHeight:function(){var t=e.body,n=e.documentElement;return Math.max(t.scrollHeight,n.scrollHeight,t.offsetHeight,n.offsetHeight,t.clientHeight,n.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===t||this.scroller===e.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=0>t,n=t+this.getViewportHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},s.options={tolerance:{up:0,down:0},offset:0,scroller:t,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},s.cutsTheMustard="undefined"!=typeof a&&a.rAF&&a.bind&&a.classList,t.Headroom=s}(window,document),!function(t){t&&(t.fn.headroom=function(e){return this.each(function(){var n=t(this),i=n.data("headroom"),o="object"==typeof e&&e;o=t.extend(!0,{},Headroom.options,o),i||(i=new Headroom(this,o),i.init(),n.data("headroom",i)),"string"==typeof e&&i[e]()})},t("[data-headroom]").each(function(){var e=t(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),function(t,e,n,i){var o=n("html"),r=n(t),s=n(e),a=n.fancybox=function(){a.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=e.createTouch!==i,h=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(t){return t&&"string"===n.type(t)},p=function(t){return d(t)&&0<t.indexOf("%")},f=function(t,e){var n=parseInt(t,10)||0;return e&&p(t)&&(n*=a.getViewport()[e]/100),Math.ceil(n)},m=function(t,e){return f(t,e)+"px"};n.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(n.isPlainObject(e)||(e={}),!1!==a.close(!0)))return n.isArray(t)||(t=h(t)?n(t).get():[t]),n.each(t,function(o,r){var s,l,c,u,p,f={};"object"===n.type(r)&&(r.nodeType&&(r=n(r)),h(r)?(f={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},n.metadata&&n.extend(!0,f,r.metadata())):f=r),s=e.href||f.href||(d(r)?r:null),l=e.title!==i?e.title:f.title||"",u=(c=e.content||f.content)?"html":e.type||f.type,!u&&f.isDom&&(u=r.data("fancybox-type"),u||(u=(u=r.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),d(s)&&(u||(a.isImage(s)?u="image":a.isSWF(s)?u="swf":"#"===s.charAt(0)?u="inline":d(r)&&(u="html",c=r)),"ajax"===u&&(p=s.split(/\s+/,2),s=p.shift(),p=p.shift())),c||("inline"===u?s?c=n(d(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):f.isDom&&(c=r):"html"===u?c=s:!u&&!s&&f.isDom&&(u="inline",c=r)),n.extend(f,{href:s,type:u,content:c,title:l,selector:p}),t[o]=f}),a.opts=n.extend(!0,{},a.defaults,e),e.keys!==i&&(a.opts.keys=!!e.keys&&n.extend({},a.defaults.keys,e.keys)),a.group=t,a._start(a.opts.index)},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==t?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){e(),s.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===t||!a.player.isActive&&!1!==t?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),a.trigger("onPlayStart")):i()},next:function(t){var e=a.current;e&&(d(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(d(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var o=a.current;o&&(t=f(t),a.direction=e||o.direction[t>=o.index?"next":"prev"],a.router=n||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==i&&(a.cancel(),a._start(t)))},reposition:function(t,e){var i,o=a.current,r=o?o.wrap:null;r&&(i=a._getPosition(e),t&&"scroll"===t.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),o.pos=n.extend({},o.dim,i)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(c),c=null),a.isOpen&&!c&&(c=setTimeout(function(){var i=a.current;i&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&a._setDimension(),"scroll"===e&&i.canShrink||a.reposition(t),a.trigger("onUpdate"),c=null)},n&&!u?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===n.type(t)?t:!a.current.fitToView,u&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){s.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),s.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=u&&t.innerWidth?t.innerWidth:r.width(),n.h=u&&t.innerHeight?t.innerHeight:r.height()),n},unbindEvents:function(){a.wrap&&h(a.wrap)&&a.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),(t=e.keys)&&s.bind("keydown.fb",function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;return(27!==r||!a.coming)&&void(!o.ctrlKey&&!o.altKey&&!o.shiftKey&&!o.metaKey&&(!s||!s.type&&!n(s).is("[contenteditable]"))&&n.each(t,function(t,s){return 1<e.group.length&&s[r]!==i?(a[t](s[r]),o.preventDefault(),!1):-1<n.inArray(r,s)?(a[t](),o.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,i,o,r){for(var s=n(t.target||null),l=!1;s.length&&!l&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=n(s).parent();0!==i&&!l&&1<a.group.length&&!e.canShrink&&(0<r||0<o?a.prev(0<r?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var i,o=e||a.coming||a.current;if(o){if(n.isFunction(o[t])&&(i=o[t].apply(o,Array.prototype.slice.call(arguments,1))),!1===i)return!1;o.helpers&&n.each(o.helpers,function(e,i){i&&a.helpers[e]&&n.isFunction(a.helpers[e][t])&&a.helpers[e][t](n.extend(!0,{},a.helpers[e].defaults,i),o)}),s.trigger(t)}},isImage:function(t){return d(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return d(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,o={};if(t=f(t),e=a.group[t]||null,!e)return!1;if(o=n.extend(!0,{},a.opts,e),e=o.margin,i=o.padding,"number"===n.type(e)&&(o.margin=[e,e,e,e]),"number"===n.type(i)&&(o.padding=[i,i,i,i]),o.modal&&n.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=a.group,o.index=t,a.coming=o,!1===a.trigger("beforeLoad"))a.coming=null;else{if(i=o.type,e=o.href,!i)return a.coming=null,!(!a.current||!a.router||"jumpto"===a.router)&&(a.current.index=t,a[a.router](a.direction));if(a.isActive=!0,"image"!==i&&"swf"!==i||(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===i&&(o.aspectRatio=!0),"iframe"===i&&u&&(o.scrolling="scroll"),o.wrap=n(o.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),n.extend(o,{skin:n(".fancybox-skin",o.wrap),outer:n(".fancybox-outer",o.wrap),inner:n(".fancybox-inner",o.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){o.skin.css("padding"+e,m(o.padding[t]))}),a.trigger("onReady"),"inline"===i||"html"===i){if(!o.content||!o.content.length)return a._error("content")}else if(!e)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()}},_error:function(t){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width/a.opts.pixelRatio,a.coming.height=this.height/a.opts.pixelRatio,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,!0!==t.complete&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){n(this).data("ready",1),u||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,n=a.group,i=a.current,o=n.length,r=i.preload?Math.min(i.preload,o-1):0;for(e=1;e<=r;e+=1)t=n[(i.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,i,o,r,s=a.coming,l=a.current;if(a.hideLoading(),s&&!1!==a.isActive)if(!1===a.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=s.content,e=s.type,i=s.scrolling,n.extend(a,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,e){case"inline":case"ajax":case"html":s.selector?t=n("<div>").html(t).find(s.selector):h(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),s.wrap.bind("onReset",function(){n(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=s.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',r="",n.each(s.swf,function(e,n){t+='<param name="'+e+'" value="'+n+'"></param>',r+=" "+e+'="'+n+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!h(t)||!t.parent().is(s.inner))&&s.inner.append(t),a.trigger("beforeShow"),s.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():n(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?s.nextMethod:s.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,i,o,r,s,l,c,u,h=a.getViewport(),d=0,g=!1,v=!1,g=a.wrap,y=a.skin,b=a.inner,w=a.current,v=w.width,x=w.height,C=w.minWidth,k=w.minHeight,_=w.maxWidth,T=w.maxHeight,S=w.scrolling,D=w.scrollOutside?w.scrollbarWidth:0,M=w.margin,A=f(M[1]+M[3]),E=f(M[0]+M[2]);if(g.add(y).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),M=f(y.outerWidth(!0)-y.width()),t=f(y.outerHeight(!0)-y.height()),e=A+M,i=E+t,o=p(v)?(h.w-e)*f(v)/100:v,r=p(x)?(h.h-i)*f(x)/100:x,"iframe"===w.type){if(u=w.content,w.autoHeight&&1===u.data("ready"))try{u[0].contentWindow.document.location&&(b.width(o).height(9999),s=u.contents().find("body"),D&&s.css("overflow-x","hidden"),r=s.outerHeight(!0))}catch(N){}}else(w.autoWidth||w.autoHeight)&&(b.addClass("fancybox-tmp"),w.autoWidth||b.width(o),w.autoHeight||b.height(r),w.autoWidth&&(o=b.width()),w.autoHeight&&(r=b.height()),b.removeClass("fancybox-tmp"));if(v=f(o),x=f(r),c=o/r,C=f(p(C)?f(C,"w")-e:C),_=f(p(_)?f(_,"w")-e:_),k=f(p(k)?f(k,"h")-i:k),T=f(p(T)?f(T,"h")-i:T),s=_,l=T,w.fitToView&&(_=Math.min(h.w-e,_),T=Math.min(h.h-i,T)),e=h.w-A,E=h.h-E,w.aspectRatio?(v>_&&(v=_,x=f(v/c)),x>T&&(x=T,v=f(x*c)),v<C&&(v=C,x=f(v/c)),x<k&&(x=k,v=f(x*c))):(v=Math.max(C,Math.min(v,_)),w.autoHeight&&"iframe"!==w.type&&(b.width(v),x=b.height()),x=Math.max(k,Math.min(x,T))),w.fitToView)if(b.width(v).height(x),g.width(v+M),h=g.width(),A=g.height(),w.aspectRatio)for(;(h>e||A>E)&&v>C&&x>k&&!(19<d++);)x=Math.max(k,Math.min(T,x-10)),v=f(x*c),v<C&&(v=C,x=f(v/c)),v>_&&(v=_,x=f(v/c)),b.width(v).height(x),g.width(v+M),h=g.width(),A=g.height();else v=Math.max(C,Math.min(v,v-(h-e))),x=Math.max(k,Math.min(x,x-(A-E)));D&&"auto"===S&&x<r&&v+M+D<e&&(v+=D),b.width(v).height(x),g.width(v+M),h=g.width(),A=g.height(),g=(h>e||A>E)&&v>C&&x>k,v=w.aspectRatio?v<s&&x<l&&v<o&&x<r:(v<s||x<l)&&(v<o||x<r),n.extend(w,{dim:{width:m(h),height:m(A)},origWidth:o,origHeight:r,canShrink:g,canExpand:v,wPadding:M,hPadding:t,wrapSpace:A-y.outerHeight(!0),skinSpace:y.height()-x}),!u&&w.autoHeight&&x>k&&x<T&&!v&&b.height("auto")},_getPosition:function(t){var e=a.current,n=a.getViewport(),i=e.margin,o=a.wrap.width()+i[1]+i[3],r=a.wrap.height()+i[0]+i[2],i={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&r<=n.h&&o<=n.w?i.position="fixed":e.locked||(i.top+=n.y,i.left+=n.x),i.top=m(Math.max(i.top,i.top+(n.h-r)*e.topRatio)),i.left=m(Math.max(i.left,i.left+(n.w-o)*e.leftRatio)),i},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&1<a.group.length)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){!n(e.target).is("a")&&!n(e.target).parent().is("a")&&(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),
a.close()}),t.arrows&&1<a.group.length&&((t.loop||0<t.index)&&n(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&n(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,n=t.orig,i={},o=50,r=50,s=t.hPadding,l=t.wPadding,c=a.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),h(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),r=n.outerHeight())):(i.top=c.y+(c.h-r)*t.topRatio,i.left=c.x+(c.w-o)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(i.top-=c.y,i.left-=c.x),i={top:m(i.top-s*t.topRatio),left:m(i.left-l*t.leftRatio),width:m(o+l),height:m(r+s)}},step:function(t,e){var n,i,o=e.prop;i=a.current;var r=i.wrapSpace,s=i.skinSpace;"width"!==o&&"height"!==o||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(n=1-n),i="width"===o?i.wPadding:i.hPadding,i=t-i,a.skin[o](f("width"===o?i:i-r*n)),a.inner[o](f("width"===o?i:i-r*n-s*n)))},zoomIn:function(){var t=a.current,e=t.pos,i=t.openEffect,o="elastic"===i,r=n.extend({opacity:1},e);delete r.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),a.wrap.css(e).animate(r,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),a.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,n=e.nextEffect,i=e.pos,o={opacity:1},r=a.direction;i.opacity=.1,"elastic"===n&&(t="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(i[t]=m(f(i[t])-200),o[t]="+=200px"):(i[t]=m(f(i[t])+200),o[t]="-=200px")),"none"===n?a._afterZoomIn():a.wrap.css(i).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,i={opacity:.1},o=a.direction;"elastic"===e&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(a.coming?a.coming.parent:t.parent),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(n(t.target).hasClass("fancybox-overlay"))return a.isActive?a.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),t=r.scrollTop(),e=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(t).scrollLeft(e)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),s.width()>t&&(n=s.width())):s.width()>r.width()&&(n=s.width()),this.overlay.width(n).height(s.height())},onReady:function(t,e){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(i||(this.margin=s.height()>r.height()&&n("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var i,o;e.locked&&(!1!==this.margin&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=r.scrollTop(),o=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(i).scrollLeft(o)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.coming&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=a.current,i=e.title,o=t.type;if(n.isFunction(i)&&(i=i.call(e.element,e)),d(i)&&""!==n.trim(i)){switch(e=n('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+i+"</div>"),o){case"inside":o=a.skin;break;case"outside":o=a.wrap;break;case"over":o=a.inner;break;default:o=a.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](o)}}},n.fn.fancybox=function(t){var e,i=n(this),o=this.selector||"",r=function(r){var s,l,c=n(this).blur(),u=e;!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey&&!c.is(".fancybox-wrap")&&(s=t.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=o.length?n(o):i,c=c.filter("["+s+'="'+l+'"]'),u=c.index(this)),t.index=u,!1!==a.open(c,t)&&r.preventDefault())};return t=t||{},e=t.index||0,o&&!1!==t.live?s.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):i.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var e,r;if(n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),n.support.fixedPosition===i){e=n.support,r=n('<div style="position:fixed;top:20px;"></div>').appendTo("body");var s=20===r[0].offsetTop||15===r[0].offsetTop;r.remove(),e.fixedPosition=s}n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),e=n(t).width(),o.addClass("fancybox-lock-test"),r=n(t).width(),o.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(r-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("Cropper requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return le.call(t).slice(8,-1).toLowerCase()}function i(t){return"number"==typeof t&&!isNaN(t)}function o(t){return"undefined"==typeof t}function r(t){return"object"==typeof t&&null!==t}function s(t){var e,n;if(!r(t))return!1;try{return e=t.constructor,n=e.prototype,e&&n&&ce.call(n,"isPrototypeOf")}catch(i){return!1}}function a(t){return"function"===n(t)}function l(t){return Z.isArray?Z.isArray(t):"array"===n(t)}function c(t,e){return e=e>=0?e:0,Z.from?Z.from(t).slice(e):ue.call(t,e)}function u(t){return"string"==typeof t&&(t=t.trim?t.trim():t.replace(At,"$1")),t}function h(t,e){var n,o;if(t&&a(e))if(l(t)||i(t.length))for(o=0,n=t.length;n>o&&e.call(t,t[o],o,t)!==!1;o++);else if(r(t))for(o in t)if(t.hasOwnProperty(o)&&e.call(t,t[o],o,t)===!1)break;return t}function d(t){var e;if(arguments.length>1){if(e=c(arguments),G.assign)return G.assign.apply(G,e);e.shift(),h(e,function(e){h(e,function(e,n){t[n]=e})})}return t}function p(t,e){var n=c(arguments,2);return function(){return t.apply(e,n.concat(c(arguments)))}}function f(t,e){var n=t.style;h(e,function(t,e){Dt.test(e)&&i(t)&&(t+="px"),n[e]=t})}function m(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function g(t,e){var n;return i(t.length)?h(t,function(t){g(t,e)}):t.classList?t.classList.add(e):(n=u(t.className),void(n?n.indexOf(e)<0&&(t.className=n+" "+e):t.className=e))}function v(t,e){return i(t.length)?h(t,function(t){v(t,e)}):t.classList?t.classList.remove(e):void(t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function y(t,e,n){return i(t.length)?h(t,function(t){y(t,e,n)}):void(n?g(t,e):v(t,e))}function b(t){return t.replace(It,"$1-$2").toLowerCase()}function w(t,e){return r(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-"+b(e))}function x(t,e,n){r(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-"+b(e),n)}function C(t,e){r(t[e])?delete t[e]:t.dataset?delete t.dataset[e]:t.removeAttribute("data-"+b(e))}function k(t,e,n){var i=u(e).split(Et);return i.length>1?h(i,function(e){k(t,e,n)}):void(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n))}function _(t,e,n,i){var o=u(e).split(Et),r=n;return o.length>1?h(o,function(e){_(t,e,n)}):(i&&(n=function(){return k(t,e,n),r.apply(t,arguments)}),void(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)))}function T(t,e,n){var i;return t.dispatchEvent?(a(Event)&&a(CustomEvent)?i=o(n)?new Event(e,{bubbles:!0,cancelable:!0}):new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):o(n)?(i=X.createEvent("Event"),i.initEvent(e,!0,!0)):(i=X.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)):t.fireEvent?t.fireEvent("on"+e):void 0}function S(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function D(e){var n,o=e||t.event;return o.target||(o.target=o.srcElement||X),i(o.pageX)||(n=X.documentElement,o.pageX=o.clientX+(t.scrollX||n&&n.scrollLeft||0)-(n&&n.clientLeft||0),o.pageY=o.clientY+(t.scrollY||n&&n.scrollTop||0)-(n&&n.clientTop||0)),o}function M(e){var n=X.documentElement,i=e.getBoundingClientRect();return{left:i.left+(t.scrollX||n&&n.scrollLeft||0)-(n&&n.clientLeft||0),top:i.top+(t.scrollY||n&&n.scrollTop||0)-(n&&n.clientTop||0)}}function A(t){var e=t.length,n=0,i=0;return e&&(h(t,function(t){n+=t.pageX,i+=t.pageY}),n/=e,i/=e),{pageX:n,pageY:i}}function E(t,e){return t.getElementsByTagName(e)}function N(t,e){return t.getElementsByClassName?t.getElementsByClassName(e):t.querySelectorAll("."+e)}function O(t){return X.createElement(t)}function P(t,e){t.appendChild(e)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function L(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function $(t){var e=t.match(Mt);return e&&(e[1]!==V.protocol||e[2]!==V.hostname||e[3]!==V.port)}function H(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function F(t,e){var n;return t.naturalWidth&&!Gt?e(t.naturalWidth,t.naturalHeight):(n=O("img"),n.onload=function(){e(this.width,this.height)},void(n.src=t.src))}function z(t){var e=[],n=t.rotate,o=t.scaleX,r=t.scaleY;return i(o)&&i(r)&&e.push("scale("+o+","+r+")"),i(n)&&e.push("rotate("+n+"deg)"),e.length?e.join(" "):"none"}function j(t,e){var n,i,o=te(t.degree)%180,r=(o>90?180-o:o)*se/180,s=ee(r),a=ne(r),l=t.width,c=t.height,u=t.aspectRatio;return e?(n=l/(a+s/u),i=n/u):(n=l*a+c*s,i=l*s+c*a),{width:n,height:i}}function R(t,e){var n,o,r,s=O("canvas"),a=s.getContext("2d"),l=0,c=0,u=e.naturalWidth,h=e.naturalHeight,d=e.rotate,p=e.scaleX,f=e.scaleY,m=i(p)&&i(f)&&(1!==p||1!==f),g=i(d)&&0!==d,v=g||m,y=u*te(p||1),b=h*te(f||1);return m&&(n=y/2,o=b/2),g&&(r=j({width:y,height:b,degree:d}),y=r.width,b=r.height,n=y/2,o=b/2),s.width=y,s.height=b,v&&(l=-u/2,c=-h/2,a.save(),a.translate(n,o)),m&&a.scale(p,f),g&&a.rotate(d*se/180),a.drawImage(t,re(l),re(c),re(u),re(h)),v&&a.restore(),s}function W(t,e,n){var i="",o=e;for(n+=e;n>o;o++)i+=he(t.getUint8(o));return i}function Y(t){var e,n,i,o,r,s,a,l,c,u,h=new DataView(t),d=h.byteLength;if(255===h.getUint8(0)&&216===h.getUint8(1))for(c=2;d>c;){if(255===h.getUint8(c)&&225===h.getUint8(c+1)){a=c;break}c++}if(a&&(n=a+4,i=a+10,"Exif"===W(h,n,4)&&(s=h.getUint16(i),r=18761===s,(r||19789===s)&&42===h.getUint16(i+2,r)&&(o=h.getUint32(i+4,r),o>=8&&(l=i+o)))),l)for(d=h.getUint16(l,r),u=0;d>u;u++)if(c=l+12*u+2,274===h.getUint16(c,r)){c+=8,e=h.getUint16(c,r),Gt&&h.setUint16(c,1,r);break}return e}function U(t){var e,n=t.replace(Ot,""),i=atob(n),o=i.length,r=new Q(o),s=new Uint8Array(r);for(e=0;o>e;e++)s[e]=i.charCodeAt(e);return r}function B(t){var e,n=new Uint8Array(t),i=n.length,o="";for(e=0;i>e;e++)o+=he(n[e]);return"data:image/jpeg;base64,"+btoa(o)}function q(t,e){var n=this;n.element=t,n.options=d({},q.DEFAULTS,s(e)&&e),n.ready=!1,n.built=!1,n.complete=!1,n.rotated=!1,n.cropped=!1,n.disabled=!1,n.replaced=!1,n.limited=!1,n.wheeling=!1,n.isImg=!1,n.originalUrl="",n.canvasData=null,n.cropBoxData=null,n.previews=null,n.init()}var X=t.document,V=t.location,K=t.navigator,Q=t.ArrayBuffer,G=t.Object,Z=t.Array,J=t.String,tt=t.Number,et=t.Math,nt="cropper",it=nt+"-modal",ot=nt+"-hide",rt=nt+"-hidden",st=nt+"-invisible",at=nt+"-move",lt=nt+"-crop",ct=nt+"-disabled",ut=nt+"-bg",ht="mousedown touchstart pointerdown MSPointerDown",dt="mousemove touchmove pointermove MSPointerMove",pt="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",ft="wheel mousewheel DOMMouseScroll",mt="dblclick",gt="resize",vt="error",yt="load",bt="build",wt="built",xt="cropstart",Ct="cropmove",kt="cropend",_t="crop",Tt="zoom",St=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,Dt=/width|height|left|top|marginLeft|marginTop/,Mt=/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i,At=/^\s+(.*)\s+$/,Et=/\s+/,Nt=/^data\:/,Ot=/^data\:([^\;]+)\;base64,/,Pt=/^data\:image\/jpeg.*;base64,/,It=/([a-z\d])([A-Z])/g,Lt="preview",$t="action",Ht="e",Ft="w",zt="s",jt="n",Rt="se",Wt="sw",Yt="ne",Ut="nw",Bt="all",qt="crop",Xt="move",Vt="zoom",Kt="none",Qt=!!X.createElement("canvas").getContext,Gt=K&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(K.userAgent),Zt=et.min,Jt=et.max,te=et.abs,ee=et.sin,ne=et.cos,ie=et.sqrt,oe=et.round,re=et.floor,se=et.PI,ae=G.prototype,le=ae.toString,ce=ae.hasOwnProperty,ue=Z.prototype.slice,he=J.fromCharCode;q.prototype={constructor:q,init:function(){var t,e=this,n=e.element,i=n.tagName.toLowerCase();if(!w(n,nt)){if(x(n,nt,e),"img"===i){if(e.isImg=!0,e.originalUrl=t=n.getAttribute("src"),!t)return;t=n.src}else"canvas"===i&&Qt&&(t=n.toDataURL());e.load(t)}},load:function(t){var e,n=this,i=n.options,o=n.element;if(t&&(a(i.build)&&_(o,bt,i.build,!0),T(o,bt)!==!1)){if(n.url=t,n.imageData={},!i.checkOrientation||!Q)return n.clone();if(Nt.test(t))return Pt.test(t)?n.read(U(t)):n.clone();e=new XMLHttpRequest,e.onerror=e.onabort=function(){n.clone()},e.onload=function(){n.read(this.response)},i.checkCrossOrigin&&$(t)&&o.crossOrigin&&(t=H(t)),e.open("get",t),e.responseType="arraybuffer",e.send()}},read:function(t){var e,n,i,o=this,r=o.options,s=Y(t),a=o.imageData;if(s>1)switch(o.url=B(t),s){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}r.rotatable&&(a.rotate=e),r.scalable&&(a.scaleX=n,a.scaleY=i),o.clone()},clone:function(){var t,e,n,i,o,r=this,s=r.element,a=r.url;r.options.checkCrossOrigin&&$(a)&&(t=s.crossOrigin,t?e=a:(t="anonymous",e=H(a))),r.crossOrigin=t,r.crossOriginUrl=e,n=O("img"),t&&(n.crossOrigin=t),n.src=e||a,r.image=n,r._start=i=p(r.start,r),r._stop=o=p(r.stop,r),r.isImg?s.complete?r.start():_(s,yt,i):(_(n,yt,i),_(n,vt,o),g(n,ot),s.parentNode.insertBefore(n,s.nextSibling))},start:function(t){var e=this,n=e.isImg?e.element:e.image;t&&(k(n,yt,e._start),k(n,vt,e._stop)),F(n,function(t,n){d(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.ready=!0,e.build()})},stop:function(){var t=this,e=t.image;k(e,yt,t._start),k(e,vt,t._stop),I(e),t.image=null},build:function(){var t,e,n,i,o,r,s,l=this,c=l.options,u=l.element,h=l.image;l.ready&&(l.built&&l.unbuild(),e=O("div"),e.innerHTML=q.TEMPLATE,l.container=t=u.parentNode,l.cropper=n=N(e,"cropper-container")[0],l.canvas=i=N(n,"cropper-canvas")[0],l.dragBox=o=N(n,"cropper-drag-box")[0],l.cropBox=r=N(n,"cropper-crop-box")[0],l.viewBox=N(n,"cropper-view-box")[0],l.face=s=N(r,"cropper-face")[0],P(i,h),g(u,rt),t.insertBefore(n,u.nextSibling),l.isImg||v(h,ot),l.initPreview(),l.bind(),c.aspectRatio=Jt(0,c.aspectRatio)||NaN,c.viewMode=Jt(0,Zt(3,oe(c.viewMode)))||0,c.autoCrop?(l.cropped=!0,c.modal&&g(o,it)):g(r,rt),c.guides||g(N(r,"cropper-dashed"),rt),c.center||g(N(r,"cropper-center"),rt),c.background&&g(n,ut),c.highlight||g(s,st),c.cropBoxMovable&&(g(s,at),x(s,$t,Bt)),c.cropBoxResizable||(g(N(r,"cropper-line"),rt),g(N(r,"cropper-point"),rt)),l.setDragMode(c.dragMode),l.render(),l.built=!0,l.setData(c.data),setTimeout(function(){a(c.built)&&_(u,wt,c.built,!0),T(u,wt),T(u,_t,l.getData()),l.complete=!0},0))},unbuild:function(){var t=this;t.built&&(t.built=!1,t.complete=!1,t.initialImageData=null,t.initialCanvasData=null,t.initialCropBoxData=null,t.containerData=null,t.canvasData=null,t.cropBoxData=null,t.unbind(),t.resetPreview(),t.previews=null,t.viewBox=null,t.cropBox=null,t.dragBox=null,t.canvas=null,t.container=null,I(t.cropper),t.cropper=null)},render:function(){var t=this;t.initContainer(),t.initCanvas(),t.initCropBox(),t.renderCanvas(),t.cropped&&t.renderCropBox()},initContainer:function(){var t,e=this,n=e.options,i=e.element,o=e.container,r=e.cropper;g(r,rt),v(i,rt),e.containerData=t={width:Jt(o.offsetWidth,tt(n.minContainerWidth)||200),height:Jt(o.offsetHeight,tt(n.minContainerHeight)||100)},f(r,{width:t.width,height:t.height}),g(i,rt),v(r,rt)},initCanvas:function(){var t,e=this,n=e.options.viewMode,i=e.containerData,o=e.imageData,r=90===te(o.rotate),s=r?o.naturalHeight:o.naturalWidth,a=r?o.naturalWidth:o.naturalHeight,l=s/a,c=i.width,u=i.height;i.height*l>i.width?3===n?c=i.height*l:u=i.width/l:3===n?u=i.width/l:c=i.height*l,t={naturalWidth:s,naturalHeight:a,aspectRatio:l,width:c,height:u},t.oldLeft=t.left=(i.width-c)/2,t.oldTop=t.top=(i.height-u)/2,e.canvasData=t,e.limited=1===n||2===n,e.limitCanvas(!0,!0),e.initialImageData=d({},o),e.initialCanvasData=d({},t)},limitCanvas:function(t,e){var n,i,o,r,s=this,a=s.options,l=a.viewMode,c=s.containerData,u=s.canvasData,h=u.aspectRatio,d=s.cropBoxData,p=s.cropped&&d;t&&(n=tt(a.minCanvasWidth)||0,i=tt(a.minCanvasHeight)||0,l>1?(n=Jt(n,c.width),i=Jt(i,c.height),3===l&&(i*h>n?n=i*h:i=n/h)):l>0&&(n?n=Jt(n,p?d.width:0):i?i=Jt(i,p?d.height:0):p&&(n=d.width,i=d.height,i*h>n?n=i*h:i=n/h)),n&&i?i*h>n?i=n/h:n=i*h:n?i=n/h:i&&(n=i*h),u.minWidth=n,u.minHeight=i,u.maxWidth=1/0,u.maxHeight=1/0),e&&(l?(o=c.width-u.width,r=c.height-u.height,u.minLeft=Zt(0,o),u.minTop=Zt(0,r),u.maxLeft=Jt(0,o),u.maxTop=Jt(0,r),p&&s.limited&&(u.minLeft=Zt(d.left,d.left+d.width-u.width),u.minTop=Zt(d.top,d.top+d.height-u.height),u.maxLeft=d.left,u.maxTop=d.top,2===l&&(u.width>=c.width&&(u.minLeft=Zt(0,o),u.maxLeft=Jt(0,o)),u.height>=c.height&&(u.minTop=Zt(0,r),u.maxTop=Jt(0,r))))):(u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=c.width,u.maxTop=c.height))},renderCanvas:function(t){var e,n,i=this,o=i.canvasData,r=i.imageData,s=r.rotate;i.rotated&&(i.rotated=!1,n=j({width:r.width,height:r.height,degree:s}),e=n.width/n.height,e!==o.aspectRatio&&(o.left-=(n.width-o.width)/2,o.top-=(n.height-o.height)/2,o.width=n.width,o.height=n.height,o.aspectRatio=e,o.naturalWidth=r.naturalWidth,o.naturalHeight=r.naturalHeight,s%180&&(n=j({width:r.naturalWidth,height:r.naturalHeight,degree:s}),o.naturalWidth=n.width,o.naturalHeight=n.height),i.limitCanvas(!0,!1))),(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Zt(Jt(o.width,o.minWidth),o.maxWidth),o.height=Zt(Jt(o.height,o.minHeight),o.maxHeight),i.limitCanvas(!1,!0),o.oldLeft=o.left=Zt(Jt(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=Zt(Jt(o.top,o.minTop),o.maxTop),f(i.canvas,{width:o.width,height:o.height,left:o.left,top:o.top}),i.renderImage(),i.cropped&&i.limited&&i.limitCropBox(!0,!0),t&&i.output()},renderImage:function(t){var e,n,i,o,r,s=this,a=s.canvasData,l=s.imageData;l.rotate&&(n=j({width:a.width,height:a.height,degree:l.rotate,aspectRatio:l.aspectRatio},!0),i=n.width,o=n.height,e={width:i,height:o,left:(a.width-i)/2,top:(a.height-o)/2}),d(l,e||{width:a.width,height:a.height,left:0,top:0}),r=z(l),f(s.image,{width:l.width,height:l.height,marginLeft:l.left,marginTop:l.top,WebkitTransform:r,msTransform:r,transform:r}),t&&s.output()},initCropBox:function(){var t=this,e=t.options,n=e.aspectRatio,i=tt(e.autoCropArea)||.8,o=t.canvasData,r={width:o.width,height:o.height};n&&(o.height*n>o.width?r.height=r.width/n:r.width=r.height*n),t.cropBoxData=r,t.limitCropBox(!0,!0),r.width=Zt(Jt(r.width,r.minWidth),r.maxWidth),r.height=Zt(Jt(r.height,r.minHeight),r.maxHeight),r.width=Jt(r.minWidth,r.width*i),r.height=Jt(r.minHeight,r.height*i),r.oldLeft=r.left=o.left+(o.width-r.width)/2,r.oldTop=r.top=o.top+(o.height-r.height)/2,t.initialCropBoxData=d({},r)},limitCropBox:function(t,e){var n,i,o,r,s=this,a=s.options,l=a.aspectRatio,c=s.containerData,u=s.canvasData,h=s.cropBoxData,d=s.limited;t&&(n=tt(a.minCropBoxWidth)||0,i=tt(a.minCropBoxHeight)||0,n=Zt(n,c.width),i=Zt(i,c.height),o=Zt(c.width,d?u.width:c.width),r=Zt(c.height,d?u.height:c.height),l&&(n&&i?i*l>n?i=n/l:n=i*l:n?i=n/l:i&&(n=i*l),r*l>o?r=o/l:o=r*l),h.minWidth=Zt(n,o),h.minHeight=Zt(i,r),h.maxWidth=o,h.maxHeight=r),e&&(d?(h.minLeft=Jt(0,u.left),h.minTop=Jt(0,u.top),h.maxLeft=Zt(c.width,u.left+u.width)-h.width,h.maxTop=Zt(c.height,u.top+u.height)-h.height):(h.minLeft=0,h.minTop=0,h.maxLeft=c.width-h.width,h.maxTop=c.height-h.height))},renderCropBox:function(){var t=this,e=t.options,n=t.containerData,i=t.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Zt(Jt(i.width,i.minWidth),i.maxWidth),i.height=Zt(Jt(i.height,i.minHeight),i.maxHeight),t.limitCropBox(!1,!0),i.oldLeft=i.left=Zt(Jt(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Zt(Jt(i.top,i.minTop),i.maxTop),e.movable&&e.cropBoxMovable&&x(t.face,$t,i.width===n.width&&i.height===n.height?Xt:Bt),f(t.cropBox,{width:i.width,height:i.height,left:i.left,top:i.top}),t.cropped&&t.limited&&t.limitCanvas(!0,!0),t.disabled||t.output()},output:function(){var t=this;t.preview(),t.complete&&T(t.element,_t,t.getData())},initPreview:function(){var t,e=this,n=e.options.preview,i=O("img"),o=e.crossOrigin,r=o?e.crossOriginUrl:e.url;o&&(i.crossOrigin=o),i.src=r,P(e.viewBox,i),e.image2=i,n&&(e.previews=t=X.querySelectorAll(n),h(t,function(t){var e=O("img");x(t,Lt,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),o&&(e.crossOrigin=o),e.src=r,e.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',L(t),P(t,e)}))},resetPreview:function(){h(this.previews,function(t){var e=w(t,Lt);f(t,{width:e.width,height:e.height}),t.innerHTML=e.html,C(t,Lt)})},preview:function(){var t=this,e=t.imageData,n=t.canvasData,i=t.cropBoxData,o=i.width,r=i.height,s=e.width,a=e.height,l=i.left-n.left-e.left,c=i.top-n.top-e.top,u=z(e),p={WebkitTransform:u,msTransform:u,transform:u};t.cropped&&!t.disabled&&(f(t.image2,d({width:s,height:a,marginLeft:-l,marginTop:-c},p)),h(t.previews,function(t){var e=w(t,Lt),n=e.width,i=e.height,u=n,h=i,m=1;o&&(m=n/o,h=r*m),r&&h>i&&(m=i/r,u=o*m,h=i),f(t,{width:u,height:h}),f(E(t,"img")[0],d({width:s*m,height:a*m,marginLeft:-l*m,marginTop:-c*m},p))}))},bind:function(){var e=this,n=e.options,i=e.element,o=e.cropper;a(n.cropstart)&&_(i,xt,n.cropstart),a(n.cropmove)&&_(i,Ct,n.cropmove),a(n.cropend)&&_(i,kt,n.cropend),a(n.crop)&&_(i,_t,n.crop),a(n.zoom)&&_(i,Tt,n.zoom),_(o,ht,e._cropStart=p(e.cropStart,e)),n.zoomable&&n.zoomOnWheel&&_(o,ft,e._wheel=p(e.wheel,e)),n.toggleDragModeOnDblclick&&_(o,mt,e._dblclick=p(e.dblclick,e)),_(X,dt,e._cropMove=p(e.cropMove,e)),_(X,pt,e._cropEnd=p(e.cropEnd,e)),n.responsive&&_(t,gt,e._resize=p(e.resize,e))},unbind:function(){var e=this,n=e.options,i=e.element,o=e.cropper;a(n.cropstart)&&k(i,xt,n.cropstart),a(n.cropmove)&&k(i,Ct,n.cropmove),a(n.cropend)&&k(i,kt,n.cropend),a(n.crop)&&k(i,_t,n.crop),a(n.zoom)&&k(i,Tt,n.zoom),k(o,ht,e._cropStart),n.zoomable&&n.zoomOnWheel&&k(o,ft,e._wheel),n.toggleDragModeOnDblclick&&k(o,mt,e._dblclick),k(X,dt,e._cropMove),k(X,pt,e._cropEnd),n.responsive&&k(t,gt,e._resize)},resize:function(){var t,e,n,i=this,o=i.options.restore,r=i.container,s=i.containerData;!i.disabled&&s&&(n=r.offsetWidth/s.width,1===n&&r.offsetHeight===s.height||(o&&(t=i.getCanvasData(),e=i.getCropBoxData()),i.render(),o&&(i.setCanvasData(h(t,function(e,i){t[i]=e*n})),i.setCropBoxData(h(e,function(t,i){e[i]=t*n})))))},dblclick:function(){var t=this;t.disabled||t.setDragMode(m(t.dragBox,lt)?Xt:qt)},wheel:function(t){var e=this,n=D(t),i=tt(e.options.wheelZoomRatio)||.1,o=1;e.disabled||(S(n),e.wheeling||(e.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),e.zoom(-o*i,n)))},cropStart:function(t){var e,n,i,o=this,r=o.options,s=D(t),a=s.touches;if(!o.disabled){if(a){if(e=a.length,e>1){if(!r.zoomable||!r.zoomOnTouch||2!==e)return;n=a[1],o.startX2=n.pageX,o.startY2=n.pageY,i=Vt}n=a[0]}if(i=i||w(s.target,$t),St.test(i)){if(T(o.element,xt,{originalEvent:s,action:i})===!1)return;S(s),o.action=i,o.cropping=!1,o.startX=n?n.pageX:s.pageX,o.startY=n?n.pageY:s.pageY,i===qt&&(o.cropping=!0,g(o.dragBox,it))}}},cropMove:function(t){var e,n,i=this,o=i.options,r=D(t),s=r.touches,a=i.action;if(!i.disabled){if(s){if(e=s.length,e>1){if(!o.zoomable||!o.zoomOnTouch||2!==e)return;n=s[1],i.endX2=n.pageX,i.endY2=n.pageY}n=s[0]}if(a){if(T(i.element,Ct,{originalEvent:r,action:a})===!1)return;S(r),i.endX=n?n.pageX:r.pageX,i.endY=n?n.pageY:r.pageY,i.change(r.shiftKey,a===Vt?r:null)}}},cropEnd:function(t){var e=this,n=e.options,i=D(t),o=e.action;e.disabled||o&&(S(i),e.cropping&&(e.cropping=!1,y(e.dragBox,it,e.cropped&&n.modal)),e.action="",T(e.element,kt,{originalEvent:i,action:o}))},change:function(t,e){var n,i,o=this,r=o.options,s=r.aspectRatio,a=o.action,l=o.containerData,c=o.canvasData,u=o.cropBoxData,h=u.width,d=u.height,p=u.left,f=u.top,m=p+h,g=f+d,y=0,b=0,w=l.width,x=l.height,C=!0;switch(!s&&t&&(s=h&&d?h/d:1),o.limited&&(y=u.minLeft,b=u.minTop,w=y+Zt(l.width,c.left+c.width),x=b+Zt(l.height,c.top+c.height)),i={x:o.endX-o.startX,y:o.endY-o.startY},s&&(i.X=i.y*s,i.Y=i.x/s),a){case Bt:p+=i.x,f+=i.y;break;case Ht:if(i.x>=0&&(m>=w||s&&(b>=f||g>=x))){C=!1;break}h+=i.x,s&&(d=h/s,f-=i.Y/2),0>h&&(a=Ft,h=0);break;case jt:if(i.y<=0&&(b>=f||s&&(y>=p||m>=w))){C=!1;break}d-=i.y,f+=i.y,s&&(h=d*s,p+=i.X/2),0>d&&(a=zt,d=0);break;case Ft:if(i.x<=0&&(y>=p||s&&(b>=f||g>=x))){C=!1;break}h-=i.x,p+=i.x,s&&(d=h/s,f+=i.Y/2),0>h&&(a=Ht,h=0);break;case zt:if(i.y>=0&&(g>=x||s&&(y>=p||m>=w))){C=!1;break}d+=i.y,s&&(h=d*s,p-=i.X/2),0>d&&(a=jt,d=0);break;case Yt:if(s){if(i.y<=0&&(b>=f||m>=w)){C=!1;break}d-=i.y,f+=i.y,h=d*s}else i.x>=0?w>m?h+=i.x:i.y<=0&&b>=f&&(C=!1):h+=i.x,i.y<=0?f>b&&(d-=i.y,f+=i.y):(d-=i.y,f+=i.y);0>h&&0>d?(a=Wt,d=0,h=0):0>h?(a=Ut,h=0):0>d&&(a=Rt,d=0);break;case Ut:if(s){if(i.y<=0&&(b>=f||y>=p)){C=!1;break}d-=i.y,f+=i.y,h=d*s,p+=i.X}else i.x<=0?p>y?(h-=i.x,p+=i.x):i.y<=0&&b>=f&&(C=!1):(h-=i.x,p+=i.x),i.y<=0?f>b&&(d-=i.y,f+=i.y):(d-=i.y,f+=i.y);0>h&&0>d?(a=Rt,d=0,h=0):0>h?(a=Yt,h=0):0>d&&(a=Wt,d=0);break;case Wt:if(s){if(i.x<=0&&(y>=p||g>=x)){C=!1;break}h-=i.x,p+=i.x,d=h/s}else i.x<=0?p>y?(h-=i.x,p+=i.x):i.y>=0&&g>=x&&(C=!1):(h-=i.x,p+=i.x),i.y>=0?x>g&&(d+=i.y):d+=i.y;0>h&&0>d?(a=Yt,d=0,h=0):0>h?(a=Rt,h=0):0>d&&(a=Ut,d=0);break;case Rt:if(s){if(i.x>=0&&(m>=w||g>=x)){C=!1;break}h+=i.x,d=h/s}else i.x>=0?w>m?h+=i.x:i.y>=0&&g>=x&&(C=!1):h+=i.x,i.y>=0?x>g&&(d+=i.y):d+=i.y;0>h&&0>d?(a=Ut,d=0,h=0):0>h?(a=Wt,h=0):0>d&&(a=Yt,d=0);break;case Xt:o.move(i.x,i.y),C=!1;break;case Vt:o.zoom(function(t,e,n,i){var o=ie(t*t+e*e),r=ie(n*n+i*i);return(r-o)/o}(te(o.startX-o.startX2),te(o.startY-o.startY2),te(o.endX-o.endX2),te(o.endY-o.endY2)),e),o.startX2=o.endX2,o.startY2=o.endY2,C=!1;break;case qt:if(!i.x||!i.y){C=!1;break}n=M(o.cropper),p=o.startX-n.left,f=o.startY-n.top,h=u.minWidth,d=u.minHeight,i.x>0?a=i.y>0?Rt:Yt:i.x<0&&(p-=h,a=i.y>0?Wt:Ut),i.y<0&&(f-=d),o.cropped||(v(o.cropBox,rt),o.cropped=!0,o.limited&&o.limitCropBox(!0,!0))}C&&(u.width=h,u.height=d,u.left=p,u.top=f,o.action=a,o.renderCropBox()),o.startX=o.endX,o.startY=o.endY},crop:function(){var t=this;return t.built&&!t.disabled&&(t.cropped||(t.cropped=!0,t.limitCropBox(!0,!0),t.options.modal&&g(t.dragBox,it),v(t.cropBox,rt)),t.setCropBoxData(t.initialCropBoxData)),t},reset:function(){var t=this;return t.built&&!t.disabled&&(t.imageData=d({},t.initialImageData),t.canvasData=d({},t.initialCanvasData),t.cropBoxData=d({},t.initialCropBoxData),t.renderCanvas(),t.cropped&&t.renderCropBox()),t},clear:function(){var t=this;return t.cropped&&!t.disabled&&(d(t.cropBoxData,{left:0,top:0,width:0,height:0}),t.cropped=!1,t.renderCropBox(),t.limitCanvas(),t.renderCanvas(),v(t.dragBox,it),g(t.cropBox,rt)),t},replace:function(t,e){var n=this;return!n.disabled&&t&&(n.isImg&&(n.element.src=t),e?(n.url=t,n.image.src=t,n.built&&(n.image2.src=t,h(n.previews,function(e){E(e,"img")[0].src=t}))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(t))),n},enable:function(){var t=this;return t.built&&(t.disabled=!1,v(t.cropper,ct)),t},disable:function(){var t=this;return t.built&&(t.disabled=!0,g(t.cropper,ct)),t},destroy:function(){var t=this,e=t.element,n=t.image;return t.ready?(t.isImg&&t.replaced&&(e.src=t.originalUrl),t.unbuild(),v(e,rt)):t.isImg?k(e,yt,t.start):n&&I(n),C(e,nt),t},move:function(t,e){var n=this,i=n.canvasData;return n.moveTo(o(t)?t:i.left+tt(t),o(e)?e:i.top+tt(e))},moveTo:function(t,e){var n=this,r=n.canvasData,s=!1;return o(e)&&(e=t),t=tt(t),e=tt(e),n.built&&!n.disabled&&n.options.movable&&(i(t)&&(r.left=t,s=!0),i(e)&&(r.top=e,s=!0),s&&n.renderCanvas(!0)),n},zoom:function(t,e){var n=this,i=n.canvasData;return t=tt(t),t=0>t?1/(1-t):1+t,n.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(t,e){var n,i,o,r,s=this,a=s.options,l=s.canvasData,c=l.width,u=l.height,h=l.naturalWidth,d=l.naturalHeight;if(t=tt(t),t>=0&&s.built&&!s.disabled&&a.zoomable){if(n=h*t,i=d*t,T(s.element,Tt,{originalEvent:e,oldRatio:c/h,ratio:n/h})===!1)return s;e?(o=M(s.cropper),r=e.touches?A(e.touches):{pageX:e.pageX,pageY:e.pageY},l.left-=(n-c)*((r.pageX-o.left-l.left)/c),l.top-=(i-u)*((r.pageY-o.top-l.top)/u)):(l.left-=(n-c)/2,l.top-=(i-u)/2),l.width=n,l.height=i,s.renderCanvas(!0)}return s},rotate:function(t){var e=this;return e.rotateTo((e.imageData.rotate||0)+tt(t))},rotateTo:function(t){var e=this;return t=tt(t),i(t)&&e.built&&!e.disabled&&e.options.rotatable&&(e.imageData.rotate=t%360,e.rotated=!0,e.renderCanvas(!0)),e},scale:function(t,e){var n=this,r=n.imageData,s=!1;return o(e)&&(e=t),t=tt(t),e=tt(e),n.built&&!n.disabled&&n.options.scalable&&(i(t)&&(r.scaleX=t,s=!0),i(e)&&(r.scaleY=e,s=!0),s&&n.renderImage(!0)),n},scaleX:function(t){var e=this,n=e.imageData.scaleY;return e.scale(t,i(n)?n:1)},scaleY:function(t){var e=this,n=e.imageData.scaleX;return e.scale(i(n)?n:1,t)},getData:function(t){var e,n,i=this,o=i.options,r=i.imageData,s=i.canvasData,a=i.cropBoxData;return i.built&&i.cropped?(n={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height},e=r.width/r.naturalWidth,h(n,function(i,o){i/=e,n[o]=t?oe(i):i})):n={x:0,y:0,width:0,height:0},o.rotatable&&(n.rotate=r.rotate||0),o.scalable&&(n.scaleX=r.scaleX||1,n.scaleY=r.scaleY||1),n},setData:function(t){var e,n,o,r=this,l=r.options,c=r.imageData,u=r.canvasData,h={};return a(t)&&(t=t.call(r.element)),
r.built&&!r.disabled&&s(t)&&(l.rotatable&&i(t.rotate)&&t.rotate!==c.rotate&&(c.rotate=t.rotate,r.rotated=e=!0),l.scalable&&(i(t.scaleX)&&t.scaleX!==c.scaleX&&(c.scaleX=t.scaleX,n=!0),i(t.scaleY)&&t.scaleY!==c.scaleY&&(c.scaleY=t.scaleY,n=!0)),e?r.renderCanvas():n&&r.renderImage(),o=c.width/c.naturalWidth,i(t.x)&&(h.left=t.x*o+u.left),i(t.y)&&(h.top=t.y*o+u.top),i(t.width)&&(h.width=t.width*o),i(t.height)&&(h.height=t.height*o),r.setCropBoxData(h)),r},getContainerData:function(){var t=this;return t.built?t.containerData:{}},getImageData:function(){var t=this;return t.ready?t.imageData:{}},getCanvasData:function(){var t=this,e=t.canvasData,n={};return t.built&&h(["left","top","width","height","naturalWidth","naturalHeight"],function(t){n[t]=e[t]}),n},setCanvasData:function(t){var e=this,n=e.canvasData,o=n.aspectRatio;return a(t)&&(t=t.call(e.element)),e.built&&!e.disabled&&s(t)&&(i(t.left)&&(n.left=t.left),i(t.top)&&(n.top=t.top),i(t.width)?(n.width=t.width,n.height=t.width/o):i(t.height)&&(n.height=t.height,n.width=t.height*o),e.renderCanvas(!0)),e},getCropBoxData:function(){var t,e=this,n=e.cropBoxData;return e.built&&e.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(t){var e,n,o=this,r=o.cropBoxData,l=o.options.aspectRatio;return a(t)&&(t=t.call(o.element)),o.built&&o.cropped&&!o.disabled&&s(t)&&(i(t.left)&&(r.left=t.left),i(t.top)&&(r.top=t.top),i(t.width)&&(e=!0,r.width=t.width),i(t.height)&&(n=!0,r.height=t.height),l&&(e?r.height=r.width/l:n&&(r.width=r.height*l)),o.renderCropBox()),o},getCroppedCanvas:function(t){var e,n,i,o,r,a,l,c,u,h,d,p=this;return p.built&&Qt?p.cropped?(s(t)||(t={}),d=p.getData(),e=d.width,n=d.height,c=e/n,s(t)&&(r=t.width,a=t.height,r?(a=r/c,l=r/e):a&&(r=a*c,l=a/n)),i=re(r||e),o=re(a||n),u=O("canvas"),u.width=i,u.height=o,h=u.getContext("2d"),t.fillColor&&(h.fillStyle=t.fillColor,h.fillRect(0,0,i,o)),h.drawImage.apply(h,function(){var t,i,o,r,s,a,c=R(p.image,p.imageData),u=c.width,h=c.height,f=p.canvasData,m=[c],g=d.x+f.naturalWidth*(te(d.scaleX||1)-1)/2,v=d.y+f.naturalHeight*(te(d.scaleY||1)-1)/2;return-e>=g||g>u?g=t=o=s=0:0>=g?(o=-g,g=0,t=s=Zt(u,e+g)):u>=g&&(o=0,t=s=Zt(e,u-g)),0>=t||-n>=v||v>h?v=i=r=a=0:0>=v?(r=-v,v=0,i=a=Zt(h,n+v)):h>=v&&(r=0,i=a=Zt(n,h-v)),m.push(re(g),re(v),re(t),re(i)),l&&(o*=l,r*=l,s*=l,a*=l),s>0&&a>0&&m.push(re(o),re(r),re(s),re(a)),m}.call(p)),u):R(p.image,p.imageData):void 0},setAspectRatio:function(t){var e=this,n=e.options;return e.disabled||o(t)||(n.aspectRatio=Jt(0,t)||NaN,e.built&&(e.initCropBox(),e.cropped&&e.renderCropBox())),e},setDragMode:function(t){var e,n,i=this,o=i.options,r=i.dragBox,s=i.face;return i.ready&&!i.disabled&&(e=t===qt,n=o.movable&&t===Xt,t=e||n?t:Kt,x(r,$t,t),y(r,lt,e),y(r,at,n),o.cropBoxMovable||(x(s,$t,t),y(s,lt,e),y(s,at,n))),i}},q.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},q.TEMPLATE=function(t,e){return e=e.split(","),t.replace(/\d+/g,function(t){return e[t]})}('<0 6="5-container"><0 6="5-wrap-9"><0 6="5-canvas"></0></0><0 6="5-drag-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-center"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>',"div,span,action,data,point,cropper,class,line,dashed,box");var de=t.Cropper;return q.noConflict=function(){return t.Cropper=de,q},q.setDefaults=function(t){d(q.DEFAULTS,t)},"function"==typeof define&&define.amd&&define("cropper",[],function(){return q}),e||(t.Cropper=q),q}),function(t,e,n){var i=function(i){function o(t){var e,n,r={};i.each(t,function(i){(e=i.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(e[1]+" ")&&(n=i.replace(e[0],e[2].toLowerCase()),r[n]=i,"o"===e[1]&&o(t[i]))}),t._hungarianMap=r}function r(t,e,s){t._hungarianMap||o(t);var a;i.each(e,function(o){a=t._hungarianMap[o],a===n||!s&&e[a]!==n||("o"===a.charAt(0)?(e[a]||(e[a]={}),i.extend(!0,e[a],e[o]),r(t[a],e[a],s)):e[a]=e[o])})}function s(t){var e=Ut.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Pt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Pt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Wt(t)}function a(t){if(de(t,"ordering","bSort"),de(t,"orderMulti","bSortMulti"),de(t,"orderClasses","bSortClasses"),de(t,"orderCellsTop","bSortCellsTop"),de(t,"order","aaSorting"),de(t,"orderFixed","aaSortingFixed"),de(t,"paging","bPaginate"),de(t,"pagingType","sPaginationType"),de(t,"pageLength","iDisplayLength"),de(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&r(Ut.models.oSearch,t[e])}function l(t){de(t,"orderable","bSortable"),de(t,"orderData","aDataSort"),de(t,"orderSequence","asSorting"),de(t,"orderDataType","sortDataType");var e=t.aDataSort;e&&!i.isArray(e)&&(t.aDataSort=[e])}function c(t){if(!Ut.__browser){var e={};Ut.__browser=e;var n=i("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(i("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(i("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=n.children(),r=o.children();e.barWidth=o[0].offsetWidth-o[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==o[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}i.extend(t.oBrowser,Ut.__browser),t.oScroll.iBarWidth=Ut.__browser.barWidth}function u(t,e,i,o,r,s){var a,l=!1;for(i!==n&&(a=i,l=!0);o!==r;)t.hasOwnProperty(o)&&(a=l?e(a,t[o],o,t):t[o],l=!0,o+=s);return a}function h(t,n){var o=Ut.defaults.column,r=t.aoColumns.length,o=i.extend({},Ut.models.oColumn,o,{nTh:n?n:e.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[r],mData:o.mData?o.mData:r,idx:r});t.aoColumns.push(o),o=t.aoPreSearchCols,o[r]=i.extend({},Ut.models.oSearch,o[r]),d(t,r,i(n).data())}function d(t,e,o){var e=t.aoColumns[e],s=t.oClasses,a=i(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(e.sWidthOrig=c[1])}o!==n&&null!==o&&(l(o),r(Ut.defaults.column,o),o.mDataProp!==n&&!o.mData&&(o.mData=o.mDataProp),o.sType&&(e._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),i.extend(e,o),Pt(e,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(e.aDataSort=[o.iDataSort]),Pt(e,o,"aDataSort"));var u=e.mData,h=T(u),d=e.mRender?T(e.mRender):null,o=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=i.isPlainObject(u)&&(o(u.sort)||o(u.type)||o(u.filter)),e.fnGetData=function(t,e,i){var o=h(t,e,n,i);return d&&e?d(o,e,t,i):o},e.fnSetData=function(t,e,n){return S(u)(t,e,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,a.addClass(s.sSortableNone)),t=-1!==i.inArray("asc",e.asSorting),o=-1!==i.inArray("desc",e.asSorting),e.bSortable&&(t||o)?t&&!o?(e.sSortingClass=s.sSortableAsc,e.sSortingClassJUI=s.sSortJUIAscAllowed):!t&&o?(e.sSortingClass=s.sSortableDesc,e.sSortingClassJUI=s.sSortJUIDescAllowed):(e.sSortingClass=s.sSortable,e.sSortingClassJUI=s.sSortJUI):(e.sSortingClass=s.sSortableNone,e.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}e=t.oScroll,(""!==e.sY||""!==e.sX)&&ft(t),Ht(t,null,"column-sizing",[t])}function f(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function m(t,e){var n=v(t,"bVisible"),n=i.inArray(e,n);return-1!==n?n:null}function g(t){return v(t,"bVisible").length}function v(t,e){var n=[];return i.map(t.aoColumns,function(t,i){t[e]&&n.push(i)}),n}function y(t){var e,i,o,r,s,a,l,c,u,h=t.aoColumns,d=t.aoData,p=Ut.ext.type.detect;for(e=0,i=h.length;e<i;e++)if(l=h[e],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,r=p.length;o<r;o++){for(s=0,a=d.length;s<a&&(u[s]===n&&(u[s]=C(t,s,e,"type")),c=p[o](u[s],t),c||o===p.length-1)&&"html"!==c;s++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(t,e,o,r){var s,a,l,c,u,d,p=t.aoColumns;if(e)for(s=e.length-1;0<=s;s--){d=e[s];var f=d.targets!==n?d.targets:d.aTargets;for(i.isArray(f)||(f=[f]),a=0,l=f.length;a<l;a++)if("number"==typeof f[a]&&0<=f[a]){for(;p.length<=f[a];)h(t);r(f[a],d)}else if("number"==typeof f[a]&&0>f[a])r(p.length+f[a],d);else if("string"==typeof f[a])for(c=0,u=p.length;c<u;c++)("_all"==f[a]||i(p[c].nTh).hasClass(f[a]))&&r(c,d)}if(o)for(s=0,t=o.length;s<t;s++)r(s,o[s])}function w(t,e,o,r){var s=t.aoData.length,a=i.extend(!0,{},Ut.models.oRow,{src:o?"dom":"data",idx:s});a._aData=e,t.aoData.push(a);for(var l=t.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;return t.aiDisplayMaster.push(s),e=t.rowIdFn(e),e!==n&&(t.aIds[e]=a),(o||!t.oFeatures.bDeferRender)&&O(t,s,o,r),s}function x(t,e){var n;return e instanceof i||(e=i(e)),e.map(function(e,i){return n=N(t,i),w(t,n.data,i,n.cells)})}function C(t,e,i,o){var r=t.iDraw,s=t.aoColumns[i],a=t.aoData[e]._aData,l=s.sDefaultContent,i=s.fnGetData(a,o,{settings:t,row:e,col:i});if(i===n)return t.iDrawError!=r&&null===l&&(Ot(t,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+e,4),t.iDrawError=r),l;if(i!==a&&null!==i||null===l){if("function"==typeof i)return i.call(a)}else i=l;return null===i&&"display"==o?"":i}function k(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function _(t){return i.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function T(t){if(i.isPlainObject(t)){var e={};return i.each(t,function(t,n){n&&(e[t]=T(n))}),function(t,i,o,r){var s=e[i]||e._;return s!==n?s(t,i,o,r):t}}if(null===t)return function(t){return t};if("function"==typeof t)return function(e,n,i,o){return t(e,n,i,o)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var o=function(t,e,r){var s,a;if(""!==r){a=_(r);for(var l=0,c=a.length;l<c;l++){if(r=a[l].match(pe),s=a[l].match(fe),r){if(a[l]=a[l].replace(pe,""),""!==a[l]&&(t=t[a[l]]),s=[],a.splice(0,l+1),a=a.join("."),i.isArray(t))for(l=0,c=t.length;l<c;l++)s.push(o(t[l],e,a));t=r[0].substring(1,r[0].length-1),t=""===t?s:s.join(t);break}if(s)a[l]=a[l].replace(fe,""),t=t[a[l]]();else{if(null===t||t[a[l]]===n)return n;t=t[a[l]]}}}return t};return function(e,n){return o(e,n,t)}}return function(e){return e[t]}}function S(t){if(i.isPlainObject(t))return S(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var e=function(t,o,r){var s,r=_(r);s=r[r.length-1];for(var a,l,c=0,u=r.length-1;c<u;c++){if(a=r[c].match(pe),l=r[c].match(fe),a){if(r[c]=r[c].replace(pe,""),t[r[c]]=[],s=r.slice(),s.splice(0,c+1),a=s.join("."),i.isArray(o))for(l=0,u=o.length;l<u;l++)s={},e(s,o[l],a),t[r[c]].push(s);else t[r[c]]=o;return}l&&(r[c]=r[c].replace(fe,""),t=t[r[c]](o)),null!==t[r[c]]&&t[r[c]]!==n||(t[r[c]]={}),t=t[r[c]]}s.match(fe)?t[s.replace(fe,"")](o):t[s.replace(pe,"")]=o};return function(n,i){return e(n,i,t)}}return function(e,n){e[t]=n}}function D(t){return ae(t.aoData,"_aData")}function M(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function A(t,e,i){for(var o=-1,r=0,s=t.length;r<s;r++)t[r]==e?o=r:t[r]>e&&t[r]--;-1!=o&&i===n&&t.splice(o,1)}function E(t,e,i,o){var r,s=t.aoData[e],a=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=C(t,e,i,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==s.src)){var l=s.anCells;if(l)if(o!==n)a(l[o],o);else for(i=0,r=l.length;i<r;i++)a(l[i],i)}else s._aData=N(t,s,o,o===n?n:s._aData).data;if(s._aSortData=null,s._aFilterData=null,a=t.aoColumns,o!==n)a[o].sType=null;else{for(i=0,r=a.length;i<r;i++)a[i].sType=null;P(t,s)}}function N(t,e,o,r){var s,a,l,c=[],u=e.firstChild,h=0,d=t.aoColumns,p=t._rowReadObject,r=r!==n?r:p?{}:[],f=function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),S(t)(r,e.getAttribute(n)))}},m=function(t){o!==n&&o!==h||(a=d[h],l=i.trim(t.innerHTML),a&&a._bAttrSrc?(S(a.mData._)(r,l),f(a.mData.sort,t),f(a.mData.type,t),f(a.mData.filter,t)):p?(a._setter||(a._setter=S(a.mData)),a._setter(r,l)):r[h]=l),h++};if(u)for(;u;)s=u.nodeName.toUpperCase(),"TD"!=s&&"TH"!=s||(m(u),c.push(u)),u=u.nextSibling;else{c=e.anCells,s=0;for(var g=c.length;s<g;s++)m(c[s])}return(e=u?e:e.nTr)&&(e=e.getAttribute("id"))&&S(t.rowId)(r,e),{data:r,cells:c}}function O(t,n,i,o){var r,s,a,l,c,u=t.aoData[n],h=u._aData,d=[];if(null===u.nTr){for(r=i||e.createElement("tr"),u.nTr=r,u.anCells=d,r._DT_RowIndex=n,P(t,u),l=0,c=t.aoColumns.length;l<c;l++)a=t.aoColumns[l],s=i?o[l]:e.createElement(a.sCellType),d.push(s),i&&!a.mRender&&a.mData===l||(s.innerHTML=C(t,n,l,"display")),a.sClass&&(s.className+=" "+a.sClass),a.bVisible&&!i?r.appendChild(s):!a.bVisible&&i&&s.parentNode.removeChild(s),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,s,C(t,n,l),h,n,l);Ht(t,"aoRowCreatedCallback",null,[r,h,n])}u.nTr.setAttribute("role","row")}function P(t,e){var n=e.nTr,o=e._aData;if(n){var r=t.rowIdFn(o);r&&(n.id=r),o.DT_RowClass&&(r=o.DT_RowClass.split(" "),e.__rowc=e.__rowc?he(e.__rowc.concat(r)):r,i(n).removeClass(e.__rowc.join(" ")).addClass(o.DT_RowClass)),o.DT_RowAttr&&i(n).attr(o.DT_RowAttr),o.DT_RowData&&i(n).data(o.DT_RowData)}}function I(t){var e,n,o,r,s,a=t.nTHead,l=t.nTFoot,c=0===i("th, td",a).length,u=t.oClasses,h=t.aoColumns;for(c&&(r=i("<tr/>").appendTo(a)),e=0,n=h.length;e<n;e++)s=h[e],o=i(s.nTh).addClass(s.sClass),c&&o.appendTo(r),t.oFeatures.bSort&&(o.addClass(s.sSortingClass),!1!==s.bSortable&&(o.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),St(t,s.nTh,e))),s.sTitle!=o[0].innerHTML&&o.html(s.sTitle),zt(t,"header")(t,o,s,u);if(c&&z(t.aoHeader,a),i(a).find(">tr").attr("role","row"),i(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),i(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l)for(t=t.aoFooter[0],e=0,n=t.length;e<n;e++)s=h[e],s.nTf=t[e].cell,s.sClass&&i(s.nTf).addClass(s.sClass)}function L(t,e,o){var r,s,a,l,c=[],u=[],h=t.aoColumns.length;if(e){for(o===n&&(o=!1),r=0,s=e.length;r<s;r++){for(c[r]=e[r].slice(),c[r].nTr=e[r].nTr,a=h-1;0<=a;a--)!t.aoColumns[a].bVisible&&!o&&c[r].splice(a,1);u.push([])}for(r=0,s=c.length;r<s;r++){if(t=c[r].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,e=c[r].length;a<e;a++)if(l=h=1,u[r][a]===n){for(t.appendChild(c[r][a].cell),u[r][a]=1;c[r+h]!==n&&c[r][a].cell==c[r+h][a].cell;)u[r+h][a]=1,h++;for(;c[r][a+l]!==n&&c[r][a].cell==c[r][a+l].cell;){for(o=0;o<h;o++)u[r+o][a+l]=1;l++}i(c[r][a].cell).attr("rowspan",h).attr("colspan",l)}}}}function $(t){var e=Ht(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==i.inArray(!1,e))dt(t,!1);else{var e=[],o=0,r=t.asStripeClasses,s=r.length,a=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==jt(t),u=t.aiDisplay;t.bDrawing=!0,l!==n&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,dt(t,!1);else if(c){if(!t.bDestroying&&!W(t))return}else t.iDraw++;if(0!==u.length)for(a=c?t.aoData.length:h,c=c?0:l;c<a;c++){var d=u[c],p=t.aoData[d];if(null===p.nTr&&O(t,d),d=p.nTr,0!==s){var f=r[o%s];p._sRowStripe!=f&&(i(d).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}Ht(t,"aoRowCallback",null,[d,p._aData,o,c]),e.push(d),o++}else o=a.sZeroRecords,1==t.iDraw&&"ajax"==jt(t)?o=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(o=a.sEmptyTable),e[0]=i("<tr/>",{"class":s?r[0]:""}).append(i("<td />",{valign:"top",colSpan:g(t),"class":t.oClasses.sRowEmpty}).html(o))[0];Ht(t,"aoHeaderCallback","header",[i(t.nTHead).children("tr")[0],D(t),l,h,u]),Ht(t,"aoFooterCallback","footer",[i(t.nTFoot).children("tr")[0],D(t),l,h,u]),r=i(t.nTBody),r.children().detach(),r.append(i(e)),Ht(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function H(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&kt(t),i?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,$(t),t._drawHold=!1}function F(t){var e=t.oClasses,n=i(t.nTable),n=i("<div/>").insertBefore(n),o=t.oFeatures,r=i("<div/>",{id:t.sTableId+"_wrapper","class":e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,a,l,c,u,h,d=t.sDom.split(""),p=0;p<d.length;p++){if(s=null,a=d[p],"<"==a){if(l=i("<div/>")[0],c=d[p+1],"'"==c||'"'==c){for(u="",h=2;d[p+h]!=c;)u+=d[p+h],h++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(c=u.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u,p+=h}r.append(l),r=i(l)}else if(">"==a)r=r.parent();else if("l"==a&&o.bPaginate&&o.bLengthChange)s=lt(t);else if("f"==a&&o.bFilter)s=q(t);else if("r"==a&&o.bProcessing)s=ht(t);else if("t"==a)s=pt(t);else if("i"==a&&o.bInfo)s=nt(t);else if("p"==a&&o.bPaginate)s=ct(t);else if(0!==Ut.ext.feature.length)for(l=Ut.ext.feature,h=0,c=l.length;h<c;h++)if(a==l[h].cFeature){s=l[h].fnInit(t);break}s&&(l=t.aanFeatures,l[a]||(l[a]=[]),l[a].push(s),r.append(s))}n.replaceWith(r),t.nHolding=null}function z(t,e){var n,o,r,s,a,l,c,u,h,d,p=i(e).children("tr");for(t.splice(0,t.length),r=0,l=p.length;r<l;r++)t.push([]);for(r=0,l=p.length;r<l;r++)for(n=p[r],o=n.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase()){for(u=1*o.getAttribute("colspan"),h=1*o.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,s=0,a=t[r];a[s];)s++;for(c=s,d=1===u,a=0;a<u;a++)for(s=0;s<h;s++)t[r+s][c+a]={cell:o,unique:d},t[r+s].nTr=n}o=o.nextSibling}}function j(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],z(n,e)));for(var e=0,o=n.length;e<o;e++)for(var r=0,s=n[e].length;r<s;r++)!n[e][r].unique||i[r]&&t.bSortCellsTop||(i[r]=n[e][r].cell);return i}function R(t,e,n){if(Ht(t,"aoServerParams","serverParams",[e]),e&&i.isArray(e)){var o={},r=/(.*?)\[\]$/;i.each(e,function(t,e){var n=e.name.match(r);n?(n=n[0],o[n]||(o[n]=[]),o[n].push(e.value)):o[e.name]=e.value}),e=o}var s,a=t.ajax,l=t.oInstance,c=function(e){Ht(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(i.isPlainObject(a)&&a.data){s=a.data;var u=i.isFunction(s)?s(e,t):s,e=i.isFunction(s)&&u?u:i.extend(!0,e,u);delete a.data}u={data:e,success:function(e){var n=e.error||e.sError;n&&Ot(t,0,n),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n){var o=Ht(t,null,"xhr",[t,null,t.jqXHR]);-1===i.inArray(!0,o)&&("parsererror"==n?Ot(t,0,"Invalid JSON response",1):4===e.readyState&&Ot(t,0,"Ajax error",7)),dt(t,!1)}},t.oAjaxData=e,Ht(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,i.map(e,function(t,e){return{name:e,value:t}}),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=i.ajax(i.extend(u,{url:a||t.sAjaxSource})):i.isFunction(a)?t.jqXHR=a.call(l,e,c,t):(t.jqXHR=i.ajax(i.extend(u,a)),a.data=s)}function W(t){return!t.bAjaxDataGet||(t.iDraw++,dt(t,!0),R(t,Y(t),function(e){U(t,e)}),!1)}function Y(t){var e,n,o,r,s=t.aoColumns,a=s.length,l=t.oFeatures,c=t.oPreviousSearch,u=t.aoPreSearchCols,h=[],d=Ct(t);e=t._iDisplayStart,n=!1!==l.bPaginate?t._iDisplayLength:-1;var p=function(t,e){h.push({name:t,value:e})};p("sEcho",t.iDraw),p("iColumns",a),p("sColumns",ae(s,"sName").join(",")),p("iDisplayStart",e),p("iDisplayLength",n);var f={draw:t.iDraw,columns:[],order:[],start:e,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(e=0;e<a;e++)o=s[e],r=u[e],n="function"==typeof o.mData?"function":o.mData,f.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),p("mDataProp_"+e,n),l.bFilter&&(p("sSearch_"+e,r.sSearch),p("bRegex_"+e,r.bRegex),p("bSearchable_"+e,o.bSearchable)),l.bSort&&p("bSortable_"+e,o.bSortable);return l.bFilter&&(p("sSearch",c.sSearch),p("bRegex",c.bRegex)),l.bSort&&(i.each(d,function(t,e){f.order.push({column:e.col,dir:e.dir}),p("iSortCol_"+t,e.col),p("sSortDir_"+t,e.dir)}),p("iSortingCols",d.length)),s=Ut.ext.legacy.ajax,null===s?t.sAjaxSource?h:f:s?h:f}function U(t,e){var i=B(t,e),o=e.sEcho!==n?e.sEcho:e.draw,r=e.iTotalRecords!==n?e.iTotalRecords:e.recordsTotal,s=e.iTotalDisplayRecords!==n?e.iTotalDisplayRecords:e.recordsFiltered;if(o){if(1*o<t.iDraw)return;t.iDraw=1*o}for(M(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(s,10),o=0,r=i.length;o<r;o++)w(t,i[o]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,$(t),t._bInitComplete||st(t,e),t.bAjaxDataGet=!0,dt(t,!1)}function B(t,e){var o=i.isPlainObject(t.ajax)&&t.ajax.dataSrc!==n?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===o?e.aaData||e[o]:""!==o?T(o)(e):e}function q(t){var n=t.oClasses,o=t.sTableId,r=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=r.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=i("<div/>",{id:a.f?null:o+"_filter","class":n.sFilter}).append(i("<label/>").append(c)),a=function(){var e=this.value?this.value:"";e!=s.sSearch&&(X(t,{sSearch:e,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),t._iDisplayStart=0,$(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===jt(t)?400:0,u=i("input",n).val(s.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vt(a,l):a).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",o);return i(t.nTable).on("search.dt.DT",function(n,i){if(t===i)try{u[0]!==e.activeElement&&u.val(s.sSearch)}catch(o){}}),n[0]}function X(t,e,i){var o=t.oPreviousSearch,r=t.aoPreSearchCols,s=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=jt(t)){for(Q(t,e.sSearch,i,e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),s(e),e=0;e<r.length;e++)K(t,r[e].sSearch,e,r[e].bEscapeRegex!==n?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);V(t)}else s(e);t.bFiltered=!0,Ht(t,null,"search",[t])}function V(t){for(var e,n,o=Ut.ext.search,r=t.aiDisplay,s=0,a=o.length;s<a;s++){for(var l=[],c=0,u=r.length;c<u;c++)n=r[c],e=t.aoData[n],o[s](t,e._aFilterData,n,e._aData,c)&&l.push(n);r.length=0,i.merge(r,l)}}function K(t,e,n,i,o,r){if(""!==e)for(var s=t.aiDisplay,i=G(e,i,o,r),o=s.length-1;0<=o;o--)e=t.aoData[s[o]]._aFilterData[n],i.test(e)||s.splice(o,1)}function Q(t,e,n,i,o,r){var s,i=G(e,i,o,r),o=t.oPreviousSearch.sSearch,r=t.aiDisplayMaster;if(0!==Ut.ext.search.length&&(n=!0),s=J(t),0>=e.length)t.aiDisplay=r.slice();else for((s||n||o.length>e.length||0!==e.indexOf(o)||t.bSorted)&&(t.aiDisplay=r.slice()),e=t.aiDisplay,n=e.length-1;0<=n;n--)i.test(t.aoData[e[n]]._sFilterRow)||e.splice(n,1)}function G(t,e,n,o){return t=e?t:Z(t),n&&(t="^(?=.*?"+i.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,o?"i":"")}function Z(t){return t.replace(te,"\\$1")}function J(t){var e,n,i,o,r,s,a,l,c=t.aoColumns,u=Ut.ext.type.search;for(e=!1,n=0,o=t.aoData.length;n<o;n++)if(l=t.aoData[n],!l._aFilterData){for(s=[],i=0,r=c.length;i<r;i++)e=c[i],e.bSearchable?(a=C(t,n,i,"filter"),u[e.sType]&&(a=u[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(me.innerHTML=a,a=ge?me.textContent:me.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),s.push(a);l._aFilterData=s,l._sFilterRow=s.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,o=i("<div/>",{"class":t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),i(t.nTable).attr("aria-describedby",e+"_info")),o[0]}function it(t){var e=t.aanFeatures.i;if(0!==e.length){var n=t.oLanguage,o=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==s&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=ot(t,l),n=n.fnInfoCallback,null!==n&&(l=n.call(t.oInstance,t,o,r,s,a,l)),i(e).html(l)}}function ot(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,o=t._iDisplayLength,r=t.fnRecordsDisplay(),s=-1===o;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,s?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(t,s?1:Math.ceil(r/o)))}function rt(t){var e,n,i,o=t.iInitDisplayStart,r=t.aoColumns;n=t.oFeatures;var s=t.bDeferLoading;if(t.bInitialised){for(F(t),I(t),L(t,t.aoHeader),L(t,t.aoFooter),dt(t,!0),n.bAutoWidth&&gt(t),e=0,n=r.length;e<n;e++)i=r[e],i.sWidth&&(i.nTh.style.width=xt(i.sWidth));Ht(t,null,"preInit",[t]),H(t),r=jt(t),("ssp"!=r||s)&&("ajax"==r?R(t,[],function(n){var i=B(t,n);for(e=0;e<i.length;e++)w(t,i[e]);t.iInitDisplayStart=o,H(t),dt(t,!1),st(t,n)},t):(dt(t,!1),st(t)))}else setTimeout(function(){rt(t)},200)}function st(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Ht(t,"aoInitComplete","init",[t,e])}function at(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ft(t),Ht(t,null,"length",[t,n])}function lt(t){for(var e=t.oClasses,n=t.sTableId,o=t.aLengthMenu,r=i.isArray(o[0]),s=r?o[0]:o,o=r?o[1]:o,r=i("<select/>",{name:n+"_length","aria-controls":n,"class":e.sLengthSelect}),a=0,l=s.length;a<l;a++)r[0][a]=new Option(o[a],s[a]);var c=i("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",r[0].outerHTML)),i("select",c).val(t._iDisplayLength).bind("change.DT",function(){at(t,i(this).val()),$(t)}),i(t.nTable).bind("length.dt.DT",function(e,n,o){t===n&&i("select",c).val(o)}),c[0]}function ct(t){var e=t.sPaginationType,n=Ut.ext.pager[e],o="function"==typeof n,r=function(t){$(t)},e=i("<div/>").addClass(t.oClasses.sPaging+e)[0],s=t.aanFeatures;return o||n.fnInit(t,e,r),s.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(o){var e,i=t._iDisplayStart,a=t._iDisplayLength,l=t.fnRecordsDisplay(),c=-1===a,i=c?0:Math.ceil(i/a),a=c?1:Math.ceil(l/a),l=n(i,a),c=0;for(e=s.p.length;c<e;c++)zt(t,"pageButton")(t,s.p[c],c,l,i,a)}else n.fnUpdate(t,r)},sName:"pagination"})),e}function ut(t,e,n){var i=t._iDisplayStart,o=t._iDisplayLength,r=t.fnRecordsDisplay();return 0===r||-1===o?i=0:"number"==typeof e?(i=e*o,i>r&&(i=0)):"first"==e?i=0:"previous"==e?(i=0<=o?i-o:0,0>i&&(i=0)):"next"==e?i+o<r&&(i+=o):"last"==e?i=Math.floor((r-1)/o)*o:Ot(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Ht(t,null,"page",[t]),n&&$(t)),e}function ht(t){return i("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function dt(t,e){t.oFeatures.bProcessing&&i(t.aanFeatures.r).css("display",e?"block":"none"),Ht(t,null,"processing",[t,e])}function pt(t){var e=i(t.nTable);e.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var o=n.sX,r=n.sY,s=t.oClasses,a=e.children("caption"),l=a.length?a[0]._captionSide:null,c=i(e[0].cloneNode(!1)),u=i(e[0].cloneNode(!1)),h=e.children("tfoot");n.sX&&"100%"===e.attr("width")&&e.removeAttr("width"),h.length||(h=null),c=i("<div/>",{"class":s.sScrollWrapper}).append(i("<div/>",{"class":s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?o?xt(o):null:"100%"}).append(i("<div/>",{"class":s.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(e.children("thead"))))).append(i("<div/>",{"class":s.sScrollBody}).css({position:"relative",overflow:"auto",width:o?xt(o):null}).append(e)),h&&c.append(i("<div/>",{"class":s.sScrollFoot}).css({overflow:"hidden",border:0,width:o?o?xt(o):null:"100%"}).append(i("<div/>",{"class":s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(e.children("tfoot")))));var e=c.children(),d=e[0],s=e[1],p=h?e[2]:null;return o&&i(s).on("scroll.DT",function(){var t=this.scrollLeft;d.scrollLeft=t,h&&(p.scrollLeft=t)}),i(s).css(r&&n.bCollapse?"max-height":"height",r),t.nScrollHead=d,t.nScrollBody=s,t.nScrollFoot=p,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),c[0]}function ft(t){var e,n,o,r,s,a=t.oScroll,l=a.sX,c=a.sXInner,u=a.sY,a=a.iBarWidth,h=i(t.nScrollHead),d=h[0].style,p=h.children("div"),m=p[0].style,g=p.children("table"),p=t.nScrollBody,v=i(p),y=p.style,b=i(t.nScrollFoot).children("div"),w=b.children("table"),x=i(t.nTHead),C=i(t.nTable),k=C[0],_=k.style,T=t.nTFoot?i(t.nTFoot):null,S=t.oBrowser,D=S.bScrollOversize,M=[],A=[],E=[],N=function(t){t=t.style,t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};C.children("thead, tfoot").remove(),r=x.clone().prependTo(C),x=x.find("tr"),n=r.find("tr"),r.find("th, td").removeAttr("tabindex"),T&&(o=T.clone().prependTo(C),e=T.find("tr"),o=o.find("tr")),l||(y.width="100%",h[0].style.width="100%"),i.each(j(t,r),function(e,n){s=f(t,e),n.style.width=t.aoColumns[s].sWidth}),T&&mt(function(t){t.style.width=""},o),h=C.outerWidth(),""===l?(_.width="100%",D&&(C.find("tbody").height()>p.offsetHeight||"scroll"==v.css("overflow-y"))&&(_.width=xt(C.outerWidth()-a)),h=C.outerWidth()):""!==c&&(_.width=xt(c),h=C.outerWidth()),mt(N,n),mt(function(t){E.push(t.innerHTML),M.push(xt(i(t).css("width")))},n),mt(function(t,e){t.style.width=M[e]},x),i(n).height(0),T&&(mt(N,o),mt(function(t){A.push(xt(i(t).css("width")))},o),mt(function(t,e){t.style.width=A[e]},e),i(o).height(0)),mt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+E[e]+"</div>",t.style.width=M[e]},n),T&&mt(function(t,e){t.innerHTML="",t.style.width=A[e]},o),C.outerWidth()<h?(e=p.scrollHeight>p.offsetHeight||"scroll"==v.css("overflow-y")?h+a:h,D&&(p.scrollHeight>p.offsetHeight||"scroll"==v.css("overflow-y"))&&(_.width=xt(e-a)),(""===l||""!==c)&&Ot(t,1,"Possible column misalignment",6)):e="100%",y.width=xt(e),d.width=xt(e),T&&(t.nScrollFoot.style.width=xt(e)),!u&&D&&(y.height=xt(k.offsetHeight+a)),l=C.outerWidth(),g[0].style.width=xt(l),m.width=xt(l),c=C.height()>p.clientHeight||"scroll"==v.css("overflow-y"),u="padding"+(S.bScrollbarLeft?"Left":"Right"),m[u]=c?a+"px":"0px",T&&(w[0].style.width=xt(l),b[0].style.width=xt(l),b[0].style[u]=c?a+"px":"0px"),v.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(p.scrollTop=0)}function mt(t,e,n){for(var i,o,r=0,s=0,a=e.length;s<a;){for(i=e[s].firstChild,o=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,r):t(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;s++}}function gt(e){var n,o,r,s=e.nTable,a=e.aoColumns,l=e.oScroll,c=l.sY,u=l.sX,h=l.sXInner,d=a.length,m=v(e,"bVisible"),y=i("th",e.nTHead),b=s.getAttribute("width"),w=s.parentNode,x=!1;
for(r=e.oBrowser,l=r.bScrollOversize,(n=s.style.width)&&-1!==n.indexOf("%")&&(b=n),n=0;n<m.length;n++)o=a[m[n]],null!==o.sWidth&&(o.sWidth=yt(o.sWidthOrig,w),x=!0);if(l||!x&&!u&&!c&&d==g(e)&&d==y.length)for(n=0;n<d;n++)(m=f(e,n))&&(a[m].sWidth=xt(y.eq(n).width()));else{d=i(s).clone().css("visibility","hidden").removeAttr("id"),d.find("tbody tr").remove();var C=i("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(i(e.nTHead).clone()).append(i(e.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),y=j(e,d.find("thead")[0]),n=0;n<m.length;n++)o=a[m[n]],y[n].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?xt(o.sWidthOrig):"";if(e.aoData.length)for(n=0;n<m.length;n++)x=m[n],o=a[x],i(bt(e,x)).clone(!1).append(o.sContentPadding).appendTo(C);if(x=i("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(w),u&&h?d.width(h):u?(d.css("width","auto"),d.width()<w.clientWidth&&d.width(w.clientWidth)):c?d.width(w.clientWidth):b&&d.width(b),u){for(n=h=0;n<m.length;n++)o=a[m[n]],c=r.bBounding?y[n].getBoundingClientRect().width:i(y[n]).outerWidth(),h+=null===o.sWidthOrig?c:parseInt(o.sWidth,10)+c-i(y[n]).width();d.width(xt(h)),s.style.width=xt(h)}for(n=0;n<m.length;n++)o=a[m[n]],(r=i(y[n]).width())&&(o.sWidth=xt(r));s.style.width=xt(d.css("width")),x.remove()}b&&(s.style.width=xt(b)),!b&&!u||e._reszEvt||(s=function(){i(t).bind("resize.DT-"+e.sInstance,vt(function(){p(e)}))},l?setTimeout(s,1e3):s(),e._reszEvt=!0)}function vt(t,e){var i,o,r=e!==n?e:200;return function(){var e=this,s=+new Date,a=arguments;i&&s<i+r?(clearTimeout(o),o=setTimeout(function(){i=n,t.apply(e,a)},r)):(i=s,t.apply(e,a))}}function yt(t,n){if(!t)return 0;var o=i("<div/>").css("width",xt(t)).appendTo(n||e.body),r=o[0].offsetWidth;return o.remove(),r}function bt(t,e){var n=wt(t,e);if(0>n)return null;var o=t.aoData[n];return o.nTr?o.anCells[e]:i("<td/>").html(C(t,n,e,"display"))[0]}function wt(t,e){for(var n,i=-1,o=-1,r=0,s=t.aoData.length;r<s;r++)n=C(t,r,e,"display")+"",n=n.replace(ve,""),n.length>i&&(i=n.length,o=r);return o}function xt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Ct(t){var e,o,r,s,a,l,c=[],u=t.aoColumns;e=t.aaSortingFixed,o=i.isPlainObject(e);var h=[];for(r=function(t){t.length&&!i.isArray(t[0])?h.push(t):i.merge(h,t)},i.isArray(e)&&r(e),o&&e.pre&&r(e.pre),r(t.aaSorting),o&&e.post&&r(e.post),t=0;t<h.length;t++)for(l=h[t][0],r=u[l].aDataSort,e=0,o=r.length;e<o;e++)s=r[e],a=u[s].sType||"string",h[t]._idx===n&&(h[t]._idx=i.inArray(h[t][1],u[s].asSorting)),c.push({src:l,col:s,dir:h[t][1],index:h[t]._idx,type:a,formatter:Ut.ext.type.order[a+"-pre"]});return c}function kt(t){var e,n,i,o,r=[],s=Ut.ext.type.order,a=t.aoData,l=0,c=t.aiDisplayMaster;for(y(t),o=Ct(t),e=0,n=o.length;e<n;e++)i=o[e],i.formatter&&l++,Mt(t,i.col);if("ssp"!=jt(t)&&0!==o.length){for(e=0,n=c.length;e<n;e++)r[c[e]]=e;l===o.length?c.sort(function(t,e){var n,i,s,l,c=o.length,u=a[t]._aSortData,h=a[e]._aSortData;for(s=0;s<c;s++)if(l=o[s],n=u[l.col],i=h[l.col],n=n<i?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=r[t],i=r[e],n<i?-1:n>i?1:0}):c.sort(function(t,e){var n,i,l,c,u=o.length,h=a[t]._aSortData,d=a[e]._aSortData;for(l=0;l<u;l++)if(c=o[l],n=h[c.col],i=d[c.col],c=s[c.type+"-"+c.dir]||s["string-"+c.dir],n=c(n,i),0!==n)return n;return n=r[t],i=r[e],n<i?-1:n>i?1:0})}t.bSorted=!0}function _t(t){for(var e,n,i=t.aoColumns,o=Ct(t),t=t.oLanguage.oAria,r=0,s=i.length;r<s;r++){n=i[r];var a=n.asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<o.length&&o[0].col==r?(l.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=a[o[0].index+1]||a[0]):n=a[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Tt(t,e,o,r){var s=t.aaSorting,a=t.aoColumns[e].asSorting,l=function(t,e){var o=t._idx;return o===n&&(o=i.inArray(t[1],a)),o+1<a.length?o+1:e?null:0};"number"==typeof s[0]&&(s=t.aaSorting=[s]),o&&t.oFeatures.bSortMulti?(o=i.inArray(e,ae(s,"0")),-1!==o?(e=l(s[o],!0),null===e&&1===s.length&&(e=0),null===e?s.splice(o,1):(s[o][1]=a[e],s[o]._idx=e)):(s.push([e,a[0],0]),s[s.length-1]._idx=0)):s.length&&s[0][0]==e?(e=l(s[0]),s.length=1,s[0][1]=a[e],s[0]._idx=e):(s.length=0,s.push([e,a[0]]),s[0]._idx=0),H(t),"function"==typeof r&&r(t)}function St(t,e,n,i){var o=t.aoColumns[n];Lt(e,{},function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(dt(t,!0),setTimeout(function(){Tt(t,n,e.shiftKey,i),"ssp"!==jt(t)&&dt(t,!1)},0)):Tt(t,n,e.shiftKey,i))})}function Dt(t){var e,n,o=t.aLastSort,r=t.oClasses.sSortColumn,s=Ct(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,e=o.length;a<e;a++)n=o[a].src,i(ae(t.aoData,"anCells",n)).removeClass(r+(2>a?a+1:3));for(a=0,e=s.length;a<e;a++)n=s[a].src,i(ae(t.aoData,"anCells",n)).addClass(r+(2>a?a+1:3))}t.aLastSort=s}function Mt(t,e){var n,i=t.aoColumns[e],o=Ut.ext.order[i.sSortDataType];o&&(n=o.call(t.oInstance,t,e,m(t,e)));for(var r,s=Ut.ext.type.order[i.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)i=t.aoData[a],i._aSortData||(i._aSortData=[]),(!i._aSortData[e]||o)&&(r=o?n[a]:C(t,a,e,"sort"),i._aSortData[e]=s?s(r):r)}function At(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:i.extend(!0,[],t.aaSorting),search:tt(t.oPreviousSearch),columns:i.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:tt(t.aoPreSearchCols[n])}})};Ht(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oSavedState=e,t.fnStateSaveCallback.call(t.oInstance,t,e)}}function Et(t){var e,o,r=t.aoColumns;if(t.oFeatures.bStateSave){var s=t.fnStateLoadCallback.call(t.oInstance,t);if(s&&s.time&&(e=Ht(t,"aoStateLoadParams","stateLoadParams",[t,s]),-1===i.inArray(!1,e)&&(e=t.iStateDuration,!(0<e&&s.time<+new Date-1e3*e)&&r.length===s.columns.length))){for(t.oLoadedState=i.extend(!0,{},s),s.start!==n&&(t._iDisplayStart=s.start,t.iInitDisplayStart=s.start),s.length!==n&&(t._iDisplayLength=s.length),s.order!==n&&(t.aaSorting=[],i.each(s.order,function(e,n){t.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)})),s.search!==n&&i.extend(t.oPreviousSearch,et(s.search)),e=0,o=s.columns.length;e<o;e++){var a=s.columns[e];a.visible!==n&&(r[e].bVisible=a.visible),a.search!==n&&i.extend(t.aoPreSearchCols[e],et(a.search))}Ht(t,"aoStateLoaded","stateLoaded",[t,s])}}}function Nt(t){var e=Ut.settings,t=i.inArray(t,ae(e,"nTable"));return-1!==t?e[t]:null}function Ot(e,n,i,o){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,o&&(i+=". For more information about this error, please see http://datatables.net/tn/"+o),n)t.console&&console.log&&void 0;else if(n=Ut.ext,n=n.sErrMode||n.errMode,e&&Ht(e,null,"error",[e,o,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,o,i)}}function Pt(t,e,o,r){i.isArray(o)?i.each(o,function(n,o){i.isArray(o)?Pt(t,e,o[0],o[1]):Pt(t,e,o)}):(r===n&&(r=o),e[o]!==n&&(t[r]=e[o]))}function It(t,e,n){var o,r;for(r in e)e.hasOwnProperty(r)&&(o=e[r],i.isPlainObject(o)?(i.isPlainObject(t[r])||(t[r]={}),i.extend(!0,t[r],o)):t[r]=n&&"data"!==r&&"aaData"!==r&&i.isArray(o)?o.slice():o);return t}function Lt(t,e,n){i(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&(t.preventDefault(),n(t))}).bind("selectstart.DT",function(){return!1})}function $t(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Ht(t,e,n,o){var r=[];return e&&(r=i.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,o)})),null!==n&&(e=i.Event(n+".dt"),i(t.nTable).trigger(e,o),r.push(e.result)),r}function Ft(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||0>e)&&(e=0),t._iDisplayStart=e}function zt(t,e){var n=t.renderer,o=Ut.ext.renderer[e];return i.isPlainObject(n)&&n[e]?o[n[e]]||o._:"string"==typeof n?o[n]||o._:o._}function jt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Rt(t,e){var n=[],n=Ie.numbers_length,i=Math.floor(n/2);return e<=n?n=ce(0,e):t<=i?(n=ce(0,n-2),n.push("ellipsis"),n.push(e-1)):(t>=e-1-i?n=ce(e-(n-2),e):(n=ce(t-i+2,t+i-1),n.push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Wt(t){i.each({num:function(e){return Le(e,t)},"num-fmt":function(e){return Le(e,t,ee)},"html-num":function(e){return Le(e,t,Gt)},"html-num-fmt":function(e){return Le(e,t,Gt,ee)}},function(e,n){Bt.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Bt.type.search[e+t]=Bt.type.search.html)})}function Yt(t){return function(){var e=[Nt(this[Ut.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ut.ext.internal[t].apply(this,e)}}var Ut,Bt,qt,Xt,Vt,Kt={},Qt=/[\r\n]/g,Gt=/<.*?>/g,Zt=/^[\w\+\-]/,Jt=/[\w\+\-]$/,te=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ee=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ne=function(t){return!t||!0===t||"-"===t},ie=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},oe=function(t,e){return Kt[e]||(Kt[e]=RegExp(Z(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Kt[e],"."):t},re=function(t,e,n){var i="string"==typeof t;return!!ne(t)||(e&&i&&(t=oe(t,e)),n&&i&&(t=t.replace(ee,"")),!isNaN(parseFloat(t))&&isFinite(t))},se=function(t,e,n){return!!ne(t)||(ne(t)||"string"==typeof t?!!re(t.replace(Gt,""),e,n)||null:null)},ae=function(t,e,i){var o=[],r=0,s=t.length;if(i!==n)for(;r<s;r++)t[r]&&t[r][e]&&o.push(t[r][e][i]);else for(;r<s;r++)t[r]&&o.push(t[r][e]);return o},le=function(t,e,i,o){var r=[],s=0,a=e.length;if(o!==n)for(;s<a;s++)t[e[s]][i]&&r.push(t[e[s]][i][o]);else for(;s<a;s++)r.push(t[e[s]][i]);return r},ce=function(t,e){var i,o=[];e===n?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)o.push(r);return o},ue=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},he=function(t){var e,n,i,o=[],r=t.length,s=0;n=0;t:for(;n<r;n++){for(e=t[n],i=0;i<s;i++)if(o[i]===e)continue t;o.push(e),s++}return o},de=function(t,e,i){t[e]!==n&&(t[i]=t[e])},pe=/\[.*?\]$/,fe=/\(\)$/,me=i("<div>")[0],ge=me.textContent!==n,ve=/<.*?>/g;Ut=function(t){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new qt(t?Nt(this[Bt.iApiIndex]):this)},this.fnAddData=function(t,e){var o=this.api(!0),r=i.isArray(t)&&(i.isArray(t[0])||i.isPlainObject(t[0]))?o.rows.add(t):o.row.add(t);return(e===n||e)&&o.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],o=i.oScroll;t===n||t?e.draw(!1):(""!==o.sX||""!==o.sY)&&ft(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var o=this.api(!0),t=o.rows(t),r=t.settings()[0],s=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,s),(i===n||i)&&o.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,o,r,s){r=this.api(!0),null===e||e===n?r.search(t,i,o,s):r.column(e).search(t,i,o,s),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==o||"th"==o?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===n||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return Nt(this[Bt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,i,o,r){var s=this.api(!0);return i===n||null===i?s.row(e).data(t):s.cell(e,i).data(t),(r===n||r)&&s.columns.adjust(),(o===n||o)&&s.draw(),0},this.fnVersionCheck=Bt.fnVersionCheck;var e=this,o=t===n,u=this.length;o&&(t={}),this.oApi=this.internal=Bt.internal;for(var p in Ut.ext.internal)p&&(this[p]=Yt(p));return this.each(function(){var p,f={},f=1<u?It(f,t,!0):t,m=0,g=this.getAttribute("id"),v=!1,y=Ut.defaults,C=i(this);if("table"!=this.nodeName.toLowerCase())Ot(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(y),l(y.column),r(y,y,!0),r(y.column,y.column,!0),r(y,i.extend(f,C.data()));var k=Ut.settings,m=0;for(p=k.length;m<p;m++){var _=k[m];if(_.nTable==this||_.nTHead.parentNode==this||_.nTFoot&&_.nTFoot.parentNode==this){if(m=f.bRetrieve!==n?f.bRetrieve:y.bRetrieve,o||m)return _.oInstance;if(f.bDestroy!==n?f.bDestroy:y.bDestroy){_.oInstance.fnDestroy();break}return void Ot(_,0,"Cannot reinitialise DataTable",3)}if(_.sTableId==this.id){k.splice(m,1);break}}null!==g&&""!==g||(this.id=g="DataTables_Table_"+Ut.ext._unique++);var S=i.extend(!0,{},Ut.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:g,sTableId:g});S.nTable=this,S.oApi=e.internal,S.oInit=f,k.push(S),S.oInstance=1===e.length?e:C.dataTable(),a(f),f.oLanguage&&s(f.oLanguage),f.aLengthMenu&&!f.iDisplayLength&&(f.iDisplayLength=i.isArray(f.aLengthMenu[0])?f.aLengthMenu[0][0]:f.aLengthMenu[0]),f=It(i.extend(!0,{},y),f),Pt(S.oFeatures,f,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Pt(S,f,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Pt(S.oScroll,f,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Pt(S.oLanguage,f,"fnInfoCallback"),$t(S,"aoDrawCallback",f.fnDrawCallback,"user"),$t(S,"aoServerParams",f.fnServerParams,"user"),$t(S,"aoStateSaveParams",f.fnStateSaveParams,"user"),$t(S,"aoStateLoadParams",f.fnStateLoadParams,"user"),$t(S,"aoStateLoaded",f.fnStateLoaded,"user"),$t(S,"aoRowCallback",f.fnRowCallback,"user"),$t(S,"aoRowCreatedCallback",f.fnCreatedRow,"user"),$t(S,"aoHeaderCallback",f.fnHeaderCallback,"user"),$t(S,"aoFooterCallback",f.fnFooterCallback,"user"),$t(S,"aoInitComplete",f.fnInitComplete,"user"),$t(S,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),S.rowIdFn=T(f.rowId),c(S),g=S.oClasses,f.bJQueryUI?(i.extend(g,Ut.ext.oJUIClasses,f.oClasses),f.sDom===y.sDom&&"lfrtip"===y.sDom&&(S.sDom='<"H"lfr>t<"F"ip>'),S.renderer?i.isPlainObject(S.renderer)&&!S.renderer.header&&(S.renderer.header="jqueryui"):S.renderer="jqueryui"):i.extend(g,Ut.ext.classes,f.oClasses),C.addClass(g.sTable),S.iInitDisplayStart===n&&(S.iInitDisplayStart=f.iDisplayStart,S._iDisplayStart=f.iDisplayStart),null!==f.iDeferLoading&&(S.bDeferLoading=!0,m=i.isArray(f.iDeferLoading),S._iRecordsDisplay=m?f.iDeferLoading[0]:f.iDeferLoading,S._iRecordsTotal=m?f.iDeferLoading[1]:f.iDeferLoading);var D=S.oLanguage;i.extend(!0,D,f.oLanguage),""!==D.sUrl&&(i.ajax({dataType:"json",url:D.sUrl,success:function(t){s(t),r(y.oLanguage,t),i.extend(!0,D,t),rt(S)},error:function(){rt(S)}}),v=!0),null===f.asStripeClasses&&(S.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=S.asStripeClasses,M=C.children("tbody").find("tr").eq(0);if(-1!==i.inArray(!0,i.map(m,function(t){return M.hasClass(t)}))&&(i("tbody tr",this).removeClass(m.join(" ")),S.asDestroyStripes=m.slice()),k=[],m=this.getElementsByTagName("thead"),0!==m.length&&(z(S.aoHeader,m[0]),k=j(S)),null===f.aoColumns)for(_=[],m=0,p=k.length;m<p;m++)_.push(null);else _=f.aoColumns;for(m=0,p=_.length;m<p;m++)h(S,k?k[m]:null);if(b(S,f.aoColumnDefs,_,function(t,e){d(S,t,e)}),M.length){var A=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};i(M[0]).children("th, td").each(function(t,e){var i=S.aoColumns[t];if(i.mData===t){var o=A(e,"sort")||A(e,"order"),r=A(e,"filter")||A(e,"search");null===o&&null===r||(i.mData={_:t+".display",sort:null!==o?t+".@data-"+o:n,type:null!==o?t+".@data-"+o:n,filter:null!==r?t+".@data-"+r:n},d(S,t))}})}var E=S.oFeatures;if(f.bStateSave&&(E.bStateSave=!0,Et(S,f),$t(S,"aoDrawCallback",At,"state_save")),f.aaSorting===n)for(k=S.aaSorting,m=0,p=k.length;m<p;m++)k[m][1]=S.aoColumns[m].asSorting[0];if(Dt(S),E.bSort&&$t(S,"aoDrawCallback",function(){if(S.bSorted){var t=Ct(S),e={};i.each(t,function(t,n){e[n.src]=n.dir}),Ht(S,null,"order",[S,t,e]),_t(S)}}),$t(S,"aoDrawCallback",function(){(S.bSorted||"ssp"===jt(S)||E.bDeferRender)&&Dt(S)},"sc"),m=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),p=C.children("thead"),0===p.length&&(p=i("<thead/>").appendTo(this)),S.nTHead=p[0],p=C.children("tbody"),0===p.length&&(p=i("<tbody/>").appendTo(this)),S.nTBody=p[0],p=C.children("tfoot"),0===p.length&&0<m.length&&(""!==S.oScroll.sX||""!==S.oScroll.sY)&&(p=i("<tfoot/>").appendTo(this)),0===p.length||0===p.children().length?C.addClass(g.sNoFooter):0<p.length&&(S.nTFoot=p[0],z(S.aoFooter,S.nTFoot)),f.aaData)for(m=0;m<f.aaData.length;m++)w(S,f.aaData[m]);else(S.bDeferLoading||"dom"==jt(S))&&x(S,i(S.nTBody).children("tr"));S.aiDisplay=S.aiDisplayMaster.slice(),S.bInitialised=!0,!1===v&&rt(S)}}),e=null,this};var ye=[],be=Array.prototype,we=function(t){var e,n,o=Ut.settings,r=i.map(o,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(e=i.inArray(t,r),-1!==e?[o[e]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=i(t):t instanceof i&&(n=t),n?n.map(function(){return e=i.inArray(this,r),-1!==e?o[e]:null}).toArray():void 0):[]};qt=function(t,e){if(!(this instanceof qt))return new qt(t,e);var n=[],o=function(t){(t=we(t))&&(n=n.concat(t))};if(i.isArray(t))for(var r=0,s=t.length;r<s;r++)o(t[r]);else o(t);this.context=he(n),e&&i.merge(this,e),this.selector={rows:null,cols:null,opts:null},qt.extend(this,this,ye)},Ut.Api=qt,i.extend(qt.prototype,{any:function(){return 0!==this.count()},concat:be.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new qt(e[t],this[t]):null},filter:function(t){var e=[];if(be.filter)e=be.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new qt(this.context,e)},flatten:function(){var t=[];return new qt(this.context,t.concat.apply(t,this.toArray()))},join:be.join,indexOf:be.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,i,o){var r,s,a,l,c,u,h,d=[],p=this.context,f=this.selector;for("string"==typeof t&&(o=i,i=e,e=t,t=!1),s=0,a=p.length;s<a;s++){var m=new qt(p[s]);if("table"===e)r=i.call(m,p[s],s),r!==n&&d.push(r);else if("columns"===e||"rows"===e)r=i.call(m,p[s],this[s],s),r!==n&&d.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[s],"column-rows"===e&&(u=Te(p[s],f.opts)),l=0,c=h.length;l<c;l++)r=h[l],r="cell"===e?i.call(m,p[s],r.row,r.column,s,l):i.call(m,p[s],r,s,l,u),r!==n&&d.push(r)}return d.length||o?(t=new qt(p,t?d.concat.apply([],d):d),e=t.selector,e.rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:be.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(be.map)e=be.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new qt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:be.pop,push:be.push,reduce:be.reduce||function(t,e){return u(this,t,e,0,this.length,1)},reduceRight:be.reduceRight||function(t,e){return u(this,t,e,this.length-1,-1,-1)},reverse:be.reverse,selector:null,shift:be.shift,sort:be.sort,splice:be.splice,toArray:function(){return be.slice.call(this)},to$:function(){return i(this)},toJQuery:function(){return i(this)},unique:function(){return new qt(this.context,he(this))},unshift:be.unshift}),qt.extend=function(t,e,n){if(n.length&&e&&(e instanceof qt||e.__dt_wrapper)){var o,r,s,a=function(t,e,n){return function(){var i=e.apply(t,arguments);return qt.extend(i,i,n.methodExt),i}};for(o=0,r=n.length;o<r;o++)s=n[o],e[s.name]="function"==typeof s.val?a(t,s.val,s):i.isPlainObject(s.val)?{}:s.val,e[s.name].__dt_wrapper=!0,qt.extend(t,e[s.name],s.propExt)}},qt.register=Xt=function(t,e){if(i.isArray(t))for(var n=0,o=t.length;n<o;n++)qt.register(t[n],e);else for(var r,s,a=t.split("."),l=ye,n=0,o=a.length;n<o;n++){r=(s=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];var c;t:{c=0;for(var u=l.length;c<u;c++)if(l[c].name===r){c=l[c];break t}c=null}c||(c={name:r,val:{},methodExt:[],propExt:[]},l.push(c)),n===o-1?c.val=e:l=s?c.methodExt:c.propExt}},qt.registerPlural=Vt=function(t,e,o){qt.register(t,o),qt.register(e,function(){var t=o.apply(this,arguments);return t===this?this:t instanceof qt?t.length?i.isArray(t[0])?new qt(t.context,t[0]):t[0]:n:t})},Xt("tables()",function(t){var e;if(t){e=qt;var n=this.context;if("number"==typeof t)t=[n[t]];else var o=i.map(n,function(t){return t.nTable}),t=i(o).filter(t).map(function(){var t=i.inArray(this,o);return n[t]}).toArray();e=new e(t)}else e=this;return e}),Xt("table()",function(t){var t=this.tables(t),e=t.context;return e.length?new qt(e[0]):t}),Vt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Vt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Vt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Vt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Vt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Xt("draw()",function(t){return this.iterator("table",function(e){"page"===t?$(e):("string"==typeof t&&(t="full-hold"!==t),H(e,!1===t))})}),Xt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){ut(e,t)})}),Xt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t._iDisplayLength,o=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(o/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===jt(t)}}),Xt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){at(e,t)})});var xe=function(t,e,n){if(n){var i=new qt(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==jt(t))H(t,e);else{dt(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),R(t,[],function(n){M(t);for(var n=B(t,n),i=0,o=n.length;i<o;i++)w(t,n[i]);H(t,e),dt(t,!1)})}};Xt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Xt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Xt("ajax.reload()",function(t,e){return this.iterator("table",function(n){xe(n,!1===e,t)})}),Xt("ajax.url()",function(t){var e=this.context;return t===n?0===e.length?n:(e=e[0],e.ajax?i.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource):this.iterator("table",function(e){i.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Xt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){xe(n,!1===e,t)})});var Ce=function(t,e,o,r,s){var a,l,c,u,h,d,p=[];for(c=typeof e,e&&"string"!==c&&"function"!==c&&e.length!==n||(e=[e]),c=0,u=e.length;c<u;c++)for(l=e[c]&&e[c].split?e[c].split(","):[e[c]],h=0,d=l.length;h<d;h++)(a=o("string"==typeof l[h]?i.trim(l[h]):l[h]))&&a.length&&(p=p.concat(a));if(t=Bt.selector[t],t.length)for(c=0,u=t.length;c<u;c++)p=t[c](r,s,p);return he(p)},ke=function(t){return t||(t={}),t.filter&&t.search===n&&(t.search=t.filter),i.extend({search:"none",order:"current",page:"all"},t)},_e=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Te=function(t,e){var n,o,r,s=[],a=t.aiDisplay;n=t.aiDisplayMaster;var l=e.search;if(o=e.order,r=e.page,"ssp"==jt(t))return"removed"===l?[]:ce(0,n.length);if("current"==r)for(n=t._iDisplayStart,o=t.fnDisplayEnd();n<o;n++)s.push(a[n]);else if("current"==o||"applied"==o)s="none"==l?n.slice():"applied"==l?a.slice():i.map(n,function(t){return-1===i.inArray(t,a)?t:null});else if("index"==o||"original"==o)for(n=0,o=t.aoData.length;n<o;n++)"none"==l?s.push(n):(r=i.inArray(n,a),(-1===r&&"removed"==l||0<=r&&"applied"==l)&&s.push(n));return s};Xt("rows()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=ke(e),o=this.iterator("table",function(o){var r=e;return Ce("row",t,function(t){var e=ie(t);if(null!==e&&!r)return[e];var s=Te(o,r);return null!==e&&i.inArray(e,s)!==-1?[e]:t?"function"==typeof t?i.map(s,function(e){var n=o.aoData[e];return t(e,n._aData,n.nTr)?e:null}):(e=ue(le(o.aoData,s,"nTr")),t.nodeName&&i.inArray(t,e)!==-1?[t._DT_RowIndex]:"string"==typeof t&&"#"===t.charAt(0)&&(s=o.aIds[t.replace(/^#/,"")],s!==n)?[s.idx]:i(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()):s},o,r)},1);return o.selector.rows=t,o.selector.opts=e,o}),Xt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),Xt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return le(t.aoData,e,"_aData")},1)}),Vt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Vt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){E(e,n,t)})}),Vt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Vt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,s=this[i].length;r<s;r++){var a=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);e.push((!0===t?"#":"")+a)}return new qt(n,e)}),Vt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,o){var r=e.aoData,s=r[i];r.splice(i,1);for(var a=0,l=r.length;a<l;a++)null!==r[a].nTr&&(r[a].nTr._DT_RowIndex=a);A(e.aiDisplayMaster,i),A(e.aiDisplay,i),A(t[o],i,!1),Ft(e),i=e.rowIdFn(s._aData),i!==n&&delete e.aIds[i]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Xt("rows.add()",function(t){var e=this.iterator("table",function(e){var n,i,o,r=[];for(i=0,o=t.length;i<o;i++)n=t[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(x(e,n)[0]):r.push(w(e,n));return r},1),n=this.rows(-1);return n.pop(),i.merge(n,e),n}),Xt("row()",function(t,e){return _e(this.rows(t,e))}),Xt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,E(e[0],this[0],"data"),this)}),Xt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Xt("row.add()",function(t){t instanceof i&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?x(e,t)[0]:w(e,t)});return this.row(e[0])});var Se=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==n?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},De=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var o=n[0],r=new qt(o),s=o.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ae(s,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){o===e&&r.rows({page:"current"}).eq(0).each(function(t){t=s[t],t._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(o===e)for(var n,i=g(e),r=0,a=s.length;r<a;r++)n=s[r],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(t,e){if(o===e)for(var n=0,i=s.length;n<i;n++)s[n]._details&&Se(r,n)}))}}};Xt("row().child()",function(t,e){var o=this.context;if(t===n)return o.length&&this.length?o[0].aoData[this[0]]._details:n;if(!0===t)this.child.show();else if(!1===t)Se(this);else if(o.length&&this.length){var r=o[0],o=o[0].aoData[this[0]],s=[],a=function(t,e){if(i.isArray(t)||t instanceof i)for(var n=0,o=t.length;n<o;n++)a(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?s.push(t):(n=i("<tr><td/></tr>").addClass(e),i("td",n).addClass(e).html(t)[0].colSpan=g(r),s.push(n[0]))};a(t,e),o._details&&o._details.remove(),o._details=i(s),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),Xt(["row().child.show()","row().child().show()"],function(){return De(this,!0),this}),Xt(["row().child.hide()","row().child().hide()"],function(){return De(this,!1),this}),Xt(["row().child.remove()","row().child().remove()"],function(){return Se(this),this}),Xt("row().child.isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Me=/^(.+):(name|visIdx|visible)$/,Ae=function(t,e,n,i,o){for(var n=[],i=0,r=o.length;i<r;i++)n.push(C(t,o[i],e));return n};Xt("columns()",function(t,e){t===n?t="":i.isPlainObject(t)&&(e=t,t="");var e=ke(e),o=this.iterator("table",function(n){var o=t,r=e,s=n.aoColumns,a=ae(s,"sName"),l=ae(s,"nTh");return Ce("column",o,function(t){var e=ie(t);if(""===t)return ce(s.length);if(null!==e)return[e>=0?e:s.length+e];if("function"==typeof t){var o=Te(n,r);return i.map(s,function(e,i){return t(i,Ae(n,i,0,0,o),l[i])?i:null})}var c="string"==typeof t?t.match(Me):"";if(!c)return i(l).filter(t).map(function(){return i.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if(e=parseInt(c[1],10),e<0){var u=i.map(s,function(t,e){return t.bVisible?e:null});return[u[u.length+e]]}return[f(n,e)];case"name":return i.map(a,function(t,e){return t===c[1]?e:null})}},n,r)},1);return o.selector.cols=t,o.selector.opts=e,o}),Vt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Vt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Vt("columns().data()","column().data()",function(){return this.iterator("column-rows",Ae,1)}),Vt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Vt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,o,r){return le(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Vt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,o){return le(t.aoData,o,"anCells",e)},1)}),Vt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(o,r){if(t===n)return o.aoColumns[r].bVisible;var s,a,l,c=o.aoColumns,u=c[r],h=o.aoData;if(t!==n&&u.bVisible!==t){if(t){var d=i.inArray(!0,ae(c,"bVisible"),r+1);for(s=0,a=h.length;s<a;s++)l=h[s].nTr,c=h[s].anCells,l&&l.insertBefore(c[r],c[d]||null)}else i(ae(o.aoData,"anCells",r)).detach();
u.bVisible=t,L(o,o.aoHeader),L(o,o.aoFooter),(e===n||e)&&(p(o),(o.oScroll.sX||o.oScroll.sY)&&ft(o)),Ht(o,null,"column-visibility",[o,r,t]),At(o)}})}),Vt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?m(e,n):n},1)}),Xt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Xt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return f(n,e);if("fromData"===t||"toVisible"===t)return m(n,e)}}),Xt("column()",function(t,e){return _e(this.columns(t,e))}),Xt("cells()",function(t,e,o){if(i.isPlainObject(t)&&(t.row===n?(o=t,t=null):(o=e,e=null)),i.isPlainObject(e)&&(o=e,e=null),null===e||e===n)return this.iterator("table",function(e){var r,s,a,l,c,u,h,d=t,p=ke(o),f=e.aoData,m=Te(e,p),g=ue(le(f,m,"anCells")),v=i([].concat.apply([],g)),y=e.aoColumns.length;return Ce("cell",d,function(t){var o="function"==typeof t;if(null===t||t===n||o){for(s=[],a=0,l=m.length;a<l;a++)for(r=m[a],c=0;c<y;c++)u={row:r,column:c},o?(h=f[r],t(u,C(e,r,c),h.anCells?h.anCells[c]:null)&&s.push(u)):s.push(u);return s}return i.isPlainObject(t)?[t]:v.filter(t).map(function(t,e){if(e.parentNode)r=e.parentNode._DT_RowIndex;else for(t=0,l=f.length;t<l;t++)if(i.inArray(e,f[t].anCells)!==-1){r=t;break}return{row:r,column:i.inArray(e,f[r].anCells)}}).toArray()},e,p)});var r,s,a,l,c,u=this.columns(e,o),h=this.rows(t,o),d=this.iterator("table",function(t,e){for(r=[],s=0,a=h[e].length;s<a;s++)for(l=0,c=u[e].length;l<c;l++)r.push({row:h[e][s],column:u[e][l]});return r},1);return i.extend(d.selector,{cols:e,rows:t,opts:o}),d}),Vt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e].anCells)?t[i]:n},1)}),Xt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return C(t,e,n)},1)}),Vt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Vt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return C(e,n,i,t)},1)}),Vt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:m(t,n)}},1)}),Vt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){E(e,n,t,i)})}),Xt("cell()",function(t,e,n){return _e(this.cells(t,e,n))}),Xt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?C(e[0],i[0].row,i[0].column):n:(k(e[0],i[0].row,i[0].column,t),E(e[0],i[0].row,"data",i[0].column),this)}),Xt("order()",function(t,e){var o=this.context;return t===n?0!==o.length?o[0].aaSorting:n:("number"==typeof t?t=[[t,e]]:i.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Xt("order.listener()",function(t,e,n){return this.iterator("table",function(i){St(i,t,e,n)})}),Xt(["columns().order()","column().order()"],function(t){var e=this;return this.iterator("table",function(n,o){var r=[];i.each(e[o],function(e,n){r.push([n,t])}),n.aaSorting=r})}),Xt("search()",function(t,e,o,r){var s=this.context;return t===n?0!==s.length?s[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&X(n,i.extend({},n.oPreviousSearch,{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===o||o,bCaseInsensitive:null===r||r}),1)})}),Vt("columns().search()","column().search()",function(t,e,o,r){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;return t===n?l[a].sSearch:void(s.oFeatures.bFilter&&(i.extend(l[a],{sSearch:t+"",bRegex:null!==e&&e,bSmart:null===o||o,bCaseInsensitive:null===r||r}),X(s,s.oPreviousSearch,1)))})}),Xt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Xt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Xt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Xt("state.save()",function(){return this.iterator("table",function(t){At(t)})}),Ut.versionCheck=Ut.fnVersionCheck=function(t){for(var e,n,i=Ut.version.split("."),t=t.split("."),o=0,r=t.length;o<r;o++)if(e=parseInt(i[o],10)||0,n=parseInt(t[o],10)||0,e!==n)return e>n;return!0},Ut.isDataTable=Ut.fnIsDataTable=function(t){var e=i(t).get(0),n=!1;return i.each(Ut.settings,function(t,o){var r=o.nScrollHead?i("table",o.nScrollHead)[0]:null,s=o.nScrollFoot?i("table",o.nScrollFoot)[0]:null;o.nTable!==e&&r!==e&&s!==e||(n=!0)}),n},Ut.tables=Ut.fnTables=function(t){var e=!1;i.isPlainObject(t)&&(e=t.api,t=t.visible);var n=i.map(Ut.settings,function(e){if(!t||t&&i(e.nTable).is(":visible"))return e.nTable});return e?new qt(n):n},Ut.util={throttle:vt,escapeRegex:Z},Ut.camelToHungarian=r,Xt("$()",function(t,e){var n=this.rows(e).nodes(),n=i(n);return i([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),i.each(["on","one","off"],function(t,e){Xt(e+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var n=i(this.tables().nodes());return n[e].apply(n,t),this})}),Xt("clear()",function(){return this.iterator("table",function(t){M(t)})}),Xt("settings()",function(){return new qt(this.context,this.context)}),Xt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Xt("data()",function(){return this.iterator("table",function(t){return ae(t.aoData,"_aData")}).flatten()}),Xt("destroy()",function(e){return e=e||!1,this.iterator("table",function(n){var o,r=n.nTableWrapper.parentNode,s=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,h=i(a),l=i(l),d=i(n.nTableWrapper),p=i.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Ht(n,"aoDestroyCallback","destroy",[n]),e||new qt(n).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),i(t).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(h.children("thead").detach(),h.append(c)),u&&a!=u.parentNode&&(h.children("tfoot").detach(),h.append(u)),n.aaSorting=[],n.aaSortingFixed=[],Dt(n),i(p).removeClass(n.asStripeClasses.join(" ")),i("th, td",c).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(i("th span."+s.sSortIcon+", td span."+s.sSortIcon,c).detach(),i("th, td",c).each(function(){var t=i("div."+s.sSortJUIWrapper,this);i(this).append(t.contents()),t.detach()})),l.children().detach(),l.append(p),c=e?"remove":"detach",h[c](),d[c](),!e&&r&&(r.insertBefore(a,n.nTableReinsertBefore),h.css("width",n.sDestroyWidth).removeClass(s.sTable),(o=n.asDestroyStripes.length)&&l.children().each(function(t){i(this).addClass(n.asDestroyStripes[t%o])})),r=i.inArray(n,Ut.settings),-1!==r&&Ut.settings.splice(r,1)})}),i.each(["column","row","cell"],function(t,e){Xt(e+"s().every()",function(t){return this.iterator(e,function(i,o,r,s,a){t.call(new qt(i)[e](o,"cell"===e?r:n),o,r,s,a)})})}),Xt("i18n()",function(t,e,o){var r=this.context[0],t=T(t)(r.oLanguage);return t===n&&(t=e),o!==n&&i.isPlainObject(t)&&(t=t[o]!==n?t[o]:t._),t.replace("%d",o)}),Ut.version="1.10.9",Ut.settings=[],Ut.models={},Ut.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ut.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Ut.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ut.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},Ut.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(Ut.defaults),Ut.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Ut.defaults.column),Ut.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==jt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==jt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?!1===r||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!r||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Ut.ext=Bt={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ut.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ut.version},i.extend(Bt,{afnFiltering:Bt.search,aTypes:Bt.type.detect,ofnSearch:Bt.type.search,oSort:Bt.type.order,afnSortData:Bt.order,aoFeatures:Bt.feature,oApi:Bt.internal,oStdClasses:Bt.classes,oPagination:Bt.pager}),i.extend(Ut.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ee="",Ee="",Ne=Ee+"ui-state-default",Oe=Ee+"css_right ui-icon ui-icon-",Pe=Ee+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";i.extend(Ut.ext.oJUIClasses,Ut.ext.classes,{sPageButton:"fg-button ui-button "+Ne,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Ne+" sorting_asc",sSortDesc:Ne+" sorting_desc",sSortable:Ne+" sorting",sSortableAsc:Ne+" sorting_asc_disabled",sSortableDesc:Ne+" sorting_desc_disabled",sSortableNone:Ne+" sorting_disabled",sSortJUIAsc:Oe+"triangle-1-n",sSortJUIDesc:Oe+"triangle-1-s",sSortJUI:Oe+"carat-2-n-s",sSortJUIAscAllowed:Oe+"carat-1-n",sSortJUIDescAllowed:Oe+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Ne,sScrollFoot:"dataTables_scrollFoot "+Ne,sHeaderTH:Ne,sFooterTH:Ne,sJUIHeader:Pe+" ui-corner-tl ui-corner-tr",sJUIFooter:Pe+" ui-corner-bl ui-corner-br"});var Ie=Ut.ext.pager;i.extend(Ie,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Rt(t,e)]},simple_numbers:function(t,e){return["previous",Rt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Rt(t,e),"next","last"]},_numbers:Rt,numbers_length:7}),i.extend(!0,Ut.ext.renderer,{pageButton:{_:function(t,n,o,r,s,a){var l,c,u,h=t.oClasses,d=t.oLanguage.oPaginate,p=0,f=function(e,n){var r,u,m,g,v=function(e){ut(t,e.data.action,!0)};for(r=0,u=n.length;r<u;r++)if(g=n[r],i.isArray(g))m=i("<"+(g.DT_el||"div")+"/>").appendTo(e),f(m,g);else{switch(l=null,c="",g){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,c=g+(s>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=d.sPrevious,c=g+(s>0?"":" "+h.sPageButtonDisabled);break;case"next":l=d.sNext,c=g+(s<a-1?"":" "+h.sPageButtonDisabled);break;case"last":l=d.sLast,c=g+(s<a-1?"":" "+h.sPageButtonDisabled);break;default:l=g+1,c=s===g?h.sPageButtonActive:""}null!==l&&(m=i("<a>",{"class":h.sPageButton+" "+c,"aria-controls":t.sTableId,"data-dt-idx":p,tabindex:t.iTabIndex,id:0===o&&"string"==typeof g?t.sTableId+"_"+g:null}).html(l).appendTo(e),Lt(m,{action:g},v),p++)}};try{u=i(n).find(e.activeElement).data("dt-idx")}catch(m){}f(i(n).empty(),r),u&&i(n).find("[data-dt-idx="+u+"]").focus()}}}),i.extend(Ut.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return re(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!Zt.test(t)||!Jt.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ne(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return re(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"html-num-fmt"+n:null},function(t){return ne(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),i.extend(Ut.ext.type.search,{html:function(t){return ne(t)?t:"string"==typeof t?t.replace(Qt," ").replace(Gt,""):""},string:function(t){return ne(t)?t:"string"==typeof t?t.replace(Qt," "):t}});var Le=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=oe(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-(1/0)};return i.extend(Bt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ne(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ne(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Wt(""),i.extend(!0,Ut.ext.renderer,{header:{_:function(t,e,n,o){i(t.nTable).on("order.dt.DT",function(i,r,s,a){t===r&&(i=n.idx,e.removeClass(n.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[i]?o.sSortAsc:"desc"==a[i]?o.sSortDesc:n.sSortingClass))})},jqueryui:function(t,e,n,o){i("<div/>").addClass(o.sSortJUIWrapper).append(e.contents()).append(i("<span/>").addClass(o.sSortIcon+" "+n.sSortingClassJUI)).appendTo(e),i(t.nTable).on("order.dt.DT",function(i,r,s,a){t===r&&(i=n.idx,e.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[i]?o.sSortAsc:"desc"==a[i]?o.sSortDesc:n.sSortingClass),e.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==a[i]?o.sSortJUIAsc:"desc"==a[i]?o.sSortJUIDesc:n.sSortingClassJUI))})}}}),Ut.render={number:function(t,e,n,i,o){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var s=0>r?"-":"",r=Math.abs(parseFloat(r)),a=parseInt(r,10),r=n?e+(r-a).toFixed(n).substring(2):"";return s+(i||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+r+(o||"")}}}},i.extend(Ut.ext.internal,{_fnExternApiFunc:Yt,_fnBuildAjax:R,_fnAjaxUpdate:W,_fnAjaxParameters:Y,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:B,_fnAddColumn:h,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:o,_fnCamelToHungarian:r,_fnLanguageCompat:s,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return i.inArray(n,t.aoData[e].anCells)},_fnGetCellData:C,_fnSetCellData:k,_fnSplitObjNotation:_,_fnGetObjectDataFn:T,_fnSetObjectDataFn:S,_fnGetDataMaster:D,_fnClearTable:M,_fnDeleteIndex:A,_fnInvalidate:E,_fnGetRowElements:N,_fnCreateTr:O,_fnBuildHead:I,_fnDrawHead:L,_fnDraw:$,_fnReDraw:H,_fnAddOptionsHtml:F,_fnDetectHeader:z,_fnGetUniqueThs:j,_fnFeatureHtmlFilter:q,_fnFilterComplete:X,_fnFilterCustom:V,_fnFilterColumn:K,_fnFilter:Q,_fnFilterCreateSearch:G,_fnEscapeRegex:Z,_fnFilterData:J,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:ot,_fnInitialise:rt,_fnInitComplete:st,_fnLengthChange:at,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ut,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:pt,_fnScrollDraw:ft,_fnApplyToChildren:mt,_fnCalculateColumnWidths:gt,_fnThrottle:vt,_fnConvertToWidth:yt,_fnGetWidestNode:bt,_fnGetMaxLenString:wt,_fnStringToCss:xt,_fnSortFlatten:Ct,_fnSort:kt,_fnSortAria:_t,_fnSortListener:Tt,_fnSortAttachListener:St,_fnSortingClasses:Dt,_fnSortData:Mt,_fnSaveState:At,_fnLoadState:Et,_fnSettingsFromNode:Nt,_fnLog:Ot,_fnMap:Pt,_fnBindAction:Lt,_fnCallbackReg:$t,_fnCallbackFire:Ht,_fnLengthOverflow:Ft,_fnRenderer:zt,_fnDataSource:jt,_fnRowAttributes:P,_fnCalculateEnd:function(){}}),i.fn.dataTable=Ut,i.fn.dataTableSettings=Ut.settings,i.fn.dataTableExt=Ut.ext,i.fn.DataTable=function(t){return i(this).dataTable(t).api()},i.each(Ut,function(t,e){i.fn.DataTable[t]=e}),i.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):jQuery&&!jQuery.fn.dataTable&&i(jQuery)}(window,document),jQuery.fn.dataTable.ext.builder="dt/dt-1.10.9",!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[f.locale];return e?e[t]:g.en[t]}function o(t,n,i){t.stopPropagation(),t.preventDefault();var o=e.isFunction(i)&&i(t)===!1;o||n.modal("hide")}function r(t){var e,n=0;for(e in t)n++;return n}function s(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function a(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),t.backdrop=!!t.backdrop&&"static",n=t.buttons,i=r(n),s(n,function(t,o,r){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=2>=i&&r===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function c(t,n,i){return e.extend(!0,{},t,l(n,i))}function u(t,e,n,i){var o={className:"bootbox-"+t,buttons:h.apply(null,e)};return d(c(o,i,n),e)}function h(){for(var t={},e=0,n=arguments.length;n>e;e++){var o=arguments[e],r=o.toLowerCase(),s=o.toUpperCase();t[r]={label:i(s)}}return t}function d(t,e){var i={};return s(e,function(t,e){i[e]=!0}),s(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback()},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,o,r,a,l,u;if(r=e(p.form),i={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},t=d(c(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=a.val();break;case"checkbox":var i=a.find("input:checked");n=[],s(i,function(t,i){n.push(e(i).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!p.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(p.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var f={};if(u=t.inputOptions||[],!u.length)throw new Error("prompt with select requires options");s(u,function(t,i){var o=a;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(f[i.group]||(f[i.group]=e("<optgroup/>").attr("label",i.group)),o=f[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),s(f,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");a=e("<div/>"),s(u,function(n,i){var o=e(p.inputs[t.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),s(g,function(t,e){e===i.value&&o.find("input").prop("checked",!0)}),a.append(o)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),r.append(a),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=m.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){a.focus()}),l===!0&&o.modal("show"),o},m.dialog=function(t){t=a(t);var n=e(p.dialog),i=n.find(".modal-dialog"),r=n.find(".modal-body"),l=t.buttons,c="",u={onEscape:t.onEscape};if(s(l,function(t,e){c+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",u[t]=e.callback}),r.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size&&i.addClass("modal-lg"),"small"===t.size&&i.addClass("modal-sm"),t.title&&r.before(p.header),t.closeButton){var h=e(p.closeButton);t.title?n.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(r)}return t.title&&n.find(".modal-title").html(t.title),c.length&&(r.after(p.footer),n.find(".modal-footer").html(c)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){u.onEscape&&o(t,n,u.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");o(t,n,u[i])}),n.on("click",".bootbox-close-button",function(t){o(t,n,u.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return m.init=function(n){return t(n||e)},m}),!function(){function t(e){var n=t.modules[e];if(!n)throw new Error('failed to require "'+e+'"');return"exports"in n||"function"!=typeof n.definition||(n.client=n.component=!0,n.definition.call(this,n.exports={},n),delete n.definition),n.exports}t.modules={},t.register=function(e,n){t.modules[e]={definition:n}},t.define=function(e,n){t.modules[e]={exports:n}},t.register("component~emitter@1.1.2",function(t,e){function n(t){return t?i(t):void 0}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===e||i.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,o=n.length;o>i;++i)n[i].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),t.register("dropzone",function(e,n){n.exports=t("dropzone/lib/dropzone.js")}),t.register("dropzone/lib/dropzone.js",function(e,n){(function(){var e,i,o,r,s,a,l,c,u={}.hasOwnProperty,h=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d=[].slice;i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("component~emitter@1.1.2"),l=function(){},e=function(t){function e(t,i){var o,r,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),
this.element.dropzone=this,o=null!=(s=e.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,o,null!=i?i:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?e.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:e.getElements(this.options.clickable,"clickable")),this.init()}var n;return h(e,t),e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return l},forceFallback:!1,fallback:function(){var t,n,i,o,r,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),o=0,r=s.length;r>o;o++)t=s[o],/(^| )dz-message($| )/.test(t.className)&&(n=t,t.className="dz-message");return n||(n=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),i=n.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,n,i;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},n=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=n*e.optHeight:null==e.optHeight&&(e.optHeight=1/n*e.optWidth),i=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):n>i?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*i):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/i),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var n,i,o,r,s,a,l,c,u,h,d,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),h=t.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=h.length;l>r;r++)n=h[r],n.textContent=t.name;for(d=t.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=d.length;c>s;s++)n=d[s],n.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),i=function(n){return function(i){return i.preventDefault(),i.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(t)}):n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(t)}):n.removeFile(t)}}(this),p=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,u=p.length;u>a;a++)o=p[a],f.push(o.addEventListener("click",i));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,i,o,r,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),r=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),s=[],i=0,o=r.length;o>i;i++)n=r[i],n.alt=t.name,s.push(n.src=e);return s}},error:function(t,e){var n,i,o,r,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),r=t.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push(n.textContent=e);return s}},errormultiple:l,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:l,uploadprogress:function(t,e){var n,i,o,r,s;if(t.previewElement){for(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push(n.style.width=""+e+"%");return s}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:l,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:l,complete:function(t){return t._removeLink?t._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span></span></div>\n  <div class="dz-error-mark"><span></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},n=function(){var t,e,n,i,o,r,s;for(i=arguments[0],n=2<=arguments.length?d.call(arguments,1):[],r=0,s=n.length;s>r;r++){e=n[r];for(t in e)o=e[t],i[t]=o}return i},e.prototype.getAcceptedFiles=function(){var t,e,n,i,o;for(i=this.files,o=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted&&o.push(t);return o},e.prototype.getRejectedFiles=function(){var t,e,n,i,o;for(i=this.files,o=[],e=0,n=i.length;n>e;e++)t=i[e],t.accepted||o.push(t);return o},e.prototype.getFilesWithStatus=function(t){var e,n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;i>n;n++)e=o[n],e.status===t&&r.push(e);return r},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getActiveFiles=function(){var t,n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;i>n;n++)t=o[n],(t.status===e.UPLOADING||t.status===e.QUEUED)&&r.push(t);return r},e.prototype.init=function(){var t,n,i,o,r,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,n,o,r;if(n=t.hiddenFileInput.files,n.length)for(o=0,r=n.length;r>o;o++)e=n[o],t.addFile(e);return i()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,o=0,r=a.length;r>o;o++)t=a[o],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return n(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var i;try{i=e.dataTransfer.effectAllowed}catch(o){}return e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",n(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return n(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(n){return t.listeners.push({element:n,events:{click:function(i){return n!==t.element||i.target===t.element||e.elementInside(i.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var t,e,n,i,o,r,s,a;if(i=0,n=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),r=0,s=a.length;s>r;r++)e=a[r],i+=e.upload.bytesSent,n+=e.upload.total;o=100*i/n}else o=100;return this.emit("totaluploadprogress",o,n,i)},e.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},e.prototype.getFallbackForm=function(){var t,n,i,o;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',n=e.createElement(i),"FORM"!==this.element.tagName?(o=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:n)},e.prototype.getExistingFallback=function(){var t,e,n,i,o,r;for(e=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},r=["div","form"],i=0,o=r.length;o>i;i++)if(n=r[i],t=e(this.element.getElementsByTagName(n)))return t},e.prototype.setupEventListeners=function(){var t,e,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;o>i;i++)t=r[i],s.push(function(){var i,o;i=t.events,o=[];for(e in i)n=i[e],o.push(t.element.addEventListener(e,n,!1));return o}());return s},e.prototype.removeEventListeners=function(){var t,e,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;o>i;i++)t=r[i],s.push(function(){var i,o;i=t.events,o=[];for(e in i)n=i[e],o.push(t.element.removeEventListener(e,n,!1));return o}());return s},e.prototype.disable=function(){var t,e,n,i,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(this.cancelUpload(t));return o},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e;return t>=109951162777.6?(t/=109951162777.6,e="TiB"):t>=107374182.4?(t/=107374182.4,e="GiB"):t>=104857.6?(t/=104857.6,e="MiB"):t>=102.4?(t/=102.4,e="KiB"):(t=10*t,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(n=t.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},e.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},e.prototype.handleFiles=function(t){var e,n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(this.addFile(e));return o},e.prototype._addFilesFromItems=function(t){var e,n,i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],r.push(null!=n.webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?this.addFile(n.getAsFile()):e.isDirectory?this._addFilesFromDirectory(e,e.name):void 0:null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?this.addFile(n.getAsFile()):void 0);return r},e.prototype._addFilesFromDirectory=function(t,e){var n,i;return n=t.createReader(),i=function(t){return function(n){var i,o,r;for(o=0,r=n.length;r>o;o++)i=n[o],i.isFile?i.file(function(n){return t.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+e+"/"+n.name,t.addFile(n))}):i.isDirectory&&t._addFilesFromDirectory(i,""+e+"/"+i.name)}}(this),n.readEntries(i,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log,void 0})},e.prototype.accept=function(t,n){return t.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,n):n(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},e.prototype.enqueueFiles=function(t){var e,n,i;for(n=0,i=t.length;i>n;n++)e=t[n],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},e.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=c(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var n,i,o,r;for(null==t&&(t=!1),r=this.files.slice(),i=0,o=r.length;o>i;i++)n=r[i],(n.status!==e.UPLOADING||t)&&this.removeFile(n);return null},e.prototype.createThumbnail=function(t,e){var n;return n=new FileReader,n.onload=function(i){return function(){var o;return o=document.createElement("img"),o.onload=function(){var n,r,s,l,c,u,h,d;return t.width=o.width,t.height=o.height,s=i.options.resize.call(i,t),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),n=document.createElement("canvas"),r=n.getContext("2d"),n.width=s.trgWidth,n.height=s.trgHeight,a(r,o,null!=(c=s.srcX)?c:0,null!=(u=s.srcY)?u:0,s.srcWidth,s.srcHeight,null!=(h=s.trgX)?h:0,null!=(d=s.trgY)?d:0,s.trgWidth,s.trgHeight),l=n.toDataURL("image/png"),i.emit("thumbnail",t,l),null!=e?e():void 0},o.src=n.result}}(this),n.readAsDataURL(t)},e.prototype.processQueue=function(){var t,e,n,i;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-n));for(;e>t;){if(!i.length)return;this.processFile(i.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var n,i,o;for(i=0,o=t.length;o>i;i++)n=t[i],n.processing=!0,n.status=e.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e,n;return n=function(){var n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;i>n;n++)e=o[n],e.xhr===t&&r.push(e);return r}.call(this)},e.prototype.cancelUpload=function(t){var n,i,o,r,s,a,l;if(t.status===e.UPLOADING){for(i=this._getFilesWithXhr(t.xhr),o=0,s=i.length;s>o;o++)n=i[o],n.status=e.CANCELED;for(t.xhr.abort(),r=0,a=i.length;a>r;r++)n=i[r],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=t.status)===e.ADDED||l===e.QUEUED)&&(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var i,o,r,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x,C,k,_,T,S,D,M,A,E,N,O,P,I;for(b=new XMLHttpRequest,w=0,_=t.length;_>w;w++)i=t[w],i.xhr=b;b.open(this.options.method,this.options.url,!0),b.withCredentials=!!this.options.withCredentials,g=null,r=function(e){return function(){var n,o,r;for(r=[],n=0,o=t.length;o>n;n++)i=t[n],r.push(e._errorProcessing(t,g||e.options.dictResponseError.replace("{{statusCode}}",b.status),b));return r}}(this),v=function(e){return function(n){var o,r,s,a,l,c,u,h,d;if(null!=n)for(r=100*n.loaded/n.total,s=0,c=t.length;c>s;s++)i=t[s],i.upload={progress:r,total:n.total,bytesSent:n.loaded};else{for(o=!0,r=100,a=0,u=t.length;u>a;a++)i=t[a],(100!==i.upload.progress||i.upload.bytesSent!==i.upload.total)&&(o=!1),i.upload.progress=r,i.upload.bytesSent=i.upload.total;if(o)return}for(d=[],l=0,h=t.length;h>l;l++)i=t[l],d.push(e.emit("uploadprogress",i,r,i.upload.bytesSent));return d}}(this),b.onload=function(n){return function(i){var o;if(t[0].status!==e.CANCELED&&4===b.readyState){if(g=b.responseText,b.getResponseHeader("content-type")&&~b.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(s){i=s,g="Invalid JSON response from server."}return v(),200<=(o=b.status)&&300>o?n._finished(t,g,i):r()}}}(this),b.onerror=function(){return function(){return t[0].status!==e.CANCELED?r():void 0}}(this),m=null!=(A=b.upload)?A:b,m.onprogress=v,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(l,this.options.headers);for(s in l)a=l[s],b.setRequestHeader(s,a);if(o=new FormData,this.options.params){E=this.options.params;for(p in E)y=E[p],o.append(p,y)}for(x=0,T=t.length;T>x;x++)i=t[x],this.emit("sending",i,b,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,b,o),"FORM"===this.element.tagName)for(N=this.element.querySelectorAll("input, textarea, select, button"),C=0,S=N.length;S>C;C++)if(u=N[C],h=u.getAttribute("name"),d=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(O=u.options,k=0,D=O.length;D>k;k++)f=O[k],f.selected&&o.append(h,f.value);else(!d||"checkbox"!==(P=d.toLowerCase())&&"radio"!==P||u.checked)&&o.append(h,u.value);for(c=M=0,I=t.length-1;I>=0?I>=M:M>=I;c=I>=0?++M:--M)o.append(this._getParamName(c),t[c],t[c].name);return b.send(o)},e.prototype._finished=function(t,n,i){var o,r,s;for(r=0,s=t.length;s>r;r++)o=t[r],o.status=e.SUCCESS,this.emit("success",o,n,i),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("successmultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,n,i){var o,r,s;for(r=0,s=t.length;s>r;r++)o=t[r],o.status=e.ERROR,this.emit("error",o,n,i),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("errormultiple",t,n,i),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}(i),e.version="3.10.2",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[o(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,o,r,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(t){var e,n,o,r;for(r=[],n=0,o=t.length;o>n;n++)e=t[n],r.push(/(^| )dropzone($| )/.test(e.className)?i.push(e):void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],o=0,r=i.length;r>o;o++)n=i[o],s.push(e.optionsForElement(n)!==!1?new e(n):void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,o,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=e.blacklistedBrowsers,i=0,o=r.length;o>i;i++)n=r[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},c=function(t,e){var n,i,o,r;for(r=[],i=0,o=t.length;o>i;i++)n=t[i],n!==e&&r.push(n);return r},o=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},e.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},e.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},e.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(t,e){var n,i,o,r,s,a,l,c;if(t instanceof Array){o=[];try{for(r=0,a=t.length;a>r;r++)i=t[r],o.push(this.getElement(i,e))}catch(u){n=u,o=null}}else if("string"==typeof t)for(o=[],c=document.querySelectorAll(t),s=0,l=c.length;l>s;s++)i=c[s],o.push(i);else null!=t.nodeType&&(o=[t]);if(null==o||!o.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},e.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},e.isValidFile=function(t,e){var n,i,o,r,s;if(!e)return!0;for(e=e.split(","),i=t.type,n=i.replace(/\/.*$/,""),r=0,s=e.length;s>r;r++)if(o=e[r],o=o.trim(),"."===o.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(o.toLowerCase(),t.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof n&&null!==n?n.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",s=function(t){var e,n,i,o,r,s,a,l,c,u;for(a=t.naturalWidth,s=t.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(t,0,0),o=i.getImageData(0,0,1,s).data,u=0,r=s,l=s;l>u;)e=o[4*(l-1)+3],0===e?r=l:u=l,l=r+u>>1;return c=l/s,0===c?1:c},a=function(t,e,n,i,o,r,a,l,c,u){var h;return h=s(e),t.drawImage(e,n,i,o,r,a,l,c,u/h)},r=function(t,e){var n,i,o,r,s,a,l,c,u;if(o=!1,u=!0,i=t.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",r=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?t:i)[l](a+n.type,r,!1),!o&&(o=!0)?e.call(t,n.type||n):void 0):void 0},s=function(){var t;try{c.doScroll("left")}catch(e){return t=e,void setTimeout(s,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!t.frameElement}catch(h){}u&&s()}return i[n](a+"DOMContentLoaded",r,!1),i[n](a+"readystatechange",r,!1),t[n](a+"load",r,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},r(window,e._autoDiscoverFunction)}).call(this)}),"object"==typeof exports?module.exports=t("dropzone"):"function"==typeof define&&define.amd?define([],function(){return t("dropzone")}):this.Dropzone=t("dropzone")}(),function(t,e,n,i){function o(n,i){this.w=t(e),this.el=t(n),this.options=t.extend({},u,i),this.init()}var r="ontouchstart"in e,s=function(){var t=n.createElement("div"),i=n.documentElement;if(!("pointerEvents"in t.style))return!1;t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t);var o=e.getComputedStyle&&"auto"===e.getComputedStyle(t,"").pointerEvents;return i.removeChild(t),!!o}(),a=r?"touchstart":"mousedown",l=r?"touchmove":"mousemove",c=r?"touchend":"mouseup";eCancel=r?"touchcancel":"mouseup";var u={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};o.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=t('<div class="'+n.options.placeClass+'"/>'),t.each(this.el.find(n.options.itemNodeName),function(e,i){n.setParent(t(i))}),n.el.on("click","button",function(e){if(!n.dragEl&&(r||0===e.button)){var i=t(e.currentTarget),o=i.data("action"),s=i.parent(n.options.itemNodeName);"collapse"===o&&n.collapseItem(s),"expand"===o&&n.expandItem(s)}});var i=function(e){var i=t(e.target);if(!i.hasClass(n.options.handleClass)){if(i.closest("."+n.options.noDragClass).length)return;i=i.closest("."+n.options.handleClass)}!i.length||n.dragEl||!r&&0!==e.button||r&&1!==e.touches.length||(e.preventDefault(),n.dragStart(r?e.touches[0]:e))},o=function(t){n.dragEl&&(t.preventDefault(),n.dragMove(r?t.touches[0]:t))},s=function(t){n.dragEl&&(t.preventDefault(),n.dragStop(r?t.touches[0]:t))};r?(n.el[0].addEventListener(a,i,!1),e.addEventListener(l,o,!1),e.addEventListener(c,s,!1),e.addEventListener(eCancel,s,!1)):(n.el.on(a,i),n.w.on(l,o),n.w.on(c,s))},serialize:function(){var e,n=0,i=this;return step=function(e,n){var o=[],r=e.children(i.options.itemNodeName);return r.each(function(){var e=t(this),r=t.extend({},e.data()),s=e.children(i.options.listNodeName);s.length&&(r.children=step(s,n+1)),o.push(r)}),o},e=step(i.el.find(i.options.listNodeName).first(),n)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(t){t.removeClass(this.options.collapsedClass),t.children('[data-action="expand"]').hide(),t.children('[data-action="collapse"]').show(),t.children(this.options.listNodeName).show()},collapseItem:function(t){var e=t.children(this.options.listNodeName);e.length&&(t.addClass(this.options.collapsedClass),t.children('[data-action="collapse"]').hide(),t.children('[data-action="expand"]').show(),t.children(this.options.listNodeName).hide())},expandAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(t(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(t(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(t(this.options.expandBtnHTML)),e.prepend(t(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(t){t.removeClass(this.options.collapsedClass),t.children("[data-action]").remove(),t.children(this.options.listNodeName).remove()},dragStart:function(e){var o=this.mouse,r=t(e.target),s=r.closest(this.options.itemNodeName);this.placeEl.css("height",s.height()),o.offsetX=e.offsetX!==i?e.offsetX:e.pageX-r.offset().left,o.offsetY=e.offsetY!==i?e.offsetY:e.pageY-r.offset().top,o.startX=o.lastX=e.pageX,o.startY=o.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=t(n.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),
this.dragEl.css("width",s.width()),s.after(this.placeEl),s[0].parentNode.removeChild(s[0]),s.appendTo(this.dragEl),t(n.body).append(this.dragEl),this.dragEl.css({left:e.pageX-o.offsetX,top:e.pageY-o.offsetY});var a,l,c=this.dragEl.find(this.options.itemNodeName);for(a=0;a<c.length;a++)l=t(c[a]).parents(this.options.listNodeName).length,l>this.dragDepth&&(this.dragDepth=l)},dragStop:function(t){var e=this.dragEl.children(this.options.itemNodeName).first();e[0].parentNode.removeChild(e[0]),this.placeEl.replaceWith(e),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(i){var o,r,a,l,c,u=this.options,h=this.mouse;this.dragEl.css({left:i.pageX-h.offsetX,top:i.pageY-h.offsetY}),h.lastX=h.nowX,h.lastY=h.nowY,h.nowX=i.pageX,h.nowY=i.pageY,h.distX=h.nowX-h.lastX,h.distY=h.nowY-h.lastY,h.lastDirX=h.dirX,h.lastDirY=h.dirY,h.dirX=0===h.distX?0:h.distX>0?1:-1,h.dirY=0===h.distY?0:h.distY>0?1:-1;var d=Math.abs(h.distX)>Math.abs(h.distY)?1:0;if(!h.moving)return h.dirAx=d,void(h.moving=!0);h.dirAx!==d?(h.distAxX=0,h.distAxY=0):(h.distAxX+=Math.abs(h.distX),0!==h.dirX&&h.dirX!==h.lastDirX&&(h.distAxX=0),h.distAxY+=Math.abs(h.distY),0!==h.dirY&&h.dirY!==h.lastDirY&&(h.distAxY=0)),h.dirAx=d,h.dirAx&&h.distAxX>=u.threshold&&(h.distAxX=0,a=this.placeEl.prev(u.itemNodeName),h.distX>0&&a.length&&!a.hasClass(u.collapsedClass)&&(o=a.find(u.listNodeName).last(),c=this.placeEl.parents(u.listNodeName).length,c+this.dragDepth<=u.maxDepth&&(o.length?(o=a.children(u.listNodeName).last(),o.append(this.placeEl)):(o=t("<"+u.listNodeName+"/>").addClass(u.listClass),o.append(this.placeEl),a.append(o),this.setParent(a)))),h.distX<0&&(l=this.placeEl.next(u.itemNodeName),l.length||(r=this.placeEl.parent(),this.placeEl.closest(u.itemNodeName).after(this.placeEl),r.children().length||this.unsetParent(r.parent()))));var p=!1;if(s||(this.dragEl[0].style.visibility="hidden"),this.pointEl=t(n.elementFromPoint(i.pageX-n.body.scrollLeft,i.pageY-(e.pageYOffset||n.documentElement.scrollTop))),s||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(u.handleClass)&&(this.pointEl=this.pointEl.parent(u.itemNodeName)),this.pointEl.hasClass(u.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(u.itemClass))return;var f=this.pointEl.closest("."+u.rootClass),m=this.dragRootEl.data("nestable-id")!==f.data("nestable-id");if(!h.dirAx||m||p){if(m&&u.group!==f.data("nestable-group"))return;if(c=this.dragDepth-1+this.pointEl.parents(u.listNodeName).length,c>u.maxDepth)return;var g=i.pageY<this.pointEl.offset().top+this.pointEl.height()/2;r=this.placeEl.parent(),p?(o=t(n.createElement(u.listNodeName)).addClass(u.listClass),o.append(this.placeEl),this.pointEl.replaceWith(o)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),r.children().length||this.unsetParent(r.parent()),this.dragRootEl.find(u.itemNodeName).length||this.dragRootEl.append('<div class="'+u.emptyClass+'"/>'),m&&(this.dragRootEl=f,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},t.fn.nestable=function(e){var n=this,i=this;return n.each(function(){var n=t(this).data("nestable");n?"string"==typeof e&&"function"==typeof n[e]&&(i=n[e]()):(t(this).data("nestable",new o(this,e)),t(this).data("nestable-id",(new Date).getTime()))}),i||n}}(window.jQuery||window.Zepto,window,document),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){!function(t,e,n,i){"use strict";function o(e,n){e||(n=n?": "+n:"",t.error("Fancytree assertion failed"+n))}function r(t,n){var i,o,r=e.console?e.console[t]:null;if(r)try{r.apply(e.console,n)}catch(s){for(o="",i=0;i<n.length;i++)o+=n[i];r(o)}}function s(t){return!(!t.tree||t.statusNodeType===i)}function a(e){var n,i,o,r=t.map(t.trim(e).split("."),function(t){return parseInt(t,10)}),s=t.map(Array.prototype.slice.call(arguments,1),function(t){return parseInt(t,10)});for(n=0;n<s.length;n++)if(i=r[n]||0,o=s[n]||0,i!==o)return i>o;return!0}function l(t,e,n,i,o){var r=function(){var n=e[t],r=i[t],s=e.ext[o],a=function(){return n.apply(e,arguments)},l=function(t){return n.apply(e,t)};return function(){var t=e._local,n=e._super,i=e._superApply;try{return e._local=s,e._super=a,e._superApply=l,r.apply(e,arguments)}finally{e._local=t,e._super=n,e._superApply=i}}}();return r}function c(e,n,i,o){for(var r in i)"function"==typeof i[r]?"function"==typeof e[r]?e[r]=l(r,e,n,i,o):"_"===r.charAt(0)?e.ext[o][r]=l(r,e,n,i,o):t.error("Could not override tree."+r+". Use prefix '_' to create tree."+o+"._"+r):"options"!==r&&(e.ext[o][r]=i[r])}function u(e,n){return e===i?t.Deferred(function(){this.resolve()}).promise():t.Deferred(function(){this.resolveWith(e,n)}).promise()}function h(e,n){return e===i?t.Deferred(function(){this.reject()}).promise():t.Deferred(function(){this.rejectWith(e,n)}).promise()}function d(t,e){return function(){t.resolveWith(e)}}function p(e){var n=t.extend({},e.data()),i=n.json;return delete n.fancytree,i&&(delete n.json,n=t.extend(n,i)),n}function f(t){return t=t.toLowerCase(),function(e){return e.title.toLowerCase().indexOf(t)>=0}}function m(t){var e=new RegExp("^"+t,"i");return function(t){return e.test(t.title)}}function g(e,n){var i,r,s,a;for(this.parent=e,this.tree=e.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},i=0,r=S.length;r>i;i++)s=S[i],this[s]=n[s];n.data&&t.extend(this.data,n.data);for(s in n)D[s]||t.isFunction(n[s])||M[s]||(this.data[s]=n[s]);null==this.key?this.tree.options.defaultKey?(this.key=this.tree.options.defaultKey(this),o(this.key,"defaultKey() must return a unique key")):this.key="_"+b._nextNodeKey++:this.key=""+this.key,n.active&&(o(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),n.selected&&(this.tree.lastSelectedNode=this),this.children=null,a=n.children,a&&a.length&&this._setChildren(a),this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function v(e){this.widget=e,this.$div=e.element,this.options=e.options,this.options&&(t.isFunction(this.options.lazyload)&&!t.isFunction(this.options.lazyLoad)&&(this.options.lazyLoad=function(){return b.warn("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),e.options.lazyload.apply(this,arguments)}),t.isFunction(this.options.loaderror)&&t.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),this.options.fx!==i&&b.warn("The 'fx' options was replaced by 'toggleEffect' since 2014-11-30.")),this.ext={},this.data=p(this.$div),this._id=t.ui.fancytree._nextId++,this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove();var n,o={tree:this};this.rootNode=new g(o,{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,n=t("<ul>",{"class":"ui-fancytree fancytree-container fancytree-plain"}).appendTo(this.$div),this.$container=n,this.rootNode.ul=n[0],null==this.options.debugLevel&&(this.options.debugLevel=b.debugLevel),this.$container.attr("tabindex",this.options.tabbable?"0":"-1"),this.options.aria&&this.$container.attr("role","tree").attr("aria-multiselectable",!0)}if(t.ui&&t.ui.fancytree)return void t.ui.fancytree.warn("Fancytree: ignored duplicate include");o(t.ui,"Fancytree requires jQuery UI (http://jqueryui.com)");var y,b=null,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},x={16:!0,17:!0,18:!0},C={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={0:"",1:"left",2:"middle",3:"right"},_="active expanded focus folder hideCheckbox lazy selected unselectable".split(" "),T={},S="expanded extraClasses folder hideCheckbox key lazy refKey selected title tooltip unselectable".split(" "),D={},M={active:!0,children:!0,data:!0,focus:!0};for(y=0;y<_.length;y++)T[_[y]]=!0;for(y=0;y<S.length;y++)D[S[y]]=!0;g.prototype={_findDirectChild:function(t){var e,n,i=this.children;if(i)if("string"==typeof t){for(e=0,n=i.length;n>e;e++)if(i[e].key===t)return i[e]}else{if("number"==typeof t)return this.children[t];if(t.parent===this)return t}return null},_setChildren:function(t){o(t&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var e=0,n=t.length;n>e;e++)this.children.push(new g(this,t[e]))},addChildren:function(e,n){var i,r,s,a=null,l=[];for(t.isPlainObject(e)&&(e=[e]),this.children||(this.children=[]),i=0,r=e.length;r>i;i++)l.push(new g(this,e[i]));return a=l[0],null==n?this.children=this.children.concat(l):(n=this._findDirectChild(n),s=t.inArray(n,this.children),o(s>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[s,0].concat(l))),(!this.parent||this.parent.ul||this.tr)&&this.render(),3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),a},addNode:function(t,e){switch((e===i||"over"===e)&&(e="child"),e){case"after":return this.getParent().addChildren(t,this.getNextSibling());case"before":return this.getParent().addChildren(t,this);case"firstChild":var n=this.children?this.children[0]:null;return this.addChildren(t,n);case"child":case"over":return this.addChildren(t)}o(!1,"Invalid mode: "+e)},appendSibling:function(t){return this.addNode(t,"after")},applyPatch:function(e){if(null===e)return this.remove(),u(this);var n,i,o,r={children:!0,expanded:!0,parent:!0};for(n in e)o=e[n],r[n]||t.isFunction(o)||(D[n]?this[n]=o:this.data[n]=o);return e.hasOwnProperty("children")&&(this.removeChildren(),e.children&&this._setChildren(e.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),i=e.hasOwnProperty("expanded")?this.setExpanded(e.expanded):u(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(t,e,n){return t.addNode(this.toDict(!0,n),e)},countChildren:function(t){var e,n,i,o=this.children;if(!o)return 0;if(i=o.length,t!==!1)for(e=0,n=i;n>e;e++)i+=o[e].countChildren();return i},debug:function(){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),r("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},findAll:function(e){e=t.isFunction(e)?e:f(e);var n=[];return this.visit(function(t){e(t)&&n.push(t)}),n},findFirst:function(e){e=t.isFunction(e)?e:f(e);var n=null;return this.visit(function(t){return e(t)?(n=t,!1):void 0}),n},_changeSelectStatusAttrs:function(t){var e=!1;switch(t){case!1:e=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case!0:e=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case i:e=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:o(!1,"invalid state: "+t)}return e&&this.renderStatus(),e},fixSelection3AfterClick:function(){var t=this.isSelected();this.visit(function(e){e._changeSelectStatusAttrs(t)}),this.fixSelection3FromEndNodes()},fixSelection3FromEndNodes:function(){function t(e){var n,o,r,s,a,l,c,u=e.children;if(u&&u.length){for(l=!0,c=!1,n=0,o=u.length;o>n;n++)r=u[n],s=t(r),s!==!1&&(c=!0),s!==!0&&(l=!1);a=!!l||!!c&&i}else a=!!e.selected;return e._changeSelectStatusAttrs(a),a}o(3===this.tree.options.selectMode,"expected selectMode 3"),t(this),this.visitParents(function(t){var e,n,o,r,s=t.children,a=!0,l=!1;for(e=0,n=s.length;n>e;e++)o=s[e],(o.selected||o.partsel)&&(l=!0),o.unselectable||o.selected||(a=!1);r=!!a||!!l&&i,t._changeSelectStatusAttrs(r)})},fromDict:function(e){for(var n in e)D[n]?this[n]=e[n]:"data"===n?t.extend(this.data,e.data):t.isFunction(e[n])||M[n]||(this.data[n]=e[n]);e.children&&(this.removeChildren(),this.addChildren(e.children)),this.renderTitle()},getChildren:function(){return this.hasChildren()===i?i:this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return t.inArray(this,this.parent.children)},getIndexHier:function(e){e=e||".";var n=[];return t.each(this.getParentList(!1,!0),function(t,e){n.push(e.getIndex()+1)}),n.join(e)},getKeyPath:function(t){var e=[],n=this.tree.options.keyPathSeparator;return this.visitParents(function(t){t.parent&&e.unshift(t.key)},!t),n+e.join(n)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},getNextSibling:function(){if(this.parent){var t,e,n=this.parent.children;for(t=0,e=n.length-1;e>t;t++)if(n[t]===this)return n[t+1]}return null},getParent:function(){return this.parent},getParentList:function(t,e){for(var n=[],i=e?this:this.parent;i;)(t||i.parent)&&n.unshift(i),i=i.parent;return n},getPrevSibling:function(){if(this.parent){var t,e,n=this.parent.children;for(t=1,e=n.length;e>t;t++)if(n[t]===this)return n[t-1]}return null},hasChildren:function(){return this.lazy?null==this.children?i:0!==this.children.length&&(1!==this.children.length||!this.children[0].isStatusNode()||i):!(!this.children||!this.children.length)},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),r("info",arguments))},isActive:function(){return this.tree.activeNode===this},isChildOf:function(t){return this.parent&&this.parent===t},isDescendantOf:function(t){if(!t||t.tree!==this.tree)return!1;for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},isExpanded:function(){return!!this.expanded},isFirstSibling:function(){var t=this.parent;return!t||t.children[0]===this},isFolder:function(){return!!this.folder},isLastSibling:function(){var t=this.parent;return!t||t.children[t.children.length-1]===this},isLazy:function(){return!!this.lazy},isLoaded:function(){return!this.lazy||this.hasChildren()!==i},isLoading:function(){return!!this._isLoading},isRoot:function(){return this.isRootNode()},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return!!this.selected},isStatusNode:function(){return!!this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return this.hasChildren()===i},isVisible:function(){var t,e,n=this.getParentList(!1,!1);for(t=0,e=n.length;e>t;t++)if(!n[t].expanded)return!1;return!0},lazyLoad:function(t){return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."),this.load(t)},load:function(t){var e,n,i=this;return o(this.isLazy(),"load() requires a lazy node"),t||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),n=this.tree._triggerNodeEvent("lazyLoad",this),n===!1?u(this):(o("boolean"!=typeof n,"lazyLoad event must return source in data.result"),e=this.tree._callHook("nodeLoadChildren",this,n),this.expanded&&e.always(function(){i.render()}),e)):u(this)},makeVisible:function(e){var n,i=this,o=[],r=new t.Deferred,s=this.getParentList(!1,!1),a=s.length,l=!(e&&e.noAnimation===!0),c=!(e&&e.scrollIntoView===!1);for(n=a-1;n>=0;n--)o.push(s[n].setExpanded(!0,e));return t.when.apply(t,o).done(function(){c?i.scrollIntoView(l).done(function(){r.resolve()}):r.resolve()}),r.promise()},moveTo:function(e,n,r){(n===i||"over"===n)&&(n="child");var s,a=this.parent,l="child"===n?e:e.parent;if(this!==e){if(!this.parent)throw"Cannot move system root";if(l.isDescendantOf(this))throw"Cannot move a node to its own descendant";if(1===this.parent.children.length){if(this.parent===l)return;this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else s=t.inArray(this,this.parent.children),o(s>=0,"invalid source parent"),this.parent.children.splice(s,1);if(this.parent=l,l.hasChildren())switch(n){case"child":l.children.push(this);break;case"before":s=t.inArray(e,l.children),o(s>=0,"invalid target parent"),l.children.splice(s,0,this);break;case"after":s=t.inArray(e,l.children),o(s>=0,"invalid target parent"),l.children.splice(s+1,0,this);break;default:throw"Invalid mode "+n}else l.children=[this];r&&e.visit(r,!0),this.tree!==e.tree&&(this.warn("Cross-tree moveTo is experimantal!"),this.visit(function(t){t.tree=e.tree},!0)),a.isDescendantOf(l)||a.render(),l.isDescendantOf(a)||l===a||l.render()}},navigate:function(e,n){function i(i){if(i){try{i.makeVisible()}catch(o){}return t(i.span).is(":visible")?n===!1?i.setFocus():i.setActive():(i.debug("Navigate: skipping hidden node"),void i.navigate(e,n))}}var o,r,s=!0,a=t.ui.keyCode,l=null;switch(e){case a.BACKSPACE:this.parent&&this.parent.parent&&i(this.parent);break;case a.LEFT:this.expanded?(this.setExpanded(!1),i(this)):this.parent&&this.parent.parent&&i(this.parent);break;case a.RIGHT:this.expanded||!this.children&&!this.lazy?this.children&&this.children.length&&i(this.children[0]):(this.setExpanded(),i(this));break;case a.UP:for(l=this.getPrevSibling();l&&!t(l.span).is(":visible");)l=l.getPrevSibling();for(;l&&l.expanded&&l.children&&l.children.length;)l=l.children[l.children.length-1];!l&&this.parent&&this.parent.parent&&(l=this.parent),i(l);break;case a.DOWN:if(this.expanded&&this.children&&this.children.length)l=this.children[0];else for(r=this.getParentList(!1,!0),o=r.length-1;o>=0;o--){for(l=r[o].getNextSibling();l&&!t(l.span).is(":visible");)l=l.getNextSibling();if(l)break}i(l);break;default:s=!1}},remove:function(){return this.parent.removeChild(this)},removeChild:function(t){return this.tree._callHook("nodeRemoveChild",this,t)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},render:function(t,e){return this.tree._callHook("nodeRender",this,t,e)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=i,this.renderStatus()},scheduleAction:function(t,e){this.tree.timer&&clearTimeout(this.tree.timer),this.tree.timer=null;var n=this;switch(t){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){n.tree.debug("setTimeout: trigger expand"),n.setExpanded(!0)},e);break;case"activate":this.tree.timer=setTimeout(function(){n.tree.debug("setTimeout: trigger activate"),n.setActive(!0)},e);break;default:throw"Invalid mode "+t}},scrollIntoView:function(r,a){a!==i&&s(a)&&(this.warn("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead."),a={topNode:a});var l,c,h,d,p=t.extend({effects:r===!0?{duration:200,queue:!1}:r,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent||this.tree.$container,topNode:null},a),f=new t.Deferred,m=this,g=t(this.span).height(),v=t(p.scrollParent),y=p.scrollOfs.top||0,b=p.scrollOfs.bottom||0,w=v.height(),x=v.scrollTop(),C=v,k=v[0]===e,_=p.topNode||null,T=null;return t(this.span).is(":visible")?(k?(c=t(this.span).offset().top,l=_&&_.span?t(_.span).offset().top:0,C=t("html,body")):(o(v[0]!==n&&v[0]!==n.body,"scrollParent should be an simple element or `window`, not document or body."),d=v.offset().top,c=t(this.span).offset().top-d+x,l=_?t(_.span).offset().top-d+x:0,h=Math.max(0,v.innerHeight()-v[0].clientHeight),w-=h),x+y>c?T=c-y:c+g>x+w-b&&(T=c+g-w+b,_&&(o(_.isRootNode()||t(_.span).is(":visible"),"topNode must be visible"),T>l&&(T=l-y))),null!==T?p.effects?(p.effects.complete=function(){f.resolveWith(m)},C.stop(!0).animate({scrollTop:T},p.effects)):(C[0].scrollTop=T,f.resolveWith(this)):f.resolveWith(this),f.promise()):(this.warn("scrollIntoView(): node is invisible."),u())},setActive:function(t,e){return this.tree._callHook("nodeSetActive",this,t,e)},setExpanded:function(t,e){return this.tree._callHook("nodeSetExpanded",this,t,e)},setFocus:function(t){return this.tree._callHook("nodeSetFocus",this,t)},setSelected:function(t){return this.tree._callHook("nodeSetSelected",this,t)},setStatus:function(t,e,n){return this.tree._callHook("nodeSetStatus",this,t,e,n)},setTitle:function(t){this.title=t,this.renderTitle()},sortChildren:function(t,e){var n,i,o=this.children;if(o){if(t=t||function(t,e){var n=t.title.toLowerCase(),i=e.title.toLowerCase();return n===i?0:n>i?1:-1},o.sort(t),e)for(n=0,i=o.length;i>n;n++)o[n].children&&o[n].sortChildren(t,"$norender$");"$norender$"!==e&&this.render()}},toDict:function(e,n){var i,o,r,s={},a=this;if(t.each(S,function(t,e){(a[e]||a[e]===!1)&&(s[e]=a[e])}),t.isEmptyObject(this.data)||(s.data=t.extend({},this.data),t.isEmptyObject(s.data)&&delete s.data),n&&n(s,a),e&&this.hasChildren())for(s.children=[],i=0,o=this.children.length;o>i;i++)r=this.children[i],r.isStatusNode()||s.children.push(r.toDict(!0,n));return s},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"<FancytreeNode(#"+this.key+", '"+this.title+"')>"},visit:function(t,e){var n,i,o=!0,r=this.children;if(e===!0&&(o=t(this),o===!1||"skip"===o))return o;if(r)for(n=0,i=r.length;i>n&&(o=r[n].visit(t,!0),o!==!1);n++);return o},visitAndLoad:function(e,n,i){var o,r,s,a=this;return e&&n===!0&&(r=e(a),r===!1||"skip"===r)?i?r:u():a.children||a.lazy?(o=new t.Deferred,s=[],a.load().done(function(){for(var n=0,i=a.children.length;i>n;n++){if(r=a.children[n].visitAndLoad(e,!0,!0),r===!1){o.reject();break}"skip"!==r&&s.push(r)}t.when.apply(this,s).then(function(){o.resolve()})}),o.promise()):u()},visitParents:function(t,e){if(e&&t(this)===!1)return!1;for(var n=this.parent;n;){if(t(n)===!1)return!1;n=n.parent}return!0},warn:function(){Array.prototype.unshift.call(arguments,this.toString()),r("warn",arguments)}},v.prototype={_makeHookContext:function(e,n,o){var r,s;return e.node!==i?(n&&e.originalEvent!==n&&t.error("invalid args"),r=e):e.tree?(s=e.tree,r={node:e,tree:s,widget:s.widget,options:s.widget.options,originalEvent:n}):e.widget?r={node:null,tree:e,widget:e.widget,options:e.widget.options,originalEvent:n}:t.error("invalid args"),o&&t.extend(r,o),r},_callHook:function(e,n){var i=this._makeHookContext(n),o=this[e],r=Array.prototype.slice.call(arguments,2);return t.isFunction(o)||t.error("_callHook('"+e+"') is not a function"),r.unshift(i),o.apply(this,r)},_requireExtension:function(e,n,i,r){i=!!i;var s=this._local.name,a=this.options.extensions,l=t.inArray(e,a)<t.inArray(s,a),c=n&&null==this.ext[e],u=!c&&null!=i&&i!==l;return o(s&&s!==e,"invalid or same name"),!c&&!u||(r||(c||n?(r="'"+s+"' extension requires '"+e+"'",u&&(r+=" to be registered "+(i?"before":"after")+" itself")):r="If used together, `"+e+"` must be registered "+(i?"before":"after")+" `"+s+"`"),t.error(r),!1)},activateKey:function(t){var e=this.getNodeByKey(t);return e?e.setActive():this.activeNode&&this.activeNode.setActive(!1),e},applyPatch:function(e){var n,i,r,s,a,l,c=e.length,u=[];for(i=0;c>i;i++)r=e[i],o(2===r.length,"patchList must be an array of length-2-arrays"),s=r[0],a=r[1],l=null===s?this.rootNode:this.getNodeByKey(s),l?(n=new t.Deferred,u.push(n),l.applyPatch(a).always(d(n,l))):this.warn("could not find node with key '"+s+"'");return t.when.apply(t,u).promise()},count:function(){return this.rootNode.countChildren()},debug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),r("log",arguments))},findNextNode:function(e,n){var i=null,o=n.parent.children,r=null,s=function(t,e,n){var i,o,r=t.children,a=r.length,l=r[e];if(l&&n(l)===!1)return!1;if(l&&l.children&&l.expanded&&s(l,0,n)===!1)return!1;for(i=e+1;a>i;i++)if(s(t,i,n)===!1)return!1;return o=t.parent,o?s(o,o.children.indexOf(t)+1,n):s(t,0,n)};return e="string"==typeof e?m(e):e,n=n||this.getFirstChild(),s(n.parent,o.indexOf(n),function(o){return o!==i&&(i=i||o,t(o.span).is(":visible")?(!e(o)||(r=o,r===n))&&void 0:void o.debug("quicksearch: skipping hidden node"))}),r},generateFormElements:function(e,n,i){i=i||{};var o,r="string"==typeof e?e:"ft_"+this._id+"[]",s="string"==typeof n?n:"ft_"+this._id+"_active",a="fancytree_result_"+this._id,l=t("#"+a),c=3===this.options.selectMode&&i.stopOnParents!==!1;l.length?l.empty():l=t("<div>",{id:a}).hide().insertAfter(this.$container),e!==!1&&(o=this.getSelectedNodes(c),t.each(o,function(e,n){l.append(t("<input>",{type:"checkbox",name:r,value:n.key,checked:!0}))})),n!==!1&&this.activeNode&&l.append(t("<input>",{type:"radio",name:s,value:this.activeNode.key,checked:!0}))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getNodeByKey:function(t,e){var i,o;return!e&&(i=n.getElementById(this.options.idPrefix+t))?i.ftnode?i.ftnode:null:(e=e||this.rootNode,o=null,e.visit(function(e){return e.key===t?(o=e,!1):void 0},!0),o)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(t){var e=[];return this.rootNode.visit(function(n){return n.selected&&(e.push(n),t===!0)?"skip":void 0}),e},hasFocus:function(){return!!this._hasFocus},info:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),r("info",arguments))},loadKeyPath:function(e,n,o){function r(t,e,i){n.call(v,e,"loading"),e.load().done(function(){v.loadKeyPath.call(v,h[t],n,e).always(d(i,v))}).fail(function(){v.warn("loadKeyPath: error loading: "+t+" (parent: "+f+")"),n.call(v,e,"error"),i.reject()})}var s,a,l,c,u,h,p,f,m,g=this.options.keyPathSeparator,v=this;for(t.isArray(e)||(e=[e]),h={},l=0;l<e.length;l++)for(f=o||this.rootNode,c=e[l],c.charAt(0)===g&&(c=c.substr(1)),m=c.split(g);m.length;){if(u=m.shift(),p=f._findDirectChild(u),!p){this.warn("loadKeyPath: key not found: "+u+" (parent: "+f+")"),n.call(this,u,"error");break}if(0===m.length){n.call(this,p,"ok");break}if(p.lazy&&p.hasChildren()===i){n.call(this,p,"loaded"),h[u]?h[u].push(m.join(g)):h[u]=[m.join(g)];break}n.call(this,p,"loaded"),f=p}s=[];for(u in h)p=f._findDirectChild(u),a=new t.Deferred,s.push(a),r(u,p,a);return t.when.apply(t,s).promise()},reactivate:function(t){var e,n=this.activeNode;return n?(this.activeNode=null,e=n.setActive(),t&&n.setFocus(),e):u()},reload:function(t){return this._callHook("treeClear",this),this._callHook("treeLoad",this,t)},render:function(t,e){return this.rootNode.render(t,e)},setFocus:function(t){return this._callHook("treeSetFocus",this,t)},toDict:function(t,e){var n=this.rootNode.toDict(!0,e);return t?n:n.children},toString:function(){return"<Fancytree(#"+this._id+")>"},_triggerNodeEvent:function(t,e,n,o){var r=this._makeHookContext(e,n,o),s=this.widget._trigger(t,n,r);return s!==!1&&r.result!==i?r.result:s},_triggerTreeEvent:function(t,e,n){var o=this._makeHookContext(this,e,n),r=this.widget._trigger(t,e,o);return r!==!1&&o.result!==i?o.result:r},visit:function(t){return this.rootNode.visit(t,!1)},warn:function(){Array.prototype.unshift.call(arguments,this.toString()),r("warn",arguments)}},t.extend(v.prototype,{nodeClick:function(t){var e,n,i=t.targetType,o=t.node;if("expander"===i)this._callHook("nodeToggleExpanded",t);else if("checkbox"===i)this._callHook("nodeToggleSelected",t),t.options.focusOnSelect&&this._callHook("nodeSetFocus",t,!0);else{if(n=!1,e=!0,o.folder)switch(t.options.clickFolderMode){case 2:n=!0,e=!1;break;case 3:e=!0,n=!0}e&&(this.nodeSetFocus(t),this._callHook("nodeSetActive",t,!0)),n&&this._callHook("nodeToggleExpanded",t)}},nodeCollapseSiblings:function(t,e){var n,i,o,r=t.node;if(r.parent)for(n=r.parent.children,i=0,o=n.length;o>i;i++)n[i]!==r&&n[i].expanded&&this._callHook("nodeSetExpanded",n[i],!1,e)},nodeDblclick:function(t){"title"===t.targetType&&4===t.options.clickFolderMode&&this._callHook("nodeToggleExpanded",t),"title"===t.targetType&&t.originalEvent.preventDefault()},nodeKeydown:function(e){var n,i,o,r,s=e.originalEvent,a=e.node,l=e.tree,c=e.options,u=s.which,h=String.fromCharCode(u),d=!(s.altKey||s.ctrlKey||s.metaKey||s.shiftKey),p=t(s.target),f=!0,m=!(s.ctrlKey||!c.autoActivate);if(a||(r=this.getActiveNode()||this.getFirstChild(),r&&(r.setFocus(),a=e.node=this.focusNode,a.debug("Keydown force focus on active node"))),c.quicksearch&&d&&/\w/.test(h)&&!p.is(":input:enabled"))return i=(new Date).getTime(),i-l.lastQuicksearchTime>500&&(l.lastQuicksearchTerm=""),l.lastQuicksearchTime=i,l.lastQuicksearchTerm+=h,n=l.findNextNode(l.lastQuicksearchTerm,l.getActiveNode()),n&&n.setActive(),void s.preventDefault();switch(b.eventToString(s)){case"+":case"=":l.nodeSetExpanded(e,!0);break;case"-":l.nodeSetExpanded(e,!1);break;case"space":c.checkbox?l.nodeToggleSelected(e):l.nodeSetActive(e,!0);break;case"return":l.nodeSetActive(e,!0);break;case"backspace":case"left":case"right":case"up":case"down":o=a.navigate(s.which,m);break;default:f=!1}f&&s.preventDefault()},nodeLoadChildren:function(e,n){var i,r,s,a=e.tree,l=e.node;return t.isFunction(n)&&(n=n()),n.url&&(i=t.extend({},e.options.ajax,n),i.debugDelay?(r=i.debugDelay,t.isArray(r)&&(r=r[0]+Math.random()*(r[1]-r[0])),l.debug("nodeLoadChildren waiting debug delay "+Math.round(r)+"ms"),i.debugDelay=!1,s=t.Deferred(function(e){setTimeout(function(){t.ajax(i).done(function(){e.resolveWith(this,arguments)}).fail(function(){e.rejectWith(this,arguments)})},r)})):s=t.ajax(i),n=new t.Deferred,s.done(function(i){var o,r;if("json"===this.dataType&&"string"==typeof i&&t.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),e.options.postProcess){if(r=a._triggerNodeEvent("postProcess",e,e.originalEvent,{response:i,error:null,dataType:this.dataType}),r.error)return o=t.isPlainObject(r.error)?r.error:{message:r.error},o=a._makeHookContext(l,null,o),void n.rejectWith(this,[o]);i=t.isArray(r)?r:i}else i&&i.hasOwnProperty("d")&&e.options.enableAspx&&(i="string"==typeof i.d?t.parseJSON(i.d):i.d);n.resolveWith(this,[i])}).fail(function(t,e,i){var o=a._makeHookContext(l,null,{error:t,args:Array.prototype.slice.call(arguments),message:i,details:t.status+": "+i});n.rejectWith(this,[o])})),t.isFunction(n.then)&&t.isFunction(n["catch"])&&(s=n,n=new t.Deferred,s.then(function(t){n.resolve(t)},function(t){n.reject(t)})),t.isFunction(n.promise)&&(o(!l.isLoading(),"recursive load"),a.nodeSetStatus(e,"loading"),n.done(function(){a.nodeSetStatus(e,"ok")}).fail(function(t){var n;n=t.node&&t.error&&t.message?t:a._makeHookContext(l,null,{error:t,args:Array.prototype.slice.call(arguments),message:t?t.message||t.toString():""}),a._triggerNodeEvent("loadError",n,null)!==!1&&a.nodeSetStatus(e,"error",n.message,n.details)})),t.when(n).done(function(e){var n;t.isPlainObject(e)&&(o(t.isArray(e.children),"source must contain (or be) an array of children"),o(l.isRootNode(),"source may only be an object for root nodes"),n=e,e=e.children,delete n.children,t.extend(a.data,n)),o(t.isArray(e),"expected array of children"),l._setChildren(e),a._triggerNodeEvent("loadChildren",l)})},nodeLoadKeyPath:function(){},nodeRemoveChild:function(e,n){var i,r=e.node,s=e.options,a=t.extend({},e,{node:n}),l=r.children;return 1===l.length?(o(n===l[0],"invalid single child"),this.nodeRemoveChildren(e)):(this.activeNode&&(n===this.activeNode||this.activeNode.isDescendantOf(n))&&this.activeNode.setActive(!1),this.focusNode&&(n===this.focusNode||this.focusNode.isDescendantOf(n))&&(this.focusNode=null),this.nodeRemoveMarkup(a),this.nodeRemoveChildren(a),i=t.inArray(n,l),o(i>=0,"invalid child"),n.visit(function(t){t.parent=null},!0),this._callHook("treeRegisterNode",this,!1,n),s.removeNode&&s.removeNode.call(e.tree,{
type:"removeNode"},a),void l.splice(i,1))},nodeRemoveChildMarkup:function(e){var n=e.node;n.ul&&(n.isRootNode()?t(n.ul).empty():(t(n.ul).remove(),n.ul=null),n.visit(function(t){t.li=t.ul=null}))},nodeRemoveChildren:function(e){var n,i=e.tree,o=e.node,r=o.children,s=e.options;r&&(this.activeNode&&this.activeNode.isDescendantOf(o)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(o)&&(this.focusNode=null),this.nodeRemoveChildMarkup(e),n=t.extend({},e),o.visit(function(t){t.parent=null,i._callHook("treeRegisterNode",i,!1,t),s.removeNode&&(n.node=t,s.removeNode.call(e.tree,{type:"removeNode"},n))}),o.children=o.lazy?[]:null,o.isRootNode()||(o.expanded=!1),this.nodeRenderStatus(e))},nodeRemoveMarkup:function(e){var n=e.node;n.li&&(t(n.li).remove(),n.li=null),this.nodeRemoveChildMarkup(e)},nodeRender:function(e,i,r,s,a){var l,c,u,h,d,p,f,m=e.node,g=e.tree,v=e.options,y=v.aria,b=!1,w=m.parent,x=!w,C=m.children;if(x||w.ul){if(o(x||w.ul,"parent UL must exist"),x||(m.li&&(i||m.li.parentNode!==m.parent.ul)&&(m.li.parentNode!==m.parent.ul&&this.debug("Unlinking "+m+" (must be child of "+m.parent+")"),this.nodeRemoveMarkup(e)),m.li?this.nodeRenderStatus(e):(b=!0,m.li=n.createElement("li"),m.li.ftnode=m,m.key&&v.generateIds&&(m.li.id=v.idPrefix+m.key),m.span=n.createElement("span"),m.span.className="fancytree-node",y&&t(m.span).attr("aria-labelledby","ftal_"+m.key),m.li.appendChild(m.span),this.nodeRenderTitle(e),v.createNode&&v.createNode.call(g,{type:"createNode"},e)),v.renderNode&&v.renderNode.call(g,{type:"renderNode"},e)),C){if(x||m.expanded||r===!0){for(m.ul||(m.ul=n.createElement("ul"),(s===!0&&!a||!m.expanded)&&(m.ul.style.display="none"),y&&t(m.ul).attr("role","group"),m.li?m.li.appendChild(m.ul):m.tree.$div.append(m.ul)),h=0,d=C.length;d>h;h++)f=t.extend({},e,{node:C[h]}),this.nodeRender(f,i,r,!1,!0);for(l=m.ul.firstChild;l;)u=l.ftnode,u&&u.parent!==m?(m.debug("_fixParent: remove missing "+u,l),p=l.nextSibling,l.parentNode.removeChild(l),l=p):l=l.nextSibling;for(l=m.ul.firstChild,h=0,d=C.length-1;d>h;h++)c=C[h],u=l.ftnode,c!==u?m.ul.insertBefore(c.li,u.li):l=l.nextSibling}}else m.ul&&(this.warn("remove child markup for "+m),this.nodeRemoveChildMarkup(e));x||b&&w.ul.appendChild(m.li)}},nodeRenderTitle:function(t,e){var n,o,r,s,a,l,c=t.node,u=t.tree,h=t.options,d=h.aria,p=c.getLevel(),f=[],m=c.data.icon;e!==i&&(c.title=e),c.span&&(p<h.minExpandLevel?(c.lazy||(c.expanded=!0),p>1&&f.push(d?"<span role='button' class='fancytree-expander fancytree-expander-fixed'></span>":"<span class='fancytree-expander fancytree-expander-fixed''></span>")):f.push(d?"<span role='button' class='fancytree-expander'></span>":"<span class='fancytree-expander'></span>"),h.checkbox&&c.hideCheckbox!==!0&&!c.isStatusNode()&&f.push(d?"<span role='checkbox' class='fancytree-checkbox'></span>":"<span class='fancytree-checkbox'></span>"),s=d?" role='img'":"",(m===!0||m!==!1&&h.icons!==!1)&&(m&&"string"==typeof m?(m="/"===m.charAt(0)?m:(h.imagePath||"")+m,f.push("<img src='"+m+"' class='fancytree-icon' alt='' />")):(o=h.iconClass&&h.iconClass.call(u,c,t)||c.data.iconclass||null,f.push(o?"<span "+s+" class='fancytree-custom-icon "+o+"'></span>":"<span "+s+" class='fancytree-icon'></span>"))),r="",h.renderTitle&&(r=h.renderTitle.call(u,{type:"renderTitle"},t)||""),r||(l=c.tooltip?" title='"+b.escapeHtml(c.tooltip)+"'":"",n=d?" id='ftal_"+c.key+"'":"",s=d?" role='treeitem'":"",a=h.titlesTabbable?" tabindex='0'":"",r="<span "+s+" class='fancytree-title'"+n+l+a+">"+c.title+"</span>"),f.push(r),c.span.innerHTML=f.join(""),this.nodeRenderStatus(t))},nodeRenderStatus:function(e){var n=e.node,i=e.tree,o=e.options,r=n.hasChildren(),s=n.isLastSibling(),a=o.aria,l=t(n.span).find(".fancytree-title"),c=o._classNames,u=[],h=n[i.statusClassPropName];h&&(u.push(c.node),i.activeNode===n&&u.push(c.active),i.focusNode===n?(u.push(c.focused),a&&l.attr("aria-activedescendant",!0)):a&&l.removeAttr("aria-activedescendant"),n.expanded?(u.push(c.expanded),a&&l.attr("aria-expanded",!0)):a&&l.removeAttr("aria-expanded"),n.folder&&u.push(c.folder),r!==!1&&u.push(c.hasChildren),s&&u.push(c.lastsib),n.lazy&&null==n.children&&u.push(c.lazy),n.partsel&&u.push(c.partsel),n.unselectable&&u.push(c.unselectable),n._isLoading&&u.push(c.loading),n._error&&u.push(c.error),n.selected?(u.push(c.selected),a&&l.attr("aria-selected",!0)):a&&l.attr("aria-selected",!1),n.extraClasses&&u.push(n.extraClasses),u.push(r===!1?c.combinedExpanderPrefix+"n"+(s?"l":""):c.combinedExpanderPrefix+(n.expanded?"e":"c")+(n.lazy&&null==n.children?"d":"")+(s?"l":"")),u.push(c.combinedIconPrefix+(n.expanded?"e":"c")+(n.folder?"f":"")),h.className=u.join(" "),n.li&&(n.li.className=s?c.lastsib:""))},nodeSetActive:function(e,n,i){i=i||{};var r,s=e.node,a=e.tree,l=e.options,c=i.noEvents===!0,d=i.noFocus===!0,p=s===a.activeNode;return n=n!==!1,p===n?u(s):n&&!c&&this._triggerNodeEvent("beforeActivate",s,e.originalEvent)===!1?h(s,["rejected"]):(n?(a.activeNode&&(o(a.activeNode!==s,"node was active (inconsistency)"),r=t.extend({},e,{node:a.activeNode}),a.nodeSetActive(r,!1),o(null===a.activeNode,"deactivate was out of sync?")),l.activeVisible&&s.makeVisible({scrollIntoView:!1}),a.activeNode=s,a.nodeRenderStatus(e),d||a.nodeSetFocus(e),c||a._triggerNodeEvent("activate",s,e.originalEvent)):(o(a.activeNode===s,"node was not active (inconsistency)"),a.activeNode=null,this.nodeRenderStatus(e),c||e.tree._triggerNodeEvent("deactivate",s,e.originalEvent)),u(s))},nodeSetExpanded:function(e,n,o){o=o||{};var r,s,a,l,c,d,p=e.node,f=e.tree,m=e.options,g=o.noAnimation===!0,v=o.noEvents===!0;if(n=n!==!1,p.expanded&&n||!p.expanded&&!n)return u(p);if(n&&!p.lazy&&!p.hasChildren())return u(p);if(!n&&p.getLevel()<m.minExpandLevel)return h(p,["locked"]);if(!v&&this._triggerNodeEvent("beforeExpand",p,e.originalEvent)===!1)return h(p,["rejected"]);if(g||p.isVisible()||(g=o.noAnimation=!0),s=new t.Deferred,n&&!p.expanded&&m.autoCollapse){c=p.getParentList(!1,!0),d=m.autoCollapse;try{for(m.autoCollapse=!1,a=0,l=c.length;l>a;a++)this._callHook("nodeCollapseSiblings",c[a],o)}finally{m.autoCollapse=d}}return s.done(function(){var t=p.getLastChild();n&&m.autoScroll&&!g&&t?t.scrollIntoView(!0,{topNode:p}).always(function(){v||e.tree._triggerNodeEvent(n?"expand":"collapse",e)}):v||e.tree._triggerNodeEvent(n?"expand":"collapse",e)}),r=function(i){var o,r,s=m.toggleEffect;if(p.expanded=n,f._callHook("nodeRender",e,!1,!1,!0),p.ul)if(o="none"!==p.ul.style.display,r=!!p.expanded,o===r)p.warn("nodeSetExpanded: UL.style.display already set");else{if(s&&!g)return void t(p.ul).toggle(s.effect,s.options,s.duration,function(){i()});p.ul.style.display=p.expanded||!parent?"":"none"}i()},n&&p.lazy&&p.hasChildren()===i?p.load().done(function(){s.notifyWith&&s.notifyWith(p,["loaded"]),r(function(){s.resolveWith(p)})}).fail(function(t){r(function(){s.rejectWith(p,["load failed ("+t+")"])})}):r(function(){s.resolveWith(p)}),s.promise()},nodeSetFocus:function(e,n){var i,o=e.tree,r=e.node;if(n=n!==!1,o.focusNode){if(o.focusNode===r&&n)return;i=t.extend({},e,{node:o.focusNode}),o.focusNode=null,this._triggerNodeEvent("blur",i),this._callHook("nodeRenderStatus",i)}n&&(this.hasFocus()||(r.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",e,!0,{calledByNode:!0})),r.makeVisible({scrollIntoView:!1}),o.focusNode=r,this._triggerNodeEvent("focus",e),e.options.autoScroll&&r.scrollIntoView(),this._callHook("nodeRenderStatus",e))},nodeSetSelected:function(t,e){var n=t.node,i=t.tree,o=t.options;if(e=e!==!1,n.debug("nodeSetSelected("+e+")",t),!n.unselectable){if(n.selected&&e||!n.selected&&!e)return!!n.selected;if(this._triggerNodeEvent("beforeSelect",n,t.originalEvent)===!1)return!!n.selected;e&&1===o.selectMode?i.lastSelectedNode&&i.lastSelectedNode.setSelected(!1):3===o.selectMode&&(n.selected=e,n.fixSelection3AfterClick()),n.selected=e,this.nodeRenderStatus(t),i.lastSelectedNode=e?n:null,i._triggerNodeEvent("select",t)}},nodeSetStatus:function(e,n,i,o){function r(){var t=a.children?a.children[0]:null;if(t&&t.isStatusNode()){try{a.ul&&(a.ul.removeChild(t.li),t.li=null)}catch(e){}1===a.children.length?a.children=[]:a.children.shift()}}function s(e,n){var i=a.children?a.children[0]:null;return i&&i.isStatusNode()?(t.extend(i,e),l._callHook("nodeRenderTitle",i)):(e.key="_statusNode",a._setChildren([e]),a.children[0].statusNodeType=n,l.render()),a.children[0]}var a=e.node,l=e.tree;switch(n){case"ok":r(),a._isLoading=!1,a._error=null,a.renderStatus();break;case"loading":a.parent||s({title:l.options.strings.loading+(i?" ("+i+") ":""),tooltip:o,extraClasses:"fancytree-statusnode-wait"},n),a._isLoading=!0,a._error=null,a.renderStatus();break;case"error":s({title:l.options.strings.loadError+(i?" ("+i+") ":""),tooltip:o,extraClasses:"fancytree-statusnode-error"},n),a._isLoading=!1,a._error={message:i,details:o},a.renderStatus();break;default:t.error("invalid node status "+n)}},nodeToggleExpanded:function(t){return this.nodeSetExpanded(t,!t.node.expanded)},nodeToggleSelected:function(t){return this.nodeSetSelected(t,!t.node.selected)},treeClear:function(t){var e=t.tree;e.activeNode=null,e.focusNode=null,e.$div.find(">ul.fancytree-container").empty(),e.rootNode.children=null},treeCreate:function(){},treeDestroy:function(){this.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("ui-helper-hidden")},treeInit:function(t){this.treeLoad(t)},treeLoad:function(e,n){var i,o,r,s=e.tree,a=e.widget.element,l=t.extend({},e,{node:this.rootNode});if(s.rootNode.children&&this.treeClear(e),n=n||this.options.source)"string"==typeof n&&t.error("Not implemented");else switch(i=a.data("type")||"html"){case"html":o=a.find(">ul:first"),o.addClass("ui-fancytree-source ui-helper-hidden"),n=t.ui.fancytree.parseHtml(o),this.data=t.extend(this.data,p(o));break;case"json":n=t.parseJSON(a.text()),n.children&&(n.title&&(s.title=n.title),n=n.children);break;default:t.error("Invalid data-type: "+i)}return r=this.nodeLoadChildren(l,n).done(function(){s.render(),3===e.options.selectMode&&s.rootNode.fixSelection3FromEndNodes(),s._triggerTreeEvent("init",null,{status:!0})}).fail(function(){s.render(),s._triggerTreeEvent("init",null,{status:!1})})},treeRegisterNode:function(){},treeSetFocus:function(t,e){e=e!==!1,e!==this.hasFocus()&&(this._hasFocus=e,!e&&this.focusNode&&this.focusNode.setFocus(!1),this.$container.toggleClass("fancytree-treefocus",e),this._triggerTreeEvent(e?"focusTree":"blurTree"))}}),t.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!1,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,debugLevel:null,disabled:!1,enableAspx:!0,extensions:[],toggleEffect:{effect:"blind",options:{direction:"vertical",scale:"box"},duration:200},generateIds:!1,icons:!0,idPrefix:"ft_",focusOnSelect:!1,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,quicksearch:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading&#8230;",loadError:"Load error!"},tabbable:!0,titlesTabbable:!1,_classNames:{node:"fancytree-node",folder:"fancytree-folder",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",hasChildren:"fancytree-has-children",active:"fancytree-active",selected:"fancytree-selected",expanded:"fancytree-expanded",lazy:"fancytree-lazy",focused:"fancytree-focused",partsel:"fancytree-partsel",unselectable:"fancytree-unselectable",lastsib:"fancytree-lastsib",loading:"fancytree-loading",error:"fancytree-error"},lazyLoad:null,postProcess:null},_create:function(){this.tree=new v(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul:first");var e,n,r,s=this.options.extensions,a=this.tree;for(r=0;r<s.length;r++)n=s[r],e=t.ui.fancytree._extensions[n],e||t.error("Could not apply extension '"+n+"' (it is not registered, did you forget to include it?)"),this.tree.options[n]=t.extend(!0,{},e.options,this.tree.options[n]),o(this.tree.ext[n]===i,"Extension name must not exist as Fancytree.ext attribute: '"+n+"'"),this.tree.ext[n]={},c(this.tree,a,e,n),a=e;this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(e,n){var i=!0,o=!1;switch(e){case"aria":case"checkbox":case"icons":case"minExpandLevel":case"tabbable":this.tree._callHook("treeCreate",this.tree),o=!0;break;case"source":i=!1,this.tree._callHook("treeLoad",this.tree,n)}this.tree.debug("set option "+e+"="+n+" <"+typeof n+">"),i&&t.Widget.prototype._setOption.apply(this,arguments),o&&this.tree.render(!0,!1)},destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree),t.Widget.prototype.destroy.call(this)},_unbind:function(){var e=this.tree._ns;this.element.unbind(e),this.tree.$container.unbind(e),t(n).unbind(e)},_bind:function(){var t=this,e=this.options,n=this.tree,i=n._ns;this._unbind(),n.$container.on("focusin"+i+" focusout"+i,function(t){var e=b.getNode(t),i="focusin"===t.type;e?n._callHook("nodeSetFocus",e,i):n._callHook("treeSetFocus",n,i)}).on("selectstart"+i,"span.fancytree-title",function(t){t.preventDefault()}).on("keydown"+i,function(t){if(e.disabled||e.keyboard===!1)return!0;var i,o=n.focusNode,r=n._makeHookContext(o||n,t),s=n.phase;try{return n.phase="userEvent",i=o?n._triggerNodeEvent("keydown",o,t):n._triggerTreeEvent("keydown",t),"preventNav"===i?i=!0:i!==!1&&(i=n._callHook("nodeKeydown",r)),i}finally{n.phase=s}}).on("click"+i+" dblclick"+i,function(n){if(e.disabled)return!0;var i,o=b.getEventTarget(n),r=o.node,s=t.tree,a=s.phase;if(!r)return!0;i=s._makeHookContext(r,n);try{switch(s.phase="userEvent",n.type){case"click":return i.targetType=o.type,s._triggerNodeEvent("click",i,n)!==!1&&s._callHook("nodeClick",i);case"dblclick":return i.targetType=o.type,s._triggerNodeEvent("dblclick",i,n)!==!1&&s._callHook("nodeDblclick",i)}}finally{s.phase=a}})},getActiveNode:function(){return this.tree.activeNode},getNodeByKey:function(t){return this.tree.getNodeByKey(t)},getRootNode:function(){return this.tree.rootNode},getTree:function(){return this.tree}}),b=t.ui.fancytree,t.extend(t.ui.fancytree,{version:"2.11.0",buildType:"production",debugLevel:1,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:v,_FancytreeNodeClass:g,jquerySupports:{positionMyOfs:a(t.ui.version,1,9)},assert:function(t,e){return o(t,e)},debounce:function(t,e,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var r=arguments;i=i||this,n&&!o&&e.apply(i,r),clearTimeout(o),o=setTimeout(function(){n||e.apply(i,r),o=null},t)}},debug:function(){t.ui.fancytree.debugLevel>=2&&r("log",arguments)},error:function(){r("error",arguments)},escapeHtml:function(t){return(""+t).replace(/[&<>"'\/]/g,function(t){return w[t]})},fixPositionOptions:function(e){if((e.offset||(""+e.my+e.at).indexOf("%")>=0)&&t.error("expected new position syntax (but '%' is not supported)"),!t.ui.fancytree.jquerySupports.positionMyOfs){var n=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(e.my),i=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(e.at),o=(n[2]?+n[2]:0)+(i[2]?+i[2]:0),r=(n[4]?+n[4]:0)+(i[4]?+i[4]:0);e=t.extend({},e,{my:n[1]+" "+n[3],at:i[1]+" "+i[3]}),(o||r)&&(e.offset=""+o+" "+r)}return e},getEventTargetType:function(t){return this.getEventTarget(t).type},getEventTarget:function(e){var n=e&&e.target?e.target.className:"",o={node:this.getNode(e.target),type:i};return/\bfancytree-title\b/.test(n)?o.type="title":/\bfancytree-expander\b/.test(n)?o.type=o.node.hasChildren()===!1?"prefix":"expander":/\bfancytree-checkbox\b/.test(n)||/\bfancytree-radio\b/.test(n)?o.type="checkbox":/\bfancytree-icon\b/.test(n)?o.type="icon":/\bfancytree-node\b/.test(n)?o.type="title":e&&e.target&&t(e.target).closest(".fancytree-title").length&&(o.type="title"),o},getNode:function(t){if(t instanceof g)return t;for(t.selector!==i?t=t[0]:t.originalEvent!==i&&(t=t.target);t;){if(t.ftnode)return t.ftnode;t=t.parentNode}return null},info:function(){t.ui.fancytree.debugLevel>=1&&r("info",arguments)},eventToString:function(t){var e=t.which,n=t.type,i=[];return t.altKey&&i.push("alt"),t.ctrlKey&&i.push("ctrl"),t.metaKey&&i.push("meta"),t.shiftKey&&i.push("shift"),"click"===n||"dblclick"===n?i.push(k[t.button]+n):x[e]||i.push(C[e]||String.fromCharCode(e).toLowerCase()),i.join("+")},keyEventToString:function(t){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(t)},parseHtml:function(e){var n,o,r,s,a,l,c,u,h=e.find(">li"),d=[];return h.each(function(){var h,f=t(this),m=f.find(">span:first",this),g=m.length?null:f.find(">a:first"),v={tooltip:null,data:{}};for(m.length?v.title=m.html():g&&g.length?(v.title=g.html(),v.data.href=g.attr("href"),v.data.target=g.attr("target"),v.tooltip=g.attr("title")):(v.title=f.html(),s=v.title.search(/<ul/i),s>=0&&(v.title=v.title.substring(0,s))),v.title=t.trim(v.title),o=0,r=_.length;r>o;o++)v[_[o]]=i;for(c=this.className.split(" "),n=[],o=0,r=c.length;r>o;o++)u=c[o],T[u]?v[u]=!0:n.push(u);if(v.extraClasses=n.join(" "),a=f.attr("title"),a&&(v.tooltip=a),a=f.attr("id"),a&&(v.key=a),h=p(f),h&&!t.isEmptyObject(h)){for(o=0,r=S.length;r>o;o++)a=S[o],l=h[a],null!=l&&(delete h[a],v[a]=l);t.extend(v.data,h)}e=f.find(">ul:first"),v.children=e.length?t.ui.fancytree.parseHtml(e):v.lazy?i:null,d.push(v)}),d},registerExtension:function(e){o(null!=e.name,"extensions must have a `name` property."),o(null!=e.version,"extensions must have a `version` property."),t.ui.fancytree._extensions[e.name]=e},unescapeHtml:function(t){var e=n.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue},warn:function(){r("warn",arguments)}})}(jQuery,window,document),!function(t){"use strict";t.ui.fancytree._FancytreeClass.prototype.countSelected=function(t){var e=this;return e.options,e.getSelectedNodes(t).length},t.ui.fancytree._FancytreeNodeClass.prototype.toUpper=function(){var t=this;return t.setTitle(t.title.toUpperCase())},t.ui.fancytree.prototype.widgetMethod1=function(t){return this.tree,t},t.ui.fancytree.registerExtension({name:"childcounter",version:"1.0.0",options:{deep:!0,hideZeros:!0,hideExpanded:!1},foo:42,_appendCounter:function(){},treeInit:function(t){t.options,t.options.childcounter,this._superApply(arguments),this.$container.addClass("fancytree-ext-childcounter")},treeDestroy:function(){this._superApply(arguments)},nodeRenderTitle:function(e){var n=e.node,i=e.options.childcounter,o=null==n.data.childCounter?n.countChildren(i.deep):+n.data.childCounter;this._superApply(arguments),!o&&i.hideZeros||n.isExpanded()&&i.hideExpanded||t("span.fancytree-icon",n.span).append(t("<span class='fancytree-childcounter'/>").text(o))},nodeSetExpanded:function(t){var e=t.tree;return t.node,this._superApply(arguments).always(function(){e.nodeRenderTitle(t)})}})}(jQuery),!function(t){"use strict";function e(e,n){e||(n=n?": "+n:"",t.error("Assertion failed"+n))}function n(t,e){var n;for(n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0;return!1}function i(t,e,n){for(var i,o,r=3&t.length,s=t.length-r,a=n,l=3432918353,c=461845907,u=0;s>u;)o=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,a^=o,a=a<<13|a>>>19,i=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=(65535&i)+27492+(((i>>>16)+58964&65535)<<16);switch(o=0,r){case 3:o^=(255&t.charCodeAt(u+2))<<16;case 2:o^=(255&t.charCodeAt(u+1))<<8;case 1:o^=255&t.charCodeAt(u),o=(65535&o)*l+(((o>>>16)*l&65535)<<16)&4294967295,o=o<<15|o>>>17,o=(65535&o)*c+(((o>>>16)*c&65535)<<16)&4294967295,a^=o}return a^=t.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,e?("0000000"+(a>>>0).toString(16)).substr(-8):a>>>0}function o(e){var n,o=t.map(e.getParentList(!1,!0),function(t){return t.refKey||t.key});return o=o.join("/"),n="id_"+i(o,!0)}t.ui.fancytree._FancytreeNodeClass.prototype.getCloneList=function(e){var n,i=this.tree,o=i.refMap[this.refKey]||null,r=i.keyMap;return o&&(n=this.key,e?o=t.map(o,function(t){return r[t]}):(o=t.map(o,function(t){return t===n?null:r[t]}),o.length<1&&(o=null))),o},t.ui.fancytree._FancytreeNodeClass.prototype.isClone=function(){var t=this.refKey||null,e=t&&this.tree.refMap[t]||null;return!!(e&&e.length>1)},t.ui.fancytree._FancytreeNodeClass.prototype.reRegister=function(e,n){e=null==e?null:""+e,n=null==n?null:""+n;var i=this.tree,o=this.key,r=this.refKey,s=i.keyMap,a=i.refMap,l=a[r]||null,c=!1;return null!=e&&e!==this.key&&(s[e]&&t.error("[ext-clones] reRegister("+e+"): already exists: "+this),delete s[o],s[e]=this,l&&(a[r]=t.map(l,function(t){return t===o?e:t})),this.key=e,c=!0),null!=n&&n!==this.refKey&&(l&&(1===l.length?delete a[r]:a[r]=t.map(l,function(t){return t===o?null:t})),a[n]?a[n].append(e):a[n]=[this.key],this.refKey=n,c=!0),c},t.ui.fancytree._FancytreeClass.prototype.getNodesByRef=function(e,n){var i=this.keyMap,o=this.refMap[e]||null;return o&&(o=n?t.map(o,function(t){var e=i[t];return e.isDescendantOf(n)?e:null}):t.map(o,function(t){return i[t]}),o.length<1&&(o=null)),o},t.ui.fancytree._FancytreeClass.prototype.changeRefKey=function(t,e){var n,i,o=this.keyMap,r=this.refMap[t]||null;if(r){for(n=0;n<r.length;n++)i=o[r[n]],i.refKey=e;delete this.refMap[t],this.refMap[e]=r}},t.ui.fancytree.registerExtension({name:"clones",version:"0.0.3",options:{highlightActiveClones:!0,highlightClones:!1},treeCreate:function(t){this._superApply(arguments),t.tree.refMap={},t.tree.keyMap={}},treeInit:function(t){this.$container.addClass("fancytree-ext-clones"),e(null==t.options.defaultKey),t.options.defaultKey=function(t){return o(t)},this._superApply(arguments)},treeClear:function(t){return t.tree.refMap={},t.tree.keyMap={},this._superApply(arguments)},treeRegisterNode:function(i,o,r){var s,a,l=i.tree,c=l.keyMap,u=l.refMap,h=r.key,d=r&&null!=r.refKey?""+r.refKey:null;return"_statusNode"===h?this._superApply(arguments):(o?(null!=c[r.key]&&t.error("clones.treeRegisterNode: node.key already exists: "+r),c[h]=r,d&&(s=u[d],s?(s.push(h),2===s.length&&i.options.clones.highlightClones&&c[s[0]].renderStatus()):u[d]=[h])):(null==c[h]&&t.error("clones.treeRegisterNode: node.key not registered: "+r.key),delete c[h],d&&(s=u[d],s&&(a=s.length,1>=a?(e(1===a),e(s[0]===h),delete u[d]):(n(s,h),2===a&&i.options.clones.highlightClones&&c[s[0]].renderStatus())))),this._superApply(arguments))},nodeRenderStatus:function(e){var n,i,o=e.node;return i=this._superApply(arguments),e.options.clones.highlightClones&&(n=t(o[e.tree.statusClassPropName]),n.length&&o.isClone()&&n.addClass("fancytree-clone")),i},nodeSetActive:function(e,n){var i,o=e.tree.statusClassPropName,r=e.node;return i=this._superApply(arguments),e.options.clones.highlightActiveClones&&r.isClone()&&t.each(r.getCloneList(!0),function(e,i){t(i[o]).toggleClass("fancytree-active-clone",n!==!1)}),i}})}(jQuery,window,document),!function(t,e,n,i){"use strict";function o(t){return 0===t?"":t>0?"+"+t:""+t}function r(e){var n=e.options.dnd||null,i=e.options.glyph||null;n&&s(),n&&n.dragStart&&e.widget.element.draggable(t.extend({addClasses:!1,appendTo:e.$container,containment:!1,delay:0,distance:4,revert:!1,scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToFancytree:!0,helper:function(e){var n,o,r=t.ui.fancytree.getNode(e.target);return r?(o=t(r.span),n=t("<div class='fancytree-drag-helper'><span class='fancytree-drag-helper-img' /></div>").css({zIndex:3,position:"relative"}).append(o.find("span.fancytree-title").clone()),n.data("ftSourceNode",r),i&&n.find(".fancytree-drag-helper-img").addClass(i.map.dragHelper),n):"<div>ERROR?: helper requested but sourceNode not found</div>"},start:function(t,e){var n=e.helper.data("ftSourceNode");return!!n}},e.options.dnd.draggable)),n&&n.dragDrop&&e.widget.element.droppable(t.extend({addClasses:!1,tolerance:"intersect",greedy:!1},e.options.dnd.droppable))}function s(){a||(t.ui.plugin.add("draggable","connectToFancytree",{start:function(e,n){var i=t(this).data("ui-draggable")||t(this).data("draggable"),o=n.helper.data("ftSourceNode")||null;return o?(i.offset.click.top=-2,i.offset.click.left=16,o.tree.ext.dnd._onDragEvent("start",o,null,e,n,i)):void 0},drag:function(e,n){var i,o,r=t(this).data("ui-draggable")||t(this).data("draggable"),s=n.helper.data("ftSourceNode")||null,a=n.helper.data("ftTargetNode")||null,l=t.ui.fancytree.getNode(e.target);return e.target&&!l&&(i=t(e.target).closest("div.fancytree-drag-helper,#fancytree-drop-marker").length>0)?(o=s||a||t.ui.fancytree,void o.debug("Drag event over helper: ignored.")):(n.helper.data("ftTargetNode",l),a&&a!==l&&a.tree.ext.dnd._onDragEvent("leave",a,s,e,n,r),void(l&&l.tree.options.dnd.dragDrop&&(l===a?l.tree.ext.dnd._onDragEvent("over",l,s,e,n,r):l.tree.ext.dnd._onDragEvent("enter",l,s,e,n,r))))},stop:function(e,n){var i,o=t(this).data("ui-draggable")||t(this).data("draggable"),r=n.helper.data("ftSourceNode")||null,s=n.helper.data("ftTargetNode")||null,a=e.type,l="mouseup"===a&&1===e.which;l||(i=r||s||t.ui.fancytree,i.debug("Drag was cancelled")),s&&(l&&s.tree.ext.dnd._onDragEvent("drop",s,r,e,n,o),s.tree.ext.dnd._onDragEvent("leave",s,r,e,n,o)),r&&r.tree.ext.dnd._onDragEvent("stop",r,null,e,n,o)}}),a=!0)}var a=!1;t.ui.fancytree.registerExtension({name:"dnd",version:"0.1.0",options:{autoExpandMS:1e3,draggable:null,droppable:null,focusOnClick:!1,preventVoidMoves:!0,preventRecursiveMoves:!0,dragStart:null,dragStop:null,dragEnter:null,dragOver:null,dragDrop:null,dragLeave:null},treeInit:function(e){var n=e.tree;this._superApply(arguments),n.options.dnd.dragStart&&n.$container.on("mousedown",function(n){if(e.options.dnd.focusOnClick){var i=t.ui.fancytree.getNode(n);i&&i.debug("Re-enable focus that was prevented by jQuery UI draggable."),setTimeout(function(){t(n.target).closest(":tabbable").focus()},10)}}),r(n)},nodeKeydown:function(e){var n=e.originalEvent;return n.which===t.ui.keyCode.ESCAPE&&this._local._cancelDrag(),this._superApply(arguments)},nodeClick:function(){return this._superApply(arguments)},_setDndStatus:function(e,n,i,r,s){var a=0,l="center",c=this._local,u=this.options.glyph||null,h=e?t(e.span):null,d=t(n.span);if(c.$dropMarker||(c.$dropMarker=t("<div id='fancytree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo(t(this.$div).parent()),u&&c.$dropMarker.addClass(u.map.dropMarker)),"after"===r||"before"===r||"over"===r){switch(r){case"before":c.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-over").addClass("fancytree-drop-before"),l="top";break;case"after":c.$dropMarker.removeClass("fancytree-drop-before fancytree-drop-over").addClass("fancytree-drop-after"),l="bottom";break;default:c.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-before").addClass("fancytree-drop-over"),d.addClass("fancytree-drop-target"),a=8}c.$dropMarker.show().position(t.ui.fancytree.fixPositionOptions({my:"left"+o(a)+" center",at:"left "+l,of:d}))}else d.removeClass("fancytree-drop-target"),c.$dropMarker.hide();"after"===r?d.addClass("fancytree-drop-after"):d.removeClass("fancytree-drop-after"),"before"===r?d.addClass("fancytree-drop-before"):d.removeClass("fancytree-drop-before"),s===!0?(h&&h.addClass("fancytree-drop-accept"),d.addClass("fancytree-drop-accept"),i.addClass("fancytree-drop-accept")):(h&&h.removeClass("fancytree-drop-accept"),d.removeClass("fancytree-drop-accept"),i.removeClass("fancytree-drop-accept")),s===!1?(h&&h.addClass("fancytree-drop-reject"),d.addClass("fancytree-drop-reject"),i.addClass("fancytree-drop-reject")):(h&&h.removeClass("fancytree-drop-reject"),d.removeClass("fancytree-drop-reject"),i.removeClass("fancytree-drop-reject"))},_onDragEvent:function(e,n,o,r,s,a){"over"!==e&&this.debug("tree.ext.dnd._onDragEvent(%s, %o, %o) - %o",e,n,o,this);var l,c,u,h,d,p,f=this.options,m=f.dnd,g=this._makeHookContext(n,r,{otherNode:o,ui:s,draggable:a}),v=null,y=t(n.span);switch(e){case"start":n.isStatusNode()?v=!1:m.dragStart&&(v=m.dragStart(n,g)),v===!1?(this.debug("tree.dragStart() cancelled"),s.helper.trigger("mouseup").hide()):y.addClass("fancytree-drag-source");break;case"enter":p=(!m.preventRecursiveMoves||!n.isDescendantOf(o))&&(m.dragEnter?m.dragEnter(n,g):null),v=!!p&&(t.isArray(p)?{over:t.inArray("over",p)>=0,before:t.inArray("before",p)>=0,after:t.inArray("after",p)>=0}:{over:p===!0||"over"===p,before:p===!0||"before"===p,after:p===!0||"after"===p}),s.helper.data("enterResponse",v),this.debug("helper.enterResponse: %o",v);break;case"over":h=s.helper.data("enterResponse"),d=null,h===!1||("string"==typeof h?d=h:(l=y.offset(),c={x:r.pageX-l.left,y:r.pageY-l.top},u={x:c.x/y.width(),y:c.y/y.height()},h.after&&u.y>.75?d="after":!h.over&&h.after&&u.y>.5?d="after":h.before&&u.y<=.25?d="before":!h.over&&h.before&&u.y<=.5?d="before":h.over&&(d="over"),m.preventVoidMoves&&(n===o?(this.debug("    drop over source node prevented"),d=null):"before"===d&&o&&n===o.getNextSibling()?(this.debug("    drop after source node prevented"),d=null):"after"===d&&o&&n===o.getPrevSibling()?(this.debug("    drop before source node prevented"),d=null):"over"===d&&o&&o.parent===n&&o.isLastSibling()&&(this.debug("    drop last child over own parent prevented"),d=null)),s.helper.data("hitMode",d))),"over"===d&&m.autoExpandMS&&n.hasChildren()!==!1&&!n.expanded&&n.scheduleAction("expand",m.autoExpandMS),d&&m.dragOver&&(g.hitMode=d,v=m.dragOver(n,g)),this._local._setDndStatus(o,n,s.helper,d,v!==!1&&null!==d);break;case"drop":d=s.helper.data("hitMode"),d&&m.dragDrop&&(g.hitMode=d,m.dragDrop(n,g));break;case"leave":n.scheduleAction("cancel"),s.helper.data("enterResponse",null),s.helper.data("hitMode",null),this._local._setDndStatus(o,n,s.helper,"out",i),m.dragLeave&&m.dragLeave(n,g);break;case"stop":y.removeClass("fancytree-drag-source"),m.dragStop&&m.dragStop(n,g);break;default:t.error("Unsupported drag event: "+e)}return v},_cancelDrag:function(){var e=t.ui.ddmanager.current;e&&e.cancel()}})}(jQuery,window,document),!function(t,e,n){"use strict";var i=/Mac/.test(navigator.platform),o=t.ui.fancytree.escapeHtml,r=t.ui.fancytree.unescapeHtml;t.ui.fancytree._FancytreeNodeClass.prototype.editStart=function(){var e,i=this,o=this.tree,s=o.ext.edit,a=o.options.edit,l=t(".fancytree-title",i.span),c={node:i,tree:o,options:o.options,isNew:t(i[o.statusClassPropName]).hasClass("fancytree-edit-new"),orgTitle:i.title,input:null,dirty:!1};return a.beforeEdit.call(i,{type:"beforeEdit"},c)!==!1&&(t.ui.fancytree.assert(!s.currentNode,"recursive edit"),s.currentNode=this,s.eventData=c,o.widget._unbind(),t(n).on("mousedown.fancytree-edit",function(e){t(e.target).hasClass("fancytree-edit-input")||i.editEnd(!0,e)}),e=t("<input />",{"class":"fancytree-edit-input",type:"text",value:r(c.orgTitle)}),s.eventData.input=e,null!=a.adjustWidthOfs&&e.width(l.width()+a.adjustWidthOfs),null!=a.inputCss&&e.css(a.inputCss),l.html(e),e.focus().change(function(){e.addClass("fancytree-edit-dirty")}).keydown(function(e){switch(e.which){case t.ui.keyCode.ESCAPE:i.editEnd(!1,e);break;case t.ui.keyCode.ENTER:return i.editEnd(!0,e),!1}e.stopPropagation()}).blur(function(t){return i.editEnd(!0,t)}),void a.edit.call(i,{type:"edit"},c))},t.ui.fancytree._FancytreeNodeClass.prototype.editEnd=function(e){var i,r=this,s=this.tree,a=s.ext.edit,l=a.eventData,c=s.options.edit,u=t(".fancytree-title",r.span),h=u.find("input.fancytree-edit-input");return c.trim&&h.val(t.trim(h.val())),i=h.val(),l.dirty=i!==r.title,l.save=e!==!1&&(l.isNew?""!==i:l.dirty&&""!==i),c.beforeClose.call(r,{type:"beforeClose"},l)!==!1&&((!l.save||c.save.call(r,{type:"save"},l)!==!1)&&(h.removeClass("fancytree-edit-dirty").unbind(),t(n).off(".fancytree-edit"),l.save?(r.setTitle(o(i)),r.setFocus()):l.isNew?(r.remove(),r=l.node=null,a.relatedNode.setFocus()):(r.renderTitle(),r.setFocus()),a.eventData=null,a.currentNode=null,a.relatedNode=null,s.widget._bind(),t(s.$container).focus(),l.input=null,
c.close.call(r,{type:"close"},l),!0))},t.ui.fancytree._FancytreeNodeClass.prototype.editCreateNode=function(e,n){var i,o=this.tree,r=this;return e=e||"child",null==n?n={title:""}:"string"==typeof n?n={title:n}:t.ui.fancytree.assert(t.isPlainObject(n)),"child"!==e||this.isExpanded()||this.hasChildren()===!1?(i=this.addNode(n,e),void i.makeVisible().done(function(){t(i[o.statusClassPropName]).addClass("fancytree-edit-new"),r.tree.ext.edit.relatedNode=r,i.editStart()})):void this.setExpanded().done(function(){r.editCreateNode(e,n)})},t.ui.fancytree._FancytreeClass.prototype.isEditing=function(){return this.ext.edit.currentNode},t.ui.fancytree._FancytreeNodeClass.prototype.isEditing=function(){return this.tree.ext.edit.currentNode===this},t.ui.fancytree.registerExtension({name:"edit",version:"0.2.0",options:{adjustWidthOfs:4,allowEmpty:!1,inputCss:{minWidth:"3em"},triggerCancel:["esc","tab","click"],triggerStart:["f2","shift+click","mac+enter"],trim:!0,beforeClose:t.noop,beforeEdit:t.noop,close:t.noop,edit:t.noop,save:t.noop},currentNode:null,treeInit:function(){this._superApply(arguments),this.$container.addClass("fancytree-ext-edit")},nodeClick:function(e){return t.inArray("shift+click",e.options.edit.triggerStart)>=0&&e.originalEvent.shiftKey?(e.node.editStart(),!1):this._superApply(arguments)},nodeDblclick:function(e){return t.inArray("dblclick",e.options.edit.triggerStart)>=0?(e.node.editStart(),!1):this._superApply(arguments)},nodeKeydown:function(e){switch(e.originalEvent.which){case 113:if(t.inArray("f2",e.options.edit.triggerStart)>=0)return e.node.editStart(),!1;break;case t.ui.keyCode.ENTER:if(t.inArray("mac+enter",e.options.edit.triggerStart)>=0&&i)return e.node.editStart(),!1}return this._superApply(arguments)}})}(jQuery,window,document),!function(t){"use strict";function e(t){return(t+"").replace(/([.?*+\^\$\[\]\\(){}|-])/g,"\\$1")}t.ui.fancytree._FancytreeClass.prototype._applyFilterImpl=function(t,n,i){var o,r,s,a=0,l="hide"===this.options.filter.mode;return i=i||{},o=!!i.leavesOnly&&!n,"string"==typeof t&&(r=e(t),s=new RegExp(".*"+r+".*","i"),t=function(t){return!!s.exec(t.title)}),this.enableFilter=!0,this.lastFilterArgs=arguments,this.$div.addClass("fancytree-ext-filter"),this.$div.addClass(l?"fancytree-ext-filter-hide":"fancytree-ext-filter-dimm"),this.visit(function(t){delete t.match,t.subMatchCount=0}),this.visit(function(e){return o&&null!=e.children||!t(e)||(a++,e.match=!0,e.visitParents(function(t){t.subMatchCount+=1,i.autoExpand&&!t.expanded&&(t.setExpanded(!0,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),t._filterAutoExpanded=!0)}),!n)?void 0:(e.visit(function(t){t.match=!0}),"skip")}),this.render(),a},t.ui.fancytree._FancytreeClass.prototype.filterNodes=function(t,e){return"boolean"==typeof e&&(e={leavesOnly:e},this.warn("Fancytree.filterNodes() leavesOnly option is deprecated since 2015-04-20.")),this._applyFilterImpl(t,!1,e)},t.ui.fancytree._FancytreeClass.prototype.applyFilter=function(){return this.warn("Fancytree.applyFilter() is deprecated since 2014-05-10. Use .filterNodes() instead."),this.filterNodes.apply(this,arguments)},t.ui.fancytree._FancytreeClass.prototype.filterBranches=function(t,e){return this._applyFilterImpl(t,!0,e)},t.ui.fancytree._FancytreeClass.prototype.clearFilter=function(){this.visit(function(t){delete t.match,delete t.subMatchCount,t.$subMatchBadge&&(t.$subMatchBadge.remove(),delete t.$subMatchBadge),t._filterAutoExpanded&&t.expanded&&t.setExpanded(!1,{noAnimation:!0,noEvents:!0,scrollIntoView:!1}),delete t._filterAutoExpanded}),this.enableFilter=!1,this.lastFilterArgs=null,this.$div.removeClass("fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide"),this.render()},t.ui.fancytree.registerExtension({name:"filter",version:"0.5.0",options:{autoApply:!0,counter:!0,hideExpandedCounter:!0,mode:"dimm"},nodeLoadChildren:function(t){return this._superApply(arguments).done(function(){t.tree.enableFilter&&t.tree.lastFilterArgs&&t.options.filter.autoApply&&t.tree._applyFilterImpl.apply(t.tree,t.tree.lastFilterArgs)})},nodeSetExpanded:function(t,e){return delete t.node._filterAutoExpanded,!e&&t.options.filter.hideExpandedCounter&&t.node.$subMatchBadge&&t.node.$subMatchBadge.show(),this._superApply(arguments)},nodeRenderStatus:function(e){var n,i=e.node,o=e.tree,r=e.options.filter,s=t(i[o.statusClassPropName]);return n=this._superApply(arguments),s.length&&o.enableFilter?(s.toggleClass("fancytree-match",!!i.match).toggleClass("fancytree-submatch",!!i.subMatchCount).toggleClass("fancytree-hide",!(i.match||i.subMatchCount)),!r.counter||!i.subMatchCount||i.isExpanded()&&r.hideExpandedCounter?i.$subMatchBadge&&i.$subMatchBadge.hide():(i.$subMatchBadge||(i.$subMatchBadge=t("<span class='fancytree-childcounter'/>"),t("span.fancytree-icon",i.span).append(i.$subMatchBadge)),i.$subMatchBadge.show().text(i.subMatchCount)),n):n}})}(jQuery,window,document),!function(t){"use strict";function e(t,e){return t.map[e]}t.ui.fancytree.registerExtension({name:"glyph",version:"0.2.0",options:{map:{checkbox:"icon-check-empty",checkboxSelected:"icon-check",checkboxUnknown:"icon-check icon-muted",error:"icon-exclamation-sign",expanderClosed:"icon-caret-right",expanderLazy:"icon-angle-right",expanderOpen:"icon-caret-down",noExpander:"",dragHelper:"icon-caret-right",dropMarker:"icon-caret-right",doc:"icon-file-alt",docOpen:"icon-file-alt",loading:"icon-refresh icon-spin",folder:"icon-folder-close-alt",folderOpen:"icon-folder-open-alt"}},treeInit:function(t){var e=t.tree;this._superApply(arguments),e.$container.addClass("fancytree-ext-glyph")},nodeRenderStatus:function(n){var i,o,r=n.node,s=t(r.span),a=n.options.glyph,l=a.map;this._superApply(arguments),r.isRoot()||(o=s.children("span.fancytree-expander").get(0),o&&(i=r.isLoading()?"loading":r.expanded?"expanderOpen":r.isUndefined()?"expanderLazy":r.hasChildren()?"expanderClosed":"noExpander",o.className="fancytree-expander "+l[i]),o=r.tr?t("td",r.tr).find("span.fancytree-checkbox").get(0):s.children("span.fancytree-checkbox").get(0),o&&(i=r.selected?"checkboxSelected":r.partsel?"checkboxUnknown":"checkbox",o.className="fancytree-checkbox "+l[i]),o=s.children("span.fancytree-icon").get(0),o&&(i=r.folder?r.expanded?e(a,"folderOpen"):e(a,"folder"):r.expanded?e(a,"docOpen"):e(a,"doc"),o.className="fancytree-icon "+i))},nodeSetStatus:function(n,i){var o,r=n.options.glyph,s=n.node;this._superApply(arguments),o=s.parent?t("span.fancytree-expander",s.span).get(0):t(".fancytree-statusnode-wait, .fancytree-statusnode-error",s[this.nodeContainerAttrName]).find("span.fancytree-expander").get(0),"loading"===i?o.className="fancytree-expander "+e(r,"loading"):"error"===i&&(o.className="fancytree-expander "+e(r,"error"))}})}(jQuery,window,document),!function(t){"use strict";function e(e,n){var i,o=n.get(0),r=0;return e.children().each(function(){return this!==o&&(i=t(this).prop("colspan"),void(r+=i?i:1))}),r}function n(e,n){var i,o=null,r=0;return e.children().each(function(){return r>=n?(o=t(this),!1):(i=t(this).prop("colspan"),void(r+=i?i:1))}),o}function i(t,i){var r,s,a=t.closest("td"),l=null;switch(i){case o.LEFT:l=a.prev();break;case o.RIGHT:l=a.next();break;case o.UP:case o.DOWN:for(r=a.parent(),s=e(r,a);(r=i===o.UP?r.prev():r.next(),r.length)&&(r.is(":hidden")||(l=n(r,s),!l||!l.find(":input").length)););}return l}var o=t.ui.keyCode,r={text:[o.UP,o.DOWN],checkbox:[o.UP,o.DOWN,o.LEFT,o.RIGHT],radiobutton:[o.UP,o.DOWN,o.LEFT,o.RIGHT],"select-one":[o.LEFT,o.RIGHT],"select-multiple":[o.LEFT,o.RIGHT]};t.ui.fancytree.registerExtension({name:"gridnav",version:"0.0.1",options:{autofocusInput:!1,handleCursorKeys:!0},treeInit:function(e){this._requireExtension("table",!0,!0),this._superApply(arguments),this.$container.addClass("fancytree-ext-gridnav"),this.$container.on("focusin",function(n){var i,o=t.ui.fancytree.getNode(n.target);o&&!o.isActive()&&(i=e.tree._makeHookContext(o,n),e.tree._callHook("nodeSetActive",i,!0))})},nodeSetActive:function(e,n){var i,o=e.options.gridnav,r=e.node,s=e.originalEvent||{},a=t(s.target).is(":input");n=n!==!1,this._superApply(arguments),n&&(e.options.titlesTabbable?(a||(t(r.span).find("span.fancytree-title").focus(),r.setFocus()),e.tree.$container.attr("tabindex","-1")):o.autofocusInput&&!a&&(i=t(r.tr||r.span),i.find(":input:enabled:first").focus()))},nodeKeydown:function(e){var n,o,s,a=e.options.gridnav,l=e.originalEvent,c=t(l.target);return n=c.is(":input:enabled")?c.prop("type"):null,n&&a.handleCursorKeys?(o=r[n],!(o&&t.inArray(l.which,o)>=0&&(s=i(c,l.which),s&&s.length))||(s.find(":input:enabled").focus(),!1)):this._superApply(arguments)}})}(jQuery,window,document),!function(t,e,n,i){"use strict";function o(e,n,i,r,s){var a,l,c,h,d=!1,p=[],f=[];for(i=i||[],s=s||t.Deferred(),a=0,c=i.length;c>a;a++)l=i[a],h=e.getNodeByKey(l),h?r&&h.isUndefined()?(d=!0,e.debug("_loadLazyNodes: "+h+" is lazy: loading..."),p.push("expand"===r?h.setExpanded():h.load())):(e.debug("_loadLazyNodes: "+h+" already loaded."),h.setExpanded()):(f.push(l),e.debug("_loadLazyNodes: "+h+" was not yet found."));return t.when.apply(t,p).always(function(){if(d&&f.length>0)o(e,n,f,r,s);else{if(f.length)for(e.warn("_loadLazyNodes: could not load those keys: ",f),a=0,c=f.length;c>a;a++)l=i[a],n._appendKey(u,i[a],!1);s.resolve()}}),s}var r,s,a,l=t.ui.fancytree.assert,c="active",u="expanded",h="focus",d="selected";"function"==typeof Cookies?(a=Cookies.set,r=Cookies.get,s=Cookies.remove):(a=r=t.cookie,s=t.removeCookie),t.ui.fancytree._FancytreeClass.prototype.clearCookies=function(t){var e=this.ext.persist,n=e.cookiePrefix;t=t||"active expanded focus selected",t.indexOf(c)>=0&&e._data(n+c,null),t.indexOf(u)>=0&&e._data(n+u,null),t.indexOf(h)>=0&&e._data(n+h,null),t.indexOf(d)>=0&&e._data(n+d,null)},t.ui.fancytree._FancytreeClass.prototype.getPersistData=function(){var t=this.ext.persist,e=t.cookiePrefix,n=t.cookieDelimiter,i={};return i[c]=t._data(e+c),i[u]=(t._data(e+u)||"").split(n),i[d]=(t._data(e+d)||"").split(n),i[h]=t._data(e+h),i},t.ui.fancytree.registerExtension({name:"persist",version:"0.3.0",options:{cookieDelimiter:"~",cookiePrefix:i,cookie:{raw:!1,expires:"",path:"",domain:"",secure:!1},expandLazy:!1,overrideSource:!0,store:"auto",types:"active expanded focus selected"},_data:function(t,e){var n=this._local.localStorage;return e===i?n?n.getItem(t):r(t):void(null===e?n?n.removeItem(t):s(t):n?n.setItem(t,e):a(t,e,this.options.persist.cookie))},_appendKey:function(e,n,i){n=""+n;var o=this._local,r=this.options.persist,s=r.cookieDelimiter,a=o.cookiePrefix+e,l=o._data(a),c=l?l.split(s):[],u=t.inArray(n,c);u>=0&&c.splice(u,1),i&&c.push(n),o._data(a,c.join(s))},treeInit:function(n){var s=n.tree,a=n.options,p=this._local,f=this.options.persist;return l("localStore"===f.store||r,"Missing required plugin for 'persist' extension: js.cookie.js or jquery.cookie.js"),p.cookiePrefix=f.cookiePrefix||"fancytree-"+s._id+"-",p.storeActive=f.types.indexOf(c)>=0,p.storeExpanded=f.types.indexOf(u)>=0,p.storeSelected=f.types.indexOf(d)>=0,p.storeFocus=f.types.indexOf(h)>=0,p.localStorage="cookie"!==f.store&&e.localStorage?"local"===f.store?e.localStorage:e.sessionStorage:null,s.$div.bind("fancytreeinit",function(){var e,n,r,l,m,g=p._data(p.cookiePrefix+h);e=p._data(p.cookiePrefix+u),l=e&&e.split(f.cookieDelimiter),n=p.storeExpanded?o(s,p,l,!!f.expandLazy&&"expand",null):(new t.Deferred).resolve(),n.done(function(){if(p.storeSelected){if(e=p._data(p.cookiePrefix+d))for(l=e.split(f.cookieDelimiter),r=0;r<l.length;r++)m=s.getNodeByKey(l[r]),m?(m.selected===i||f.overrideSource&&m.selected===!1)&&(m.selected=!0,m.renderStatus()):p._appendKey(d,l[r],!1);3===s.options.selectMode&&s.visit(function(t){return t.selected?(t.fixSelection3AfterClick(),"skip"):void 0})}p.storeActive&&(e=p._data(p.cookiePrefix+c),!e||!a.persist.overrideSource&&s.activeNode||(m=s.getNodeByKey(e),m&&(m.debug("persist: set active",e),m.setActive(!0,{noFocus:!0})))),p.storeFocus&&g&&(m=s.getNodeByKey(g),m&&(s.options.titlesTabbable?t(m.span).find(".fancytree-title").focus():t(s.$container).focus())),s._triggerTreeEvent("restore",null,{})})}),this._superApply(arguments)},nodeSetActive:function(t,e){var n,i=this._local;return e=e!==!1,n=this._superApply(arguments),i.storeActive&&i._data(i.cookiePrefix+c,this.activeNode?this.activeNode.key:null),n},nodeSetExpanded:function(t,e){var n,i=t.node,o=this._local;return e=e!==!1,n=this._superApply(arguments),o.storeExpanded&&o._appendKey(u,i.key,e),n},nodeSetFocus:function(t,e){var n,i=this._local;return e=e!==!1,n=this._superApply(arguments),i.storeFocus&&i._data(i.cookiePrefix+h,this.focusNode?this.focusNode.key:null),n},nodeSetSelected:function(e,n){var i,o,r=e.tree,s=e.node,a=this._local;return n=n!==!1,i=this._superApply(arguments),a.storeSelected&&(3===r.options.selectMode?(o=t.map(r.getSelectedNodes(!0),function(t){return t.key}),o=o.join(e.options.persist.cookieDelimiter),a._data(a.cookiePrefix+d,o)):a._appendKey(d,s.key,n)),i}})}(jQuery,window,document),!function(t,e,n){"use strict";function i(e,n){n=n||"",e||t.error("Assertion failed "+n)}function o(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function r(t,e){t.visit(function(t){var n=t.tr;return n&&(n.style.display=t.hide||!e?"none":""),t.expanded?void 0:"skip"})}function s(e){var n,o,r,s=e.parent,a=s?s.children:null;if(a&&a.length>1&&a[0]!==e)for(n=t.inArray(e,a),r=a[n-1],i(r.tr);r.children&&(o=r.children[r.children.length-1],o.tr);)r=o;else r=s;return r}t.ui.fancytree.registerExtension({name:"table",version:"0.2.1",options:{checkboxColumnIdx:null,customStatus:!1,indentation:16,nodeColumnIdx:0},treeInit:function(e){var i,o,r,s=e.tree,a=s.widget.element;for(a.addClass("fancytree-container fancytree-ext-table"),s.tbody=a.find("> tbody")[0],s.columnCount=t("thead >tr >th",a).length,t(s.tbody).empty(),s.rowFragment=n.createDocumentFragment(),o=t("<tr />"),r="",e.options.aria&&(o.attr("role","row"),r=" role='gridcell'"),i=0;i<s.columnCount;i++)o.append(e.options.table.nodeColumnIdx===i?"<td"+r+"><span class='fancytree-node' /></td>":"<td"+r+" />");s.rowFragment.appendChild(o.get(0)),s.statusClassPropName="tr",s.ariaPropName="tr",this.nodeContainerAttrName="tr",this._superApply(arguments),t(s.rootNode.ul).remove(),s.rootNode.ul=null,s.$container=a,this.$container.attr("tabindex",this.options.tabbable?"0":"-1"),this.options.aria&&s.$container.attr("role","treegrid").attr("aria-readonly",!0)},nodeRemoveChildMarkup:function(e){var n=e.node;n.visit(function(e){e.tr&&(t(e.tr).remove(),e.tr=null)})},nodeRemoveMarkup:function(e){var n=e.node;n.tr&&(t(n.tr).remove(),n.tr=null),this.nodeRemoveChildMarkup(e)},nodeRender:function(e,n,a,l,c){var u,h,d,p,f,m,g,v,y=e.tree,b=e.node,w=e.options,x=!b.parent;if(c||(e.hasCollapsedParents=b.parent&&!b.parent.expanded),!x)if(b.tr)n?this.nodeRenderTitle(e):this.nodeRenderStatus(e);else{if(e.hasCollapsedParents&&!a)return void b.debug("nodeRender ignored due to unrendered parent");f=y.rowFragment.firstChild.cloneNode(!0),m=s(b),i(m),l===!0&&c?f.style.display="none":a&&e.hasCollapsedParents&&(f.style.display="none"),m.tr?o(m.tr,f):(i(!m.parent,"prev. row must have a tr, or is system root"),y.tbody.appendChild(f)),b.tr=f,b.key&&w.generateIds&&(b.tr.id=w.idPrefix+b.key),b.tr.ftnode=b,w.aria&&t(b.tr).attr("aria-labelledby","ftal_"+b.key),b.span=t("span.fancytree-node",b.tr).get(0),this.nodeRenderTitle(e),w.createNode&&w.createNode.call(y,{type:"createNode"},e)}if(w.renderNode&&w.renderNode.call(y,{type:"renderNode"},e),u=b.children,u&&(x||a||b.expanded))for(d=0,p=u.length;p>d;d++)v=t.extend({},e,{node:u[d]}),v.hasCollapsedParents=v.hasCollapsedParents||!b.expanded,this.nodeRender(v,n,a,l,!0);u&&!c&&(g=b.tr||null,h=y.tbody.firstChild,b.visit(function(t){if(t.tr){if(t.parent.expanded||"none"===t.tr.style.display||(t.tr.style.display="none",r(t,!1)),t.tr.previousSibling!==g){b.debug("_fixOrder: mismatch at node: "+t);var e=g?g.nextSibling:h;y.tbody.insertBefore(t.tr,e)}g=t.tr}}))},nodeRenderTitle:function(e){var n,i=e.node,o=e.options;this._superApply(arguments),o.checkbox&&null!=o.table.checkboxColumnIdx&&(n=t("span.fancytree-checkbox",i.span).detach(),t(i.tr).find("td").eq(+o.table.checkboxColumnIdx).html(n)),i.isRoot()||this.nodeRenderStatus(e),!o.table.customStatus&&i.isStatusNode()||o.renderColumns&&o.renderColumns.call(e.tree,{type:"renderColumns"},e)},nodeRenderStatus:function(e){var n,i=e.node,o=e.options;this._superApply(arguments),t(i.tr).removeClass("fancytree-node"),n=(i.getLevel()-1)*o.table.indentation,t(i.span).css({paddingLeft:n+"px"})},nodeSetExpanded:function(e,n,i){function o(t){n=n!==!1,r(e.node,n),t?n&&e.options.autoScroll&&!i.noAnimation&&e.node.hasChildren()?e.node.getLastChild().scrollIntoView(!0,{topNode:e.node}).always(function(){i.noEvents||e.tree._triggerNodeEvent(n?"expand":"collapse",e),s.resolveWith(e.node)}):(i.noEvents||e.tree._triggerNodeEvent(n?"expand":"collapse",e),s.resolveWith(e.node)):(i.noEvents||e.tree._triggerNodeEvent(n?"expand":"collapse",e),s.rejectWith(e.node))}var s=new t.Deferred,a=t.extend({},i,{noEvents:!0,noAnimation:!0});return i=i||{},this._super(e,n,a).done(function(){o(!0)}).fail(function(){o(!1)}),s.promise()},nodeSetStatus:function(e,n){if("ok"===n){var i=e.node,o=i.children?i.children[0]:null;o&&o.isStatusNode()&&t(o.tr).remove()}return this._superApply(arguments)},treeClear:function(){return this.nodeRemoveChildMarkup(this._makeHookContext(this.rootNode)),this._superApply(arguments)},treeDestroy:function(){this.$container.find("tbody").empty(),this.$source&&this.$source.removeClass("ui-helper-hidden")}})}(jQuery,window,document),!function(t){"use strict";t.ui.fancytree.registerExtension({name:"themeroller",version:"0.0.1",options:{activeClass:"ui-state-active",foccusClass:"ui-state-focus",hoverClass:"ui-state-hover",selectedClass:"ui-state-highlight"},treeInit:function(e){this._superApply(arguments);var n=e.widget.element;"TABLE"===n[0].nodeName?(n.addClass("ui-widget ui-corner-all"),n.find(">thead tr").addClass("ui-widget-header"),n.find(">tbody").addClass("ui-widget-conent")):n.addClass("ui-widget ui-widget-content ui-corner-all"),n.delegate(".fancytree-node","mouseenter mouseleave",function(e){var n=t.ui.fancytree.getNode(e.target),i="mouseenter"===e.type;n.debug("hover: "+i),t(n.tr?n.tr:n.span).toggleClass("ui-state-hover ui-corner-all",i)})},treeDestroy:function(t){this._superApply(arguments),t.widget.element.removeClass("ui-widget ui-widget-content ui-corner-all")},nodeRenderStatus:function(e){var n=e.node,i=t(n.tr?n.tr:n.span);this._superApply(arguments),i.toggleClass("ui-state-active",n.isActive()),i.toggleClass("ui-state-focus",n.hasFocus()),i.toggleClass("ui-state-highlight",n.isSelected())}})}(jQuery,window,document),!function(t){"use strict";function e(e,n){e="fancytree-style-"+e;var i=t("#"+e);if(!n)return i.remove(),null;i.length||(i=t("<style />").attr("id",e).addClass("fancytree-style").prop("type","text/css").appendTo("head"));try{i.html(n)}catch(o){i[0].styleSheet.cssText=n}return i}function n(t,e,n,i,o){var r,s="#"+t+" span.fancytree-level-",a=[];for(r=0;e>r;r++)a.push(s+(r+1)+" span.fancytree-title { padding-left: "+(r*n+i)+o+"; }");return a.push("#"+t+" div.ui-effects-wrapper ul li span.fancytree-title { padding-left: 3px; position: static; width: auto; }"),a.join("\n")}var i=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;t.ui.fancytree.registerExtension({name:"wide",version:"0.0.3",options:{iconWidth:null,iconSpacing:null,levelOfs:null},treeCreate:function(o){this._superApply(arguments),this.$container.addClass("fancytree-ext-wide");var r,s,a,l,c,u=o.options.wide,h=t("<li id='fancytreeTemp'><span class='fancytree-node'><span class='fancytree-icon' /><span class='fancytree-title' /></span><ul />").appendTo(o.tree.$container),d=h.find(".fancytree-icon"),p=h.find("ul"),f=u.iconSpacing||d.css("margin-left"),m=u.iconWidth||d.css("width"),g=u.levelOfs||p.css("padding-left");h.remove(),a=f.match(i)[2],f=parseFloat(f,10),l=m.match(i)[2],m=parseFloat(m,10),c=g.match(i)[2],(a!==l||c!==l)&&t.error("iconWidth, iconSpacing, and levelOfs must have the same css measure unit"),this._local.measureUnit=l,this._local.levelOfs=parseFloat(g),this._local.lineOfs=(o.options.checkbox?3:2)*(m+f)+f,this._local.maxDepth=10,r=this.$container.uniqueId().attr("id"),s=n(r,this._local.maxDepth,this._local.levelOfs,this._local.lineOfs,this._local.measureUnit),e(r,s)},treeDestroy:function(){return e(this.$container.attr("id"),null),this._superApply(arguments)},nodeRenderStatus:function(i){var o,r,s,a=i.node,l=a.getLevel();return s=this._superApply(arguments),l>this._local.maxDepth&&(o=this.$container.attr("id"),this._local.maxDepth*=2,a.debug("Define global ext-wide css up to level "+this._local.maxDepth),r=n(o,this._local.maxDepth,this._local.levelOfs,this._local.lineOfs,this._local.measureUnit),e(o,r)),t(a.span).addClass("fancytree-level-"+l),s}})}(jQuery,window,document)}),function(t,e){"use strict";t.ui.fancytree._FancytreeClass.prototype.countSelected=function(t){var e=this;e.options;return e.getSelectedNodes(t).length},t.ui.fancytree._FancytreeNodeClass.prototype.toUpper=function(){var t=this;return t.setTitle(t.title.toUpperCase())},t.ui.fancytree.prototype.widgetMethod1=function(t){this.tree;return t},t.ui.fancytree.registerExtension({name:"childcounter",version:"1.0.0",options:{deep:!0,hideZeros:!0,hideExpanded:!1},foo:42,_appendCounter:function(t){},treeInit:function(t){t.options,t.options.childcounter;this._super(t),this.$container.addClass("fancytree-ext-childcounter")},treeDestroy:function(t){this._super(t)},nodeRenderTitle:function(e,n){var i=e.node,o=e.options.childcounter,r=null==i.data.childCounter?i.countChildren(o.deep):+i.data.childCounter;this._super(e,n),!r&&o.hideZeros||i.isExpanded()&&o.hideExpanded||t("span.fancytree-icon",i.span).parent().append(t("<span class='fancytree-childcounter'/>").text(r))},nodeSetExpanded:function(t,e,n){var i=t.tree;t.node;return this._super(t,e,n).always(function(){i.nodeRenderTitle(t)})}})}(jQuery),$(function(){function t(){var t=$(window).height()-$("body > .navbar").outerHeight()-$("body > .navbar + .navbar").outerHeight()-$("body > .navbar + .navbar-collapse").outerHeight();$(".page-container").attr("style","min-height:"+t+"px")}$(".panel-heading, .page-header-content, .panel-body").has("> .heading-elements").append('<a class="heading-elements-toggle"><i class="icon-menu"></i></a>'),$(".heading-elements-toggle").on("click",function(){$(this).parent().children(".heading-elements").toggleClass("visible")}),$(".breadcrumb-line").has(".breadcrumb-elements").append('<a class="breadcrumb-elements-toggle"><i class="icon-menu-open"></i></a>'),$(".breadcrumb-elements-toggle").on("click",function(){$(this).parent().children(".breadcrumb-elements").toggleClass("visible")}),$(document).on("click",".dropdown-content",function(t){t.stopPropagation()}),$(".navbar-nav .disabled a").on("click",function(t){t.preventDefault(),t.stopPropagation()}),$('.dropdown-content a[data-toggle="tab"]').on("click",function(t){$(this).tab("show")}),$(".panel [data-action=reload]").click(function(t){t.preventDefault();var e=$(this).parent().parent().parent().parent().parent();$(e).block({message:'<i class="icon-spinner2 spinner"></i>',overlayCSS:{backgroundColor:"#fff",opacity:.8,cursor:"wait","box-shadow":"0 0 0 1px #ddd"},css:{border:0,padding:0,backgroundColor:"none"}}),window.setTimeout(function(){$(e).unblock()},2e3)}),$(".category-title [data-action=reload]").click(function(t){t.preventDefault();var e=$(this).parent().parent().parent().parent();$(e).block({message:'<i class="icon-spinner2 spinner"></i>',overlayCSS:{backgroundColor:"#000",opacity:.5,cursor:"wait","box-shadow":"0 0 0 1px #000"},css:{border:0,padding:0,backgroundColor:"none",color:"#fff"}}),window.setTimeout(function(){$(e).unblock()},2e3)}),$(".sidebar-default .category-title [data-action=reload]").click(function(t){t.preventDefault();var e=$(this).parent().parent().parent().parent();$(e).block({message:'<i class="icon-spinner2 spinner"></i>',overlayCSS:{backgroundColor:"#fff",opacity:.8,cursor:"wait","box-shadow":"0 0 0 1px #ddd"},css:{border:0,padding:0,backgroundColor:"none"}}),window.setTimeout(function(){$(e).unblock()},2e3)}),$(".category-collapsed").children(".category-content").hide(),$(".category-collapsed").find("[data-action=collapse]").addClass("rotate-180"),$(".category-title [data-action=collapse]").click(function(e){e.preventDefault();var n=$(this).parent().parent().parent().nextAll();$(this).parents(".category-title").toggleClass("category-collapsed"),$(this).toggleClass("rotate-180"),t(),n.slideToggle(150)}),$(".panel-collapsed").children(".panel-heading").nextAll().hide(),$(".panel-collapsed").find("[data-action=collapse]").children("i").addClass("rotate-180"),$(".panel [data-action=collapse]").click(function(e){e.preventDefault();var n=$(this).parent().parent().parent().parent().nextAll();$(this).parents(".panel").toggleClass("panel-collapsed"),$(this).toggleClass("rotate-180"),t(),n.slideToggle(150)}),$(".panel [data-action=close]").click(function(e){e.preventDefault();var n=$(this).parent().parent().parent().parent().parent();t(),n.slideUp(150,function(){$(this).remove()})}),$(".category-title [data-action=close]").click(function(e){e.preventDefault();var n=$(this).parent().parent().parent().parent();t(),n.slideUp(150,function(){$(this).remove()})}),$(".navigation").find("li.active").parents("li").addClass("active"),$(".navigation").find("li").not(".active, .category-title").has("ul").children("ul").addClass("hidden-ul"),$(".navigation").find("li").has("ul").children("a").addClass("has-ul"),$(".dropdown-menu:not(.dropdown-content), .dropdown-menu:not(.dropdown-content) .dropdown-submenu").has("li.active").addClass("active").parents(".navbar-nav .dropdown:not(.language-switch), .navbar-nav .dropup:not(.language-switch)").addClass("active"),$(".navigation-main > .navigation-header > i").tooltip({placement:"right",container:"body"}),$(".navigation-main").find("li").has("ul").children("a").on("click",function(t){t.preventDefault(),$(this).parent("li").not(".disabled").not($(".sidebar-xs").not(".sidebar-xs-indicator").find(".navigation-main").children("li")).toggleClass("active").children("ul").slideToggle(250),$(".navigation-main").hasClass("navigation-accordion")&&$(this).parent("li").not(".disabled").not($(".sidebar-xs").not(".sidebar-xs-indicator").find(".navigation-main").children("li")).siblings(":has(.has-ul)").removeClass("active").children("ul").slideUp(250)}),$(".navigation-alt").find("li").has("ul").children("a").on("click",function(t){t.preventDefault(),$(this).parent("li").not(".disabled").toggleClass("active").children("ul").slideToggle(200),$(".navigation-alt").hasClass("navigation-accordion")&&$(this).parent("li").not(".disabled").siblings(":has(.has-ul)").removeClass("active").children("ul").slideUp(200)}),$(".sidebar-main-toggle").on("click",function(t){t.preventDefault(),$("body").toggleClass("sidebar-xs")}),$(document).on("click",".navigation .disabled a",function(t){t.preventDefault()}),$(document).on("click",".sidebar-control",function(e){t()}),$(document).on("click",".sidebar-main-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-main-hidden")}),$(document).on("click",".sidebar-secondary-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-secondary-hidden")}),$(document).on("click",".sidebar-detached-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-detached-hidden")}),$(document).on("click",".sidebar-all-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-all-hidden")}),$(document).on("click",".sidebar-opposite-toggle",function(t){t.preventDefault(),$("body").toggleClass("sidebar-opposite-visible"),$("body").hasClass("sidebar-opposite-visible")?($("body").addClass("sidebar-xs"),$(".navigation-main").children("li").children("ul").css("display","")):$("body").removeClass("sidebar-xs")}),$(document).on("click",".sidebar-opposite-main-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-opposite-visible"),$("body").hasClass("sidebar-opposite-visible")?$("body").addClass("sidebar-main-hidden"):$("body").removeClass("sidebar-main-hidden")}),$(document).on("click",".sidebar-opposite-secondary-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-opposite-visible"),$("body").hasClass("sidebar-opposite-visible")?$("body").addClass("sidebar-secondary-hidden"):$("body").removeClass("sidebar-secondary-hidden")}),$(document).on("click",".sidebar-opposite-hide",function(t){t.preventDefault(),$("body").toggleClass("sidebar-all-hidden"),$("body").hasClass("sidebar-all-hidden")?($("body").addClass("sidebar-opposite-visible"),$(".navigation-main").children("li").children("ul").css("display","")):$("body").removeClass("sidebar-opposite-visible")}),$(document).on("click",".sidebar-opposite-fix",function(t){t.preventDefault(),$("body").toggleClass("sidebar-opposite-visible")}),$(".sidebar-mobile-main-toggle").on("click",function(t){t.preventDefault(),$("body").toggleClass("sidebar-mobile-main").removeClass("sidebar-mobile-secondary sidebar-mobile-opposite sidebar-mobile-detached")}),$(".sidebar-mobile-secondary-toggle").on("click",function(t){t.preventDefault(),$("body").toggleClass("sidebar-mobile-secondary").removeClass("sidebar-mobile-main sidebar-mobile-opposite sidebar-mobile-detached")}),$(".sidebar-mobile-opposite-toggle").on("click",function(t){t.preventDefault(),$("body").toggleClass("sidebar-mobile-opposite").removeClass("sidebar-mobile-main sidebar-mobile-secondary sidebar-mobile-detached")}),$(".sidebar-mobile-detached-toggle").on("click",function(t){t.preventDefault(),$("body").toggleClass("sidebar-mobile-detached").removeClass("sidebar-mobile-main sidebar-mobile-secondary sidebar-mobile-opposite")}),$(window).on("resize",function(){setTimeout(function(){t(),$(window).width()<=768?($("body").addClass("sidebar-xs-indicator"),$(".sidebar-opposite").insertBefore(".content-wrapper"),$(".sidebar-detached").insertBefore(".content-wrapper")):($("body").removeClass("sidebar-xs-indicator"),$(".sidebar-opposite").insertAfter(".content-wrapper"),$("body").removeClass("sidebar-mobile-main sidebar-mobile-secondary sidebar-mobile-detached sidebar-mobile-opposite"),$("body").hasClass("has-detached-left")?$(".sidebar-detached").insertBefore(".container-detached"):$("body").hasClass("has-detached-right")&&$(".sidebar-detached").insertAfter(".container-detached"))},100)}).resize(),$('[data-popup="popover"]').popover(),$('[data-popup="tooltip"]').tooltip()}),$(document).on("click",".popup_selector",function(t){t.preventDefault();var e=$(this).attr("data-inputid"),n="/elfinder/popup/",i=n+e;$.colorbox({href:i,fastIframe:!0,iframe:!0,width:"90%",height:"80%"})}),function(t,e,n){function i(n,i,o){var r=e.createElement(n);return i&&(r.id=J+i),o&&(r.style.cssText=o),t(r)}function o(){return n.innerHeight?n.innerHeight:t(n).height()}function r(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var i;return void 0===this.cache[e]&&(i=t(this.el).attr("data-cbox-"+e),void 0!==i?this.cache[e]=i:void 0!==n[e]?this.cache[e]=n[e]:void 0!==G[e]&&(this.cache[e]=G[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function s(t){var e=S.length,n=(Y+t)%e;return 0>n?e+n:n}function a(t,e){return Math.round((/%/.test(t)?("x"===e?D.width():o())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function u(t){"contains"in b[0]&&!b[0].contains(t.target)&&t.target!==y[0]&&(t.stopPropagation(),b.focus())}function h(t){h.str!==t&&(b.add(y).removeClass(h.str).addClass(t),h.str=t)}function d(e){Y=0,e&&e!==!1&&"nofollow"!==e?(S=t("."+tt).filter(function(){var n=t.data(this,Z),i=new r(this,n);return i.get("rel")===e}),Y=S.index(F.el),-1===Y&&(S=S.add(F.el),Y=S.length-1)):S=t(F.el)}function p(n){t(e).trigger(n),
at.triggerHandler(n)}function f(n){var o;if(!X){if(o=t(n).data(Z),F=new r(n,o),d(F.get("rel")),!B){B=q=!0,h(F.get("className")),b.css({visibility:"hidden",display:"block",opacity:""}),M=i(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(M),z=C.height()+T.height()+x.outerHeight(!0)-x.height(),j=k.width()+_.width()+x.outerWidth(!0)-x.width(),R=M.outerHeight(!0),W=M.outerWidth(!0);var s=a(F.get("initialWidth"),"x"),l=a(F.get("initialHeight"),"y"),c=F.get("maxWidth"),f=F.get("maxHeight");F.w=(c!==!1?Math.min(s,a(c,"x")):s)-W-j,F.h=(f!==!1?Math.min(l,a(f,"y")):l)-R-z,M.css({width:"",height:F.h}),K.position(),p(et),F.get("onOpen"),H.add(N).hide(),b.focus(),F.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",u,!0),at.one(rt,function(){e.removeEventListener("focus",u,!0)})),F.get("returnFocus")&&at.one(rt,function(){t(F.el).focus()})}var m=parseFloat(F.get("opacity"));y.css({opacity:m===m?m:"",cursor:F.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),F.get("closeButton")?$.html(F.get("close")).appendTo(x):$.appendTo("<div/>"),v()}}function m(){b||(Q=!1,D=t(n),b=i(lt).attr({id:Z,"class":t.support.opacity===!1?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=i(lt,"Overlay").hide(),E=t([i(lt,"LoadingOverlay")[0],i(lt,"LoadingGraphic")[0]]),w=i(lt,"Wrapper"),x=i(lt,"Content").append(N=i(lt,"Title"),O=i(lt,"Current"),L=t('<button type="button"/>').attr({id:J+"Previous"}),I=t('<button type="button"/>').attr({id:J+"Next"}),P=i("button","Slideshow"),E),$=t('<button type="button"/>').attr({id:J+"Close"}),w.append(i(lt).append(i(lt,"TopLeft"),C=i(lt,"TopCenter"),i(lt,"TopRight")),i(lt,!1,"clear:left").append(k=i(lt,"MiddleLeft"),x,_=i(lt,"MiddleRight")),i(lt,!1,"clear:left").append(i(lt,"BottomLeft"),T=i(lt,"BottomCenter"),i(lt,"BottomRight"))).find("div div").css({"float":"left"}),A=i(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),H=I.add(L).add(O).add(P)),e.body&&!b.parent().length&&t(e.body).append(y,b.append(w,A))}function g(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!b&&(Q||(Q=!0,I.click(function(){K.next()}),L.click(function(){K.prev()}),$.click(function(){K.close()}),y.click(function(){F.get("overlayClose")&&K.close()}),t(e).bind("keydown."+J,function(t){var e=t.keyCode;B&&F.get("escKey")&&27===e&&(t.preventDefault(),K.close()),B&&F.get("arrowKey")&&S[1]&&!t.altKey&&(37===e?(t.preventDefault(),L.click()):39===e&&(t.preventDefault(),I.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+J,"."+tt,n):t("."+tt).live("click."+J,n)),!0)}function v(){var e,o,r,s=K.prep,u=++ct;if(q=!0,U=!1,p(st),p(nt),F.get("onLoad"),F.h=F.get("height")?a(F.get("height"),"y")-R-z:F.get("innerHeight")&&a(F.get("innerHeight"),"y"),F.w=F.get("width")?a(F.get("width"),"x")-W-j:F.get("innerWidth")&&a(F.get("innerWidth"),"x"),F.mw=F.w,F.mh=F.h,F.get("maxWidth")&&(F.mw=a(F.get("maxWidth"),"x")-W-j,F.mw=F.w&&F.w<F.mw?F.w:F.mw),F.get("maxHeight")&&(F.mh=a(F.get("maxHeight"),"y")-R-z,F.mh=F.h&&F.h<F.mh?F.h:F.mh),e=F.get("href"),V=setTimeout(function(){E.show()},100),F.get("inline")){var h=t(e);r=t("<div>").hide().insertBefore(h),at.one(st,function(){r.replaceWith(h)}),s(h)}else F.get("iframe")?s(" "):F.get("html")?s(F.get("html")):l(F,e)?(e=c(F,e),U=new Image,t(U).addClass(J+"Photo").bind("error",function(){s(i(lt,"Error").html(F.get("imgError")))}).one("load",function(){u===ct&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,n){var i=t(F.el).attr(n)||t(F.el).attr("data-"+n);i&&U.setAttribute(n,i)}),F.get("retinaImage")&&n.devicePixelRatio>1&&(U.height=U.height/n.devicePixelRatio,U.width=U.width/n.devicePixelRatio),F.get("scalePhotos")&&(o=function(){U.height-=U.height*e,U.width-=U.width*e},F.mw&&U.width>F.mw&&(e=(U.width-F.mw)/U.width,o()),F.mh&&U.height>F.mh&&(e=(U.height-F.mh)/U.height,o())),F.h&&(U.style.marginTop=Math.max(F.mh-U.height,0)/2+"px"),S[1]&&(F.get("loop")||S[Y+1])&&(U.style.cursor="pointer",U.onclick=function(){K.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",s(U)},1)}),U.src=e):e&&A.load(e,F.get("data"),function(e,n){u===ct&&s("error"===n?i(lt,"Error").html(F.get("xhrError")):t(this).contents())})}var y,b,w,x,C,k,_,T,S,D,M,A,E,N,O,P,I,L,$,H,F,z,j,R,W,Y,U,B,q,X,V,K,Q,G={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},Z="colorbox",J="cbox",tt=J+"Element",et=J+"_open",nt=J+"_load",it=J+"_complete",ot=J+"_cleanup",rt=J+"_closed",st=J+"_purge",at=t("<a/>"),lt="div",ct=0,ut={},ht=function(){function t(){clearTimeout(s)}function e(){(F.get("loop")||S[Y+1])&&(t(),s=setTimeout(K.next,F.get("slideshowSpeed")))}function n(){P.html(F.get("slideshowStop")).unbind(l).one(l,i),at.bind(it,e).bind(nt,t),b.removeClass(a+"off").addClass(a+"on")}function i(){t(),at.unbind(it,e).unbind(nt,t),P.html(F.get("slideshowStart")).unbind(l).one(l,function(){K.next(),n()}),b.removeClass(a+"on").addClass(a+"off")}function o(){r=!1,P.hide(),t(),at.unbind(it,e).unbind(nt,t),b.removeClass(a+"off "+a+"on")}var r,s,a=J+"Slideshow_",l="click."+J;return function(){r?F.get("slideshow")||(at.unbind(ot,o),o()):F.get("slideshow")&&S[1]&&(r=!0,at.one(ot,o),F.get("slideshowAuto")?n():i(),P.show())}}();t[Z]||(t(m),K=t.fn[Z]=t[Z]=function(e,n){var i,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(m(),g()&&(n&&(e.onComplete=n),o.each(function(){var n=t.data(this,Z)||{};t.data(this,Z,t.extend(n,e))}).addClass(tt),i=new r(o[0],e),i.get("open")&&f(o[0])),o):o},K.position=function(e,n){function i(){C[0].style.width=T[0].style.width=x[0].style.width=parseInt(b[0].style.width,10)-j+"px",x[0].style.height=k[0].style.height=_[0].style.height=parseInt(b[0].style.height,10)-z+"px"}var r,s,l,c=0,u=0,h=b.offset();if(D.unbind("resize."+J),b.css({top:-9e4,left:-9e4}),s=D.scrollTop(),l=D.scrollLeft(),F.get("fixed")?(h.top-=s,h.left-=l,b.css({position:"fixed"})):(c=s,u=l,b.css({position:"absolute"})),u+=F.get("right")!==!1?Math.max(D.width()-F.w-W-j-a(F.get("right"),"x"),0):F.get("left")!==!1?a(F.get("left"),"x"):Math.round(Math.max(D.width()-F.w-W-j,0)/2),c+=F.get("bottom")!==!1?Math.max(o()-F.h-R-z-a(F.get("bottom"),"y"),0):F.get("top")!==!1?a(F.get("top"),"y"):Math.round(Math.max(o()-F.h-R-z,0)/2),b.css({top:h.top,left:h.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",r={width:F.w+W+j,height:F.h+R+z,top:c,left:u},e){var d=0;t.each(r,function(t){return r[t]!==ut[t]?void(d=e):void 0}),e=d}ut=r,e||b.css(r),b.dequeue().animate(r,{duration:e||0,complete:function(){i(),q=!1,w[0].style.width=F.w+W+j+"px",w[0].style.height=F.h+R+z+"px",F.get("reposition")&&setTimeout(function(){D.bind("resize."+J,K.position)},1),t.isFunction(n)&&n()},step:i})},K.resize=function(t){var e;B&&(t=t||{},t.width&&(F.w=a(t.width,"x")-W-j),t.innerWidth&&(F.w=a(t.innerWidth,"x")),M.css({width:F.w}),t.height&&(F.h=a(t.height,"y")-R-z),t.innerHeight&&(F.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=M.scrollTop(),M.css({height:"auto"}),F.h=M.height()),M.css({height:F.h}),e&&M.scrollTop(e),K.position("none"===F.get("transition")?0:F.get("speed")))},K.prep=function(n){function o(){return F.w=F.w||M.width(),F.w=F.mw&&F.mw<F.w?F.mw:F.w,F.w}function a(){return F.h=F.h||M.height(),F.h=F.mh&&F.mh<F.h?F.mh:F.h,F.h}if(B){var u,d="none"===F.get("transition")?0:F.get("speed");M.remove(),M=i(lt,"LoadedContent").append(n),M.hide().appendTo(A.show()).css({width:o(),overflow:F.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(x),A.hide(),t(U).css({"float":"none"}),h(F.get("className")),u=function(){function n(){t.support.opacity===!1&&b[0].style.removeAttribute("filter")}var i,o,a=S.length;B&&(o=function(){clearTimeout(V),E.hide(),p(it),F.get("onComplete")},N.html(F.get("title")).show(),M.show(),a>1?("string"==typeof F.get("current")&&O.html(F.get("current").replace("{current}",Y+1).replace("{total}",a)).show(),I[F.get("loop")||a-1>Y?"show":"hide"]().html(F.get("next")),L[F.get("loop")||Y?"show":"hide"]().html(F.get("previous")),ht(),F.get("preloading")&&t.each([s(-1),s(1)],function(){var n,i=S[this],o=new r(i,t.data(i,Z)),s=o.get("href");s&&l(o,s)&&(s=c(o,s),n=e.createElement("img"),n.src=s)})):H.hide(),F.get("iframe")?(i=e.createElement("iframe"),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),F.get("scrolling")||(i.scrolling="no"),t(i).attr({src:F.get("href"),name:(new Date).getTime(),"class":J+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(M),at.one(st,function(){i.src="//about:blank"}),F.get("fastIframe")&&t(i).trigger("load")):o(),"fade"===F.get("transition")?b.fadeTo(d,1,n):n())},"fade"===F.get("transition")?b.fadeTo(d,0,function(){K.position(0,u)}):K.position(d,u)}},K.next=function(){!q&&S[1]&&(F.get("loop")||S[Y+1])&&(Y=s(1),f(S[Y]))},K.prev=function(){!q&&S[1]&&(F.get("loop")||Y)&&(Y=s(-1),f(S[Y]))},K.close=function(){B&&!X&&(X=!0,B=!1,p(ot),F.get("onCleanup"),D.unbind("."+J),y.fadeTo(F.get("fadeOut")||0,0),b.stop().fadeTo(F.get("fadeOut")||0,0,function(){b.hide(),y.hide(),p(st),M.remove(),setTimeout(function(){X=!1,p(rt),F.get("onClosed")},1)}))},K.remove=function(){b&&(b.stop(),t[Z].close(),b.stop(!1,!0).remove(),y.remove(),X=!1,b=null,t("."+tt).removeData(Z).removeClass(tt),t(e).unbind("click."+J).unbind("keydown."+J))},K.element=function(){return t(F.el)},K.settings=G)}(jQuery,document,window),$(document).ready(function(){var t=function(t){var e=t.length?t:$(t.target),n=e.data("output");if(window.JSON){var i=window.JSON.stringify(e.nestable("serialize"));i.match(/\"id\"/)&&$.ajax({url:Main.getLangLink("/structure/rebuild"),method:"POST",data:{data:i},success:function(t){}})}else n.val("JSON browser support required for this demo.")};$("#nestable").nestable({group:1}).on("change",t)}),$(document).ready(function(){if(Array.prototype.forEach){var t=Array.prototype.slice.call(document.querySelectorAll(".switchery"));t.forEach(function(t){new Switchery(t)})}else for(var t=document.querySelectorAll(".switchery"),e=0;e<t.length;e++){new Switchery(t[e])}$(".change-lang-form").on("click",function(){var t=$(this).data("lang");$.ajax({type:"POST",url:"/"+t+"/language-form",data:{language:t},dataType:"json",success:function(t){Main.actionData(t)}})}),$(".select-multiple-tags").select2({tags:!0,ajax:{url:Main.getLangLink("/tags/search"),type:"POST",processResults:function(t){return{results:t,pagination:{more:!1}}}},createTag:function(t){return{id:t.term,text:t.term,tag:!0}}}).on("select2:select",function(t){if(0!=t.params.data.tag){var e=$(this);$.ajax({type:"POST",url:Main.getLangLink("/tags/new"),data:{name:t.params.data.text},dataType:"json",success:function(t){if(t){$('<option value="'+t.id+'">'+t.text+"</option>").appendTo(e);var n=e.val(),i=n.indexOf(t.text);i!==-1&&(n[i]=t.id.toString()),e.val(n).trigger("change")}}})}}),$(".select-multiple-keywords").select2({tags:!0,ajax:{url:Main.getLangLink("/tags/keywords"),type:"POST",processResults:function(t){return{results:t,pagination:{more:!1}}}},createTag:function(t){return{id:t.term,text:t.term,tag:!0}}}).on("select2:select",function(t){if(0!=t.params.data.tag){$(this);$.ajax({type:"POST",url:Main.getLangLink("/tags/new"),data:{name:t.params.data.text},dataType:"json",success:function(t){}})}}),"undefined"!=typeof $(".tree-default").html()&&$(".tree-default").fancytree({init:function(t,e){$(".has-tooltip .fancytree-title").tooltip()},click:function(t,e){var n=e.node;"undefined"!=typeof n.data.href&&(window.location.href=n.data.href)}}),$(".daterange-single").daterangepicker({singleDatePicker:!0}),$(".switchery-primary").each(function(){new Switchery(this,{color:"#2196F3"})}),$('[data-popup="lightbox"]').fancybox({padding:3}),$.fn.editable.defaults.highlight=!1,$.fn.editableform.template='<form class="editableform"><div class="control-group"><div class="editable-input"></div> <div class="editable-buttons"></div><div class="editable-error-block"></div></div> </form>',$.fn.editable.defaults.mode="popup",$.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-icon editable-submit"><i class="icon-check"></i></button><button type="button" class="btn btn-default btn-icon editable-cancel"><i class="icon-x"></i></button>';var n=document.querySelector(".enabled-editable");if(null!==n){new Switchery(n);n.onchange=function(){n.checked?$(".editable").editable("enable"):$(".editable").editable("disable")}}}),$(document).ready(function(){function t(t){var e=window.event?window.event.srcElement:t.currentTarget;$(e).addClass("modified")}function e(){for(var e=0;oCurrForm=document.forms[e];e++)for(var n=0;oCurrFormElem=oCurrForm.elements[n];n++)oCurrFormElem.getAttribute("cf")&&(oCurrFormElem.addEventListener?oCurrFormElem.addEventListener("change",t,!1):oCurrFormElem.attachEvent&&oCurrFormElem.attachEvent("onchange",t))}function n(){return $(document).find(".modified").length>0}"undefined"!=typeof CKEDITOR&&CKEDITOR.on("instanceReady",function(){$(document).find(".ckeditor").each(function(){var t=$(this).attr("id");$("#"+t).attr("cf")&&CKEDITOR.instances[t].on("change",function(){$("#"+t).addClass("modified")})})}),e(),$(window).bind("beforeunload",function(t){if(n())return"There is no saved data. Are you sure you want to leave the page?"}),$(".nav.nav-tabs a").click(function(t){if(!$(this).parent().hasClass("active")&&n())return t.preventDefault(),el=this,message="There is no saved data. Are you sure you want to leave the page?",confirm(message)&&($(document).find(".modified").each(function(){$(this).removeClass("modified")}),$(el).click()),!1})});var Main={init:function(){$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}}),$("input[type=text]").on("click",function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$("input[type=password]").on("click",function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$("textarea").on("click",function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$("select").on("click",function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$(".form-control-feedback").each(function(){$(this).hide()}),$(".control-primary").uniform({radioClass:"choice",wrapperClass:"border-primary-600 text-primary-800"}),$(".select").select2({minimumResultsForSearch:"-1"})},formSubmit:function(t){$(t).find(".ckeditor").each(function(){var t=$(this).attr("id");$(this).val(CKEDITOR.instances[t].getData())}),$(t).find("button[type=submit]").attr("disabled","disabled");var e=t.action;return $.ajax({type:"POST",url:e,data:$(t).serialize(),dataType:"json",success:function(e){Main.actionData(e,t)},error:function(e){Main.actionData(e.responseJSON,t)}}),!1},showNotifyMessage:function(t,e,n,i,o){n||(n="success"),new PNotify({title:t,text:e,icon:i,type:n,addclass:o})},showValidationMessage:function(t,e){$("input[type=text]").each(function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$("input[type=password]").each(function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$("textarea").each(function(){var t=this.name,e=$("#"+t+"-error");e.html(""),$(this).closest(".form-group").removeClass("has-error").removeClass("has-feedback"),$("#"+t+"-error-icon").hide()}),$(e).find("button[type=submit]").removeAttr("disabled","disabled"),$.each(t,function(t,e){var n=$("#"+t),i=$("#"+t+"-error");n.closest(".form-group").addClass("has-error").addClass("has-feedback"),$("#"+t+"-error-icon").show(),i.html(e)})},actionData:function(t,e){"undefined"!=typeof t.redirect?($(".modified").each(function(){$(this).removeClass("modified")}),""==t.redirect?window.location.reload():window.location=t.redirect):"undefined"!=typeof t.message?Main.showNotifyMessage(t.title,t.message,t.icon,t["class"]):Main.showValidationMessage(t,e)},getLangLink:function(t){var e=$("html").attr("lang");return e?"/"+e+t:t},hideModal:function(){bootbox.hideAll()}};$(document).ready(function(){Main.init()});